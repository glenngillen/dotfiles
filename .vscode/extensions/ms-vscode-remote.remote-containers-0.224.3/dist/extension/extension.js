/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var F3=Object.create;var vl=Object.defineProperty,M3=Object.defineProperties,q3=Object.getOwnPropertyDescriptor,$3=Object.getOwnPropertyDescriptors,j3=Object.getOwnPropertyNames,rS=Object.getOwnPropertySymbols,U3=Object.getPrototypeOf,nS=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable;var iS=(t,e,r)=>e in t?vl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W=(t,e)=>{for(var r in e||(e={}))nS.call(e,r)&&iS(t,r,e[r]);if(rS)for(var r of rS(e))B3.call(e,r)&&iS(t,r,e[r]);return t},oe=(t,e)=>M3(t,$3(e)),oS=t=>vl(t,"__esModule",{value:!0});var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),H3=(t,e)=>{oS(t);for(var r in e)vl(t,r,{get:e[r],enumerable:!0})},V3=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of j3(e))!nS.call(t,n)&&n!=="default"&&vl(t,n,{get:()=>e[n],enumerable:!(r=q3(e,n))||r.enumerable});return t},Y=t=>V3(oS(vl(t!=null?F3(U3(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Aa=I((yde,bS)=>{"use strict";var CS=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);bS.exports=t=>t?Object.keys(t).map(e=>[CS.has(e)?CS.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var _S=I((wde,ES)=>{"use strict";ES.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var El=I((Cde,SS)=>{"use strict";SS.exports=He;He.Node=bs;He.create=He;function He(t){var e=this;if(e instanceof He||(e=new He),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}He.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};He.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};He.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};He.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)rW(this,arguments[t]);return this.length};He.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)nW(this,arguments[t]);return this.length};He.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};He.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};He.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};He.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};He.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};He.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};He.prototype.map=function(t,e){e=e||this;for(var r=new He,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};He.prototype.mapReverse=function(t,e){e=e||this;for(var r=new He,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};He.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};He.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};He.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};He.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};He.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new He;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};He.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new He;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};He.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=tW(this,i,r[n]);return o};He.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function tW(t,e,r){var n=e===t.head?new bs(r,null,e,t):new bs(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function rW(t,e){t.tail=new bs(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function nW(t,e){t.head=new bs(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bs(t,e,r,n){if(!(this instanceof bs))return new bs(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{_S()(He)}catch{}});var Ta=I((bde,OS)=>{"use strict";var iW=require("events"),xS=require("stream"),_l=El(),PS=require("string_decoder").StringDecoder,xi=Symbol("EOF"),Sl=Symbol("maybeEmitEnd"),to=Symbol("emittedEnd"),cf=Symbol("emittingEnd"),lf=Symbol("closed"),kS=Symbol("read"),Sv=Symbol("flush"),IS=Symbol("flushChunk"),vr=Symbol("encoding"),Pi=Symbol("decoder"),uf=Symbol("flowing"),xl=Symbol("paused"),Pl=Symbol("resume"),fr=Symbol("bufferLength"),AS=Symbol("bufferPush"),xv=Symbol("bufferShift"),tr=Symbol("objectMode"),rr=Symbol("destroyed"),TS=global._MP_NO_ITERATOR_SYMBOLS_!=="1",oW=TS&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),sW=TS&&Symbol.iterator||Symbol("iterator not implemented"),DS=t=>t==="end"||t==="finish"||t==="prefinish",aW=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,cW=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);OS.exports=class RS extends xS{constructor(e){super();this[uf]=!1,this[xl]=!1,this.pipes=new _l,this.buffer=new _l,this[tr]=e&&e.objectMode||!1,this[tr]?this[vr]=null:this[vr]=e&&e.encoding||null,this[vr]==="buffer"&&(this[vr]=null),this[Pi]=this[vr]?new PS(this[vr]):null,this[xi]=!1,this[to]=!1,this[cf]=!1,this[lf]=!1,this.writable=!0,this.readable=!0,this[fr]=0,this[rr]=!1}get bufferLength(){return this[fr]}get encoding(){return this[vr]}set encoding(e){if(this[tr])throw new Error("cannot set encoding in objectMode");if(this[vr]&&e!==this[vr]&&(this[Pi]&&this[Pi].lastNeed||this[fr]))throw new Error("cannot change encoding");this[vr]!==e&&(this[Pi]=e?new PS(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Pi].write(r)))),this[vr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[tr]}set objectMode(e){this[tr]=this[tr]||!!e}write(e,r,n){if(this[xi])throw new Error("write after end");return this[rr]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[tr]&&!Buffer.isBuffer(e)&&(cW(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):aW(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),!this.objectMode&&!e.length?(this[fr]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof e=="string"&&!this[tr]&&!(r===this[vr]&&!this[Pi].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[vr]&&(e=this[Pi].write(e)),this.flowing?(this[fr]!==0&&this[Sv](!0),this.emit("data",e)):this[AS](e),this[fr]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(e){if(this[rr])return null;try{return this[fr]===0||e===0||e>this[fr]?null:(this[tr]&&(e=null),this.buffer.length>1&&!this[tr]&&(this.encoding?this.buffer=new _l([Array.from(this.buffer).join("")]):this.buffer=new _l([Buffer.concat(Array.from(this.buffer),this[fr])])),this[kS](e||null,this.buffer.head.value))}finally{this[Sl]()}}[kS](e,r){return e===r.length||e===null?this[xv]():(this.buffer.head.value=r.slice(e),r=r.slice(0,e),this[fr]-=e),this.emit("data",r),!this.buffer.length&&!this[xi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[xi]=!0,this.writable=!1,(this.flowing||!this[xl])&&this[Sl](),this}[Pl](){this[rr]||(this[xl]=!1,this[uf]=!0,this.emit("resume"),this.buffer.length?this[Sv]():this[xi]?this[Sl]():this.emit("drain"))}resume(){return this[Pl]()}pause(){this[uf]=!1,this[xl]=!0}get destroyed(){return this[rr]}get flowing(){return this[uf]}get paused(){return this[xl]}[AS](e){return this[tr]?this[fr]+=1:this[fr]+=e.length,this.buffer.push(e)}[xv](){return this.buffer.length&&(this[tr]?this[fr]-=1:this[fr]-=this.buffer.head.value.length),this.buffer.shift()}[Sv](e){do;while(this[IS](this[xv]()));!e&&!this.buffer.length&&!this[xi]&&this.emit("drain")}[IS](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[rr])return;let n=this[to];r=r||{},e===process.stdout||e===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:e,opts:r,ondrain:o=>this[Pl]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[Pl](),n&&i.opts.end&&i.dest.end(),e}addListener(e,r){return this.on(e,r)}on(e,r){try{return super.on(e,r)}finally{e==="data"&&!this.pipes.length&&!this.flowing?this[Pl]():DS(e)&&this[to]&&(super.emit(e),this.removeAllListeners(e))}}get emittedEnd(){return this[to]}[Sl](){!this[cf]&&!this[to]&&!this[rr]&&this.buffer.length===0&&this[xi]&&(this[cf]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[lf]&&this.emit("close"),this[cf]=!1)}emit(e,r){if(e!=="error"&&e!=="close"&&e!==rr&&this[rr])return;if(e==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(e==="end"){if(this[to]===!0)return;this[to]=!0,this.readable=!1,this[Pi]&&(r=this[Pi].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(e==="close"&&(this[lf]=!0,!this[to]&&!this[rr]))return;let n=new Array(arguments.length);if(n[0]=e,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{DS(e)?this.removeAllListeners(e):this[Sl]()}}collect(){let e=[];this[tr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[tr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[tr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[tr]?Promise.reject(new Error("cannot concat in objectMode")):this[vr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(rr,()=>r(new Error("stream destroyed"))),this.on("end",()=>e()),this.on("error",n=>r(n))})}[oW](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[xi])return Promise.resolve({done:!0});let n=null,i=null,o=l=>{this.removeListener("data",s),this.removeListener("end",a),i(l)},s=l=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[xi]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(rr,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[sW](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[rr]?(e?this.emit("error",e):this.emit(rr),this):(this[rr]=!0,this.buffer=new _l,this[fr]=0,typeof this.close=="function"&&!this[lf]&&this.close(),e?this.emit("error",e):this.emit(rr),this)}static isStream(e){return!!e&&(e instanceof RS||e instanceof xS||e instanceof iW&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var LS=I((Ede,NS)=>{var lW=require("zlib").constants||{ZLIB_VERNUM:4736};NS.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},lW))});var Nv=I(Or=>{"use strict";var Pv=require("assert"),ro=require("buffer").Buffer,FS=require("zlib"),Es=Or.constants=LS(),uW=Ta(),MS=ro.concat,_s=Symbol("_superWrite"),kl=class extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},dW=Symbol("opts"),Il=Symbol("flushFlag"),qS=Symbol("finishFlushFlag"),kv=Symbol("fullFlushFlag"),nt=Symbol("handle"),df=Symbol("onError"),Da=Symbol("sawError"),Iv=Symbol("level"),Av=Symbol("strategy"),Tv=Symbol("ended"),_de=Symbol("_defaultFullFlush"),Dv=class extends uW{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[Da]=!1,this[Tv]=!1,this[dW]=e,this[Il]=e.flush,this[qS]=e.finishFlush;try{this[nt]=new FS[r](e)}catch(n){throw new kl(n)}this[df]=n=>{this[Da]||(this[Da]=!0,this.close(),this.emit("error",n))},this[nt].on("error",n=>this[df](new kl(n))),this.once("end",()=>this.close)}close(){this[nt]&&(this[nt].close(),this[nt]=null,this.emit("close"))}reset(){if(!this[Da])return Pv(this[nt],"zlib binding closed"),this[nt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[kv]),this.write(Object.assign(ro.alloc(0),{[Il]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[qS]),this[Tv]=!0,super.end(null,null,n)}get ended(){return this[Tv]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=ro.from(e,r)),this[Da])return;Pv(this[nt],"zlib binding closed");let i=this[nt]._handle,o=i.close;i.close=()=>{};let s=this[nt].close;this[nt].close=()=>{},ro.concat=l=>l;let a;try{let l=typeof e[Il]=="number"?e[Il]:this[Il];a=this[nt]._processChunk(e,l),ro.concat=MS}catch(l){ro.concat=MS,this[df](new kl(l))}finally{this[nt]&&(this[nt]._handle=i,i.close=o,this[nt].close=s,this[nt].removeAllListeners("error"))}this[nt]&&this[nt].on("error",l=>this[df](new kl(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[_s](ro.from(a[0]));for(let l=1;l<a.length;l++)c=this[_s](a[l])}else c=this[_s](ro.from(a));return n&&n(),c}[_s](e){return super.write(e)}},no=class extends Dv{constructor(e,r){e=e||{},e.flush=e.flush||Es.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Es.Z_FINISH;super(e,r);this[kv]=Es.Z_FULL_FLUSH,this[Iv]=e.level,this[Av]=e.strategy}params(e,r){if(!this[Da]){if(!this[nt])throw new Error("cannot switch params when binding is closed");if(!this[nt].params)throw new Error("not supported in this implementation");if(this[Iv]!==e||this[Av]!==r){this.flush(Es.Z_SYNC_FLUSH),Pv(this[nt],"zlib binding closed");let n=this[nt].flush;this[nt].flush=(i,o)=>{this.flush(i),o()};try{this[nt].params(e,r)}finally{this[nt].flush=n}this[nt]&&(this[Iv]=e,this[Av]=r)}}}},$S=class extends no{constructor(e){super(e,"Deflate")}},jS=class extends no{constructor(e){super(e,"Inflate")}},Rv=Symbol("_portable"),US=class extends no{constructor(e){super(e,"Gzip");this[Rv]=e&&!!e.portable}[_s](e){return this[Rv]?(this[Rv]=!1,e[9]=255,super[_s](e)):super[_s](e)}},BS=class extends no{constructor(e){super(e,"Gunzip")}},HS=class extends no{constructor(e){super(e,"DeflateRaw")}},VS=class extends no{constructor(e){super(e,"InflateRaw")}},WS=class extends no{constructor(e){super(e,"Unzip")}},Ov=class extends Dv{constructor(e,r){e=e||{},e.flush=e.flush||Es.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Es.BROTLI_OPERATION_FINISH;super(e,r);this[kv]=Es.BROTLI_OPERATION_FLUSH}},GS=class extends Ov{constructor(e){super(e,"BrotliCompress")}},zS=class extends Ov{constructor(e){super(e,"BrotliDecompress")}};Or.Deflate=$S;Or.Inflate=jS;Or.Gzip=US;Or.Gunzip=BS;Or.DeflateRaw=HS;Or.InflateRaw=VS;Or.Unzip=WS;typeof FS.BrotliCompress=="function"?(Or.BrotliCompress=GS,Or.BrotliDecompress=zS):Or.BrotliCompress=Or.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Ra=I((xde,KS)=>{var fW=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;KS.exports=fW!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var ff=I((kde,YS)=>{"use strict";var pW=Ta(),Lv=Ra(),Fv=Symbol("slurp");YS.exports=class extends pW{constructor(e,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Lv(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Lv(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[Fv](r),n&&this[Fv](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Fv](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?Lv(e[n]):e[n])}}});var Mv=I(pf=>{"use strict";pf.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);pf.code=new Map(Array.from(pf.name).map(t=>[t[1],t[0]]))});var ZS=I((Ade,XS)=>{"use strict";var hW=(t,e)=>{if(Number.isSafeInteger(t))t<0?gW(t,e):mW(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},mW=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},gW=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=JS(i):i===0?e[n-1]=0:(r=!0,e[n-1]=QS(i))}},vW=t=>{let e=t[0],r=e===128?wW(t.slice(1,t.length)):e===255?yW(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},yW=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var o=t[i],s;n?s=JS(o):o===0?s=o:(n=!0,s=QS(o)),s!==0&&(r-=s*Math.pow(256,e-i-1))}return r},wW=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},JS=t=>(255^t)&255,QS=t=>(255^t)+1&255;XS.exports={encode:hW,parse:vW}});var Na=I((Tde,rx)=>{"use strict";var qv=Mv(),Oa=require("path").posix,ex=ZS(),$v=Symbol("slurp"),Nr=Symbol("type"),tx=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Nr]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Ss(e,r,100),this.mode=io(e,r+100,8),this.uid=io(e,r+108,8),this.gid=io(e,r+116,8),this.size=io(e,r+124,12),this.mtime=jv(e,r+136,12),this.cksum=io(e,r+148,12),this[$v](n),this[$v](i,!0),this[Nr]=Ss(e,r+156,1),this[Nr]===""&&(this[Nr]="0"),this[Nr]==="0"&&this.path.substr(-1)==="/"&&(this[Nr]="5"),this[Nr]==="5"&&(this.size=0),this.linkpath=Ss(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Ss(e,r+265,32),this.gname=Ss(e,r+297,32),this.devmaj=io(e,r+329,8),this.devmin=io(e,r+337,8),e[r+475]!==0){let s=Ss(e,r+345,155);this.path=s+"/"+this.path}else{let s=Ss(e,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=jv(e,r+476,12),this.ctime=jv(e,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=e[s];for(let s=r+156;s<r+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[$v](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=CW(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=xs(e,r,100,o)||this.needPax,this.needPax=oo(e,r+100,8,this.mode)||this.needPax,this.needPax=oo(e,r+108,8,this.uid)||this.needPax,this.needPax=oo(e,r+116,8,this.gid)||this.needPax,this.needPax=oo(e,r+124,12,this.size)||this.needPax,this.needPax=Uv(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Nr].charCodeAt(0),this.needPax=xs(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=xs(e,r+265,32,this.uname)||this.needPax,this.needPax=xs(e,r+297,32,this.gname)||this.needPax,this.needPax=oo(e,r+329,8,this.devmaj)||this.needPax,this.needPax=oo(e,r+337,8,this.devmin)||this.needPax,this.needPax=xs(e,r+345,n,s)||this.needPax,e[r+475]!==0?this.needPax=xs(e,r+345,155,s)||this.needPax:(this.needPax=xs(e,r+345,130,s)||this.needPax,this.needPax=Uv(e,r+476,12,this.atime)||this.needPax,this.needPax=Uv(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,oo(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return qv.name.get(this[Nr])||this[Nr]}get typeKey(){return this[Nr]}set type(e){qv.code.has(e)?this[Nr]=qv.code.get(e):this[Nr]=e}},CW=(t,e)=>{let r=100,n=t,i="",o,s=Oa.parse(t).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=Oa.dirname(n),n=Oa.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=e?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=e?o=[n.substr(0,r-1),i,!0]:(n=Oa.join(Oa.basename(i),n),i=Oa.dirname(i));while(i!==s&&!o);o||(o=[t.substr(0,r-1),"",!0])}return o},Ss=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),jv=(t,e,r)=>bW(io(t,e,r)),bW=t=>t===null?null:new Date(t*1e3),io=(t,e,r)=>t[e]&128?ex.parse(t.slice(e,e+r)):_W(t,e,r),EW=t=>isNaN(t)?null:t,_W=(t,e,r)=>EW(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),SW={12:8589934591,8:2097151},oo=(t,e,r,n)=>n===null?!1:n>SW[r]||n<0?(ex.encode(n,t.slice(e,e+r)),!0):(xW(t,e,r,n),!1),xW=(t,e,r,n)=>t.write(PW(n,r),e,r,"ascii"),PW=(t,e)=>kW(Math.floor(t).toString(8),e),kW=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Uv=(t,e,r,n)=>n===null?!1:oo(t,e,r,n.getTime()/1e3),IW=new Array(156).join("\0"),xs=(t,e,r,n)=>n===null?!1:(t.write(n+IW,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);rx.exports=tx});var mf=I((Dde,nx)=>{"use strict";var AW=Na(),TW=require("path"),hf=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new AW({path:("PaxHeader/"+TW.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};hf.parse=(t,e,r)=>new hf(DW(RW(t),e),r);var DW=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,RW=t=>t.replace(/\n$/,"").split(`
`).reduce(OW,Object.create(null)),OW=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.substr((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let o=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};nx.exports=hf});var La=I((Rde,ix)=>{ix.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var gf=I((Ode,ox)=>{"use strict";ox.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Hv=I((Nde,sx)=>{"use strict";var vf=["|","<",">","?",":"],Bv=vf.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),NW=new Map(vf.map((t,e)=>[t,Bv[e]])),LW=new Map(Bv.map((t,e)=>[t,vf[e]]));sx.exports={encode:t=>vf.reduce((e,r)=>e.split(r).join(NW.get(r)),t),decode:t=>Bv.reduce((e,r)=>e.split(r).join(LW.get(r)),t)}});var Vv=I((Lde,cx)=>{var{isAbsolute:FW,parse:ax}=require("path").win32;cx.exports=t=>{let e="",r=ax(t);for(;FW(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.substr(n.length),e+=n,r=ax(t)}return[e,t]}});var ux=I((Fde,lx)=>{"use strict";lx.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&~18),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Zv=I(($de,xx)=>{"use strict";var dx=Ta(),fx=mf(),px=Na(),zn=require("fs"),hx=require("path"),Kn=Ra(),MW=La(),mx=(t,e)=>e?(t=Kn(t).replace(/^\.(\/|$)/,""),MW(e)+"/"+t):Kn(t),qW=16*1024*1024,gx=Symbol("process"),vx=Symbol("file"),yx=Symbol("directory"),Wv=Symbol("symlink"),wx=Symbol("hardlink"),Al=Symbol("header"),yf=Symbol("read"),Gv=Symbol("lstat"),wf=Symbol("onlstat"),zv=Symbol("onread"),Kv=Symbol("onreadlink"),Yv=Symbol("openfile"),Jv=Symbol("onopenfile"),so=Symbol("close"),Cf=Symbol("mode"),Qv=Symbol("awaitDrain"),Xv=Symbol("ondrain"),Yn=Symbol("prefix"),Cx=Symbol("hadError"),bx=gf(),$W=Hv(),Ex=Vv(),_x=ux(),bf=bx(class extends dx{constructor(e,r){r=r||{};super(r);if(typeof e!="string")throw new TypeError("path is required");this.path=Kn(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||qW,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Kn(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Kn(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Ex(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=$W.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Kn(r.absolute||hx.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[wf](this.statCache.get(this.absolute)):this[Gv]()}emit(e,...r){return e==="error"&&(this[Cx]=!0),super.emit(e,...r)}[Gv](){zn.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[wf](r)})}[wf](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=UW(e),this.emit("stat",e),this[gx]()}[gx](){switch(this.type){case"File":return this[vx]();case"Directory":return this[yx]();case"SymbolicLink":return this[Wv]();default:return this.end()}}[Cf](e){return _x(e,this.type==="Directory",this.portable)}[Yn](e){return mx(e,this.prefix)}[Al](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new px({path:this[Yn](this.path),linkpath:this.type==="Link"?this[Yn](this.linkpath):this.linkpath,mode:this[Cf](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new fx({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Yn](this.path),linkpath:this.type==="Link"?this[Yn](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[yx](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Al](),this.end()}[Wv](){zn.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Kv](r)})}[Kv](e){this.linkpath=Kn(e),this[Al](),this.end()}[wx](e){this.type="Link",this.linkpath=Kn(hx.relative(this.cwd,e)),this.stat.size=0,this[Al](),this.end()}[vx](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[wx](r)}this.linkCache.set(e,this.absolute)}if(this[Al](),this.stat.size===0)return this.end();this[Yv]()}[Yv](){zn.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Jv](r)})}[Jv](e){if(this.fd=e,this[Cx])return this[so]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[yf]()}[yf](){let{fd:e,buf:r,offset:n,length:i,pos:o}=this;zn.read(e,r,n,i,o,(s,a)=>{if(s)return this[so](()=>this.emit("error",s));this[zv](a)})}[so](e){zn.close(this.fd,e)}[zv](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[so](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[so](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[Xv]():this[Qv](()=>this[Xv]())}[Qv](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Xv](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[so](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[yf]()}}),Sx=class extends bf{[Gv](){this[wf](zn.lstatSync(this.absolute))}[Wv](){this[Kv](zn.readlinkSync(this.absolute))}[Yv](){this[Jv](zn.openSync(this.absolute,"r"))}[yf](){let e=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=zn.readSync(r,n,i,o,s);this[zv](a),e=!1}finally{if(e)try{this[so](()=>{})}catch{}}}[Qv](e){e()}[so](e){zn.closeSync(this.fd),e()}},jW=bx(class extends dx{constructor(e,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Kn(e.path),this.mode=this[Cf](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Kn(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Ex(this.path);i&&(this.path=o,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new px({path:this[Yn](this.path),linkpath:this.type==="Link"?this[Yn](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new fx({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Yn](this.path),linkpath:this.type==="Link"?this[Yn](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Yn](e){return mx(e,this.prefix)}[Cf](e){return _x(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});bf.Sync=Sx;bf.Tar=jW;var UW=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";xx.exports=bf});var Af=I((Ude,Ox)=>{"use strict";var ey=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},BW=Ta(),HW=Nv(),VW=ff(),ty=Zv(),WW=ty.Sync,GW=ty.Tar,zW=El(),Px=Buffer.alloc(1024),Ef=Symbol("onStat"),_f=Symbol("ended"),Jn=Symbol("queue"),Fa=Symbol("current"),Ps=Symbol("process"),Sf=Symbol("processing"),kx=Symbol("processJob"),Qn=Symbol("jobs"),ry=Symbol("jobDone"),xf=Symbol("addFSEntry"),Ix=Symbol("addTarEntry"),ny=Symbol("stat"),iy=Symbol("readdir"),Pf=Symbol("onreaddir"),kf=Symbol("pipe"),Ax=Symbol("entry"),oy=Symbol("entryOpt"),sy=Symbol("writeEntryClass"),Tx=Symbol("write"),ay=Symbol("ondrain"),If=require("fs"),Dx=require("path"),KW=gf(),cy=Ra(),ly=KW(class extends BW{constructor(e){super(e);e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=cy(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[sy]=ty,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new HW.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[ay]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[ay]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[Jn]=new zW,this[Qn]=0,this.jobs=+e.jobs||4,this[Sf]=!1,this[_f]=!1}[Tx](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[_f]=!0,this[Ps](),this}write(e){if(this[_f])throw new Error("write after end");return e instanceof VW?this[Ix](e):this[xf](e),this.flowing}[Ix](e){let r=cy(Dx.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new ey(e.path,r,!1);n.entry=new GW(e,this[oy](n)),n.entry.on("end",i=>this[ry](n)),this[Qn]+=1,this[Jn].push(n)}this[Ps]()}[xf](e){let r=cy(Dx.resolve(this.cwd,e));this[Jn].push(new ey(e,r)),this[Ps]()}[ny](e){e.pending=!0,this[Qn]+=1;let r=this.follow?"stat":"lstat";If[r](e.absolute,(n,i)=>{e.pending=!1,this[Qn]-=1,n?this.emit("error",n):this[Ef](e,i)})}[Ef](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Ps]()}[iy](e){e.pending=!0,this[Qn]+=1,If.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Qn]-=1,r)return this.emit("error",r);this[Pf](e,n)})}[Pf](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Ps]()}[Ps](){if(!this[Sf]){this[Sf]=!0;for(let e=this[Jn].head;e!==null&&this[Qn]<this.jobs;e=e.next)if(this[kx](e.value),e.value.ignore){let r=e.next;this[Jn].removeNode(e),e.next=r}this[Sf]=!1,this[_f]&&!this[Jn].length&&this[Qn]===0&&(this.zip?this.zip.end(Px):(super.write(Px),super.end()))}}get[Fa](){return this[Jn]&&this[Jn].head&&this[Jn].head.value}[ry](e){this[Jn].shift(),this[Qn]-=1,this[Ps]()}[kx](e){if(!e.pending){if(e.entry){e===this[Fa]&&!e.piped&&this[kf](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Ef](e,this.statCache.get(e.absolute)):this[ny](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Pf](e,this.readdirCache.get(e.absolute)):this[iy](e),!e.readdir))){if(e.entry=this[Ax](e),!e.entry){e.ignore=!0;return}e===this[Fa]&&!e.piped&&this[kf](e)}}}[oy](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Ax](e){this[Qn]+=1;try{return new this[sy](e.path,this[oy](e)).on("end",()=>this[ry](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[ay](){this[Fa]&&this[Fa].entry&&this[Fa].entry.resume()}[kf](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[xf](s+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Rx=class extends ly{constructor(e){super(e);this[sy]=WW}pause(){}resume(){}[ny](e){let r=this.follow?"statSync":"lstatSync";this[Ef](e,If[r](e.absolute))}[iy](e,r){this[Pf](e,If.readdirSync(e.absolute))}[kf](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[xf](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[Tx](i)})}};ly.Sync=Rx;Ox.exports=ly});var Va=I(Dl=>{"use strict";var YW=Ta(),JW=require("events").EventEmitter,yr=require("fs"),uy=yr.writev;if(!uy){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;uy=(r,n,i,o)=>{let s=(c,l)=>o(c,l,n),a=new e;a.oncomplete=s,t.writeBuffers(r,n,i,a)}}var Ma=Symbol("_autoClose"),En=Symbol("_close"),Tl=Symbol("_ended"),Qe=Symbol("_fd"),Nx=Symbol("_finished"),ao=Symbol("_flags"),dy=Symbol("_flush"),fy=Symbol("_handleChunk"),py=Symbol("_makeBuf"),Tf=Symbol("_mode"),Df=Symbol("_needDrain"),qa=Symbol("_onerror"),$a=Symbol("_onopen"),hy=Symbol("_onread"),ja=Symbol("_onwrite"),co=Symbol("_open"),ki=Symbol("_path"),ks=Symbol("_pos"),Xn=Symbol("_queue"),Ua=Symbol("_read"),Lx=Symbol("_readSize"),lo=Symbol("_reading"),Rf=Symbol("_remain"),Fx=Symbol("_size"),Of=Symbol("_write"),Ba=Symbol("_writing"),Nf=Symbol("_defaultFlag"),Ha=Symbol("_errored"),my=class extends YW{constructor(e,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Ha]=!1,this[Qe]=typeof r.fd=="number"?r.fd:null,this[ki]=e,this[Lx]=r.readSize||16*1024*1024,this[lo]=!1,this[Fx]=typeof r.size=="number"?r.size:1/0,this[Rf]=this[Fx],this[Ma]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Qe]=="number"?this[Ua]():this[co]()}get fd(){return this[Qe]}get path(){return this[ki]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[co](){yr.open(this[ki],"r",(e,r)=>this[$a](e,r))}[$a](e,r){e?this[qa](e):(this[Qe]=r,this.emit("open",r),this[Ua]())}[py](){return Buffer.allocUnsafe(Math.min(this[Lx],this[Rf]))}[Ua](){if(!this[lo]){this[lo]=!0;let e=this[py]();if(e.length===0)return process.nextTick(()=>this[hy](null,0,e));yr.read(this[Qe],e,0,e.length,null,(r,n,i)=>this[hy](r,n,i))}}[hy](e,r,n){this[lo]=!1,e?this[qa](e):this[fy](r,n)&&this[Ua]()}[En](){if(this[Ma]&&typeof this[Qe]=="number"){let e=this[Qe];this[Qe]=null,yr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[qa](e){this[lo]=!0,this[En](),this.emit("error",e)}[fy](e,r){let n=!1;return this[Rf]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[Rf]<=0)&&(n=!1,this[En](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Qe]=="number"&&this[Ua]();break;case"error":return this[Ha]?void 0:(this[Ha]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Mx=class extends my{[co](){let e=!0;try{this[$a](null,yr.openSync(this[ki],"r")),e=!1}finally{e&&this[En]()}}[Ua](){let e=!0;try{if(!this[lo]){this[lo]=!0;do{let r=this[py](),n=r.length===0?0:yr.readSync(this[Qe],r,0,r.length,null);if(!this[fy](n,r))break}while(!0);this[lo]=!1}e=!1}finally{e&&this[En]()}}[En](){if(this[Ma]&&typeof this[Qe]=="number"){let e=this[Qe];this[Qe]=null,yr.closeSync(e),this.emit("close")}}},gy=class extends JW{constructor(e,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[Ha]=!1,this[Ba]=!1,this[Tl]=!1,this[Df]=!1,this[Xn]=[],this[ki]=e,this[Qe]=typeof r.fd=="number"?r.fd:null,this[Tf]=r.mode===void 0?438:r.mode,this[ks]=typeof r.start=="number"?r.start:null,this[Ma]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[ks]!==null?"r+":"w";this[Nf]=r.flags===void 0,this[ao]=this[Nf]?n:r.flags,this[Qe]===null&&this[co]()}emit(e,r){if(e==="error"){if(this[Ha])return;this[Ha]=!0}return super.emit(e,r)}get fd(){return this[Qe]}get path(){return this[ki]}[qa](e){this[En](),this[Ba]=!0,this.emit("error",e)}[co](){yr.open(this[ki],this[ao],this[Tf],(e,r)=>this[$a](e,r))}[$a](e,r){this[Nf]&&this[ao]==="r+"&&e&&e.code==="ENOENT"?(this[ao]="w",this[co]()):e?this[qa](e):(this[Qe]=r,this.emit("open",r),this[dy]())}end(e,r){return e&&this.write(e,r),this[Tl]=!0,!this[Ba]&&!this[Xn].length&&typeof this[Qe]=="number"&&this[ja](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[Tl]?(this.emit("error",new Error("write() after end()")),!1):this[Qe]===null||this[Ba]||this[Xn].length?(this[Xn].push(e),this[Df]=!0,!1):(this[Ba]=!0,this[Of](e),!0)}[Of](e){yr.write(this[Qe],e,0,e.length,this[ks],(r,n)=>this[ja](r,n))}[ja](e,r){e?this[qa](e):(this[ks]!==null&&(this[ks]+=r),this[Xn].length?this[dy]():(this[Ba]=!1,this[Tl]&&!this[Nx]?(this[Nx]=!0,this[En](),this.emit("finish")):this[Df]&&(this[Df]=!1,this.emit("drain"))))}[dy](){if(this[Xn].length===0)this[Tl]&&this[ja](null,0);else if(this[Xn].length===1)this[Of](this[Xn].pop());else{let e=this[Xn];this[Xn]=[],uy(this[Qe],e,this[ks],(r,n)=>this[ja](r,n))}}[En](){if(this[Ma]&&typeof this[Qe]=="number"){let e=this[Qe];this[Qe]=null,yr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},qx=class extends gy{[co](){let e;if(this[Nf]&&this[ao]==="r+")try{e=yr.openSync(this[ki],this[ao],this[Tf])}catch(r){if(r.code==="ENOENT")return this[ao]="w",this[co]();throw r}else e=yr.openSync(this[ki],this[ao],this[Tf]);this[$a](null,e)}[En](){if(this[Ma]&&typeof this[Qe]=="number"){let e=this[Qe];this[Qe]=null,yr.closeSync(e),this.emit("close")}}[Of](e){let r=!0;try{this[ja](null,yr.writeSync(this[Qe],e,0,e.length,this[ks])),r=!1}finally{if(r)try{this[En]()}catch{}}}};Dl.ReadStream=my;Dl.ReadStreamSync=Mx;Dl.WriteStream=gy;Dl.WriteStreamSync=qx});var Uf=I((Vde,Wx)=>{"use strict";var QW=gf(),XW=Na(),ZW=require("events"),eG=El(),tG=1024*1024,rG=ff(),$x=mf(),nG=Nv(),vy=Buffer.from([31,139]),Jr=Symbol("state"),Is=Symbol("writeEntry"),Ii=Symbol("readEntry"),yy=Symbol("nextEntry"),jx=Symbol("processEntry"),Qr=Symbol("extendedHeader"),Rl=Symbol("globalExtendedHeader"),uo=Symbol("meta"),Ux=Symbol("emitMeta"),it=Symbol("buffer"),Ai=Symbol("queue"),As=Symbol("ended"),Bx=Symbol("emittedEnd"),Ts=Symbol("emit"),wr=Symbol("unzip"),Lf=Symbol("consumeChunk"),Ff=Symbol("consumeChunkSub"),wy=Symbol("consumeBody"),Hx=Symbol("consumeMeta"),Vx=Symbol("consumeHeader"),Mf=Symbol("consuming"),Cy=Symbol("bufferConcat"),by=Symbol("maybeEnd"),Ol=Symbol("writing"),fo=Symbol("aborted"),qf=Symbol("onDone"),Ds=Symbol("sawValidEntry"),$f=Symbol("sawNullBlock"),jf=Symbol("sawEOF"),iG=t=>!0;Wx.exports=QW(class extends ZW{constructor(e){e=e||{};super(e);this.file=e.file||"",this[Ds]=null,this.on(qf,r=>{(this[Jr]==="begin"||this[Ds]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(qf,e.ondone):this.on(qf,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||tG,this.filter=typeof e.filter=="function"?e.filter:iG,this.writable=!0,this.readable=!1,this[Ai]=new eG,this[it]=null,this[Ii]=null,this[Is]=null,this[Jr]="begin",this[uo]="",this[Qr]=null,this[Rl]=null,this[As]=!1,this[wr]=null,this[fo]=!1,this[$f]=!1,this[jf]=!1,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Vx](e,r){this[Ds]===null&&(this[Ds]=!1);let n;try{n=new XW(e,r,this[Qr],this[Rl])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[$f]?(this[jf]=!0,this[Jr]==="begin"&&(this[Jr]="header"),this[Ts]("eof")):(this[$f]=!0,this[Ts]("nullBlock"));else if(this[$f]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[Is]=new rG(n,this[Qr],this[Rl]);if(!this[Ds])if(o.remain){let s=()=>{o.invalid||(this[Ds]=!0)};o.on("end",s)}else this[Ds]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Ts]("ignoredEntry",o),this[Jr]="ignore",o.resume()):o.size>0&&(this[uo]="",o.on("data",s=>this[uo]+=s),this[Jr]="meta"):(this[Qr]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Ts]("ignoredEntry",o),this[Jr]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Jr]="body":(this[Jr]="header",o.end()),this[Ii]?this[Ai].push(o):(this[Ai].push(o),this[yy]())))}}}[jx](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Ii]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[yy]()),r=!1)):(this[Ii]=null,r=!1),r}[yy](){do;while(this[jx](this[Ai].shift()));if(!this[Ai].length){let e=this[Ii];!e||e.flowing||e.size===e.remain?this[Ol]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[wy](e,r){let n=this[Is],i=n.blockRemain,o=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(o),n.blockRemain||(this[Jr]="header",this[Is]=null,n.end()),o.length}[Hx](e,r){let n=this[Is],i=this[wy](e,r);return this[Is]||this[Ux](n),i}[Ts](e,r,n){!this[Ai].length&&!this[Ii]?this.emit(e,r,n):this[Ai].push([e,r,n])}[Ux](e){switch(this[Ts]("meta",this[uo]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Qr]=$x.parse(this[uo],this[Qr],!1);break;case"GlobalExtendedHeader":this[Rl]=$x.parse(this[uo],this[Rl],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Qr]=this[Qr]||Object.create(null),this[Qr].path=this[uo].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Qr]=this[Qr]||Object.create(null),this[Qr].linkpath=this[uo].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[fo]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[fo])return;if(this[wr]===null&&e){if(this[it]&&(e=Buffer.concat([this[it],e]),this[it]=null),e.length<vy.length)return this[it]=e,!0;for(let n=0;this[wr]===null&&n<vy.length;n++)e[n]!==vy[n]&&(this[wr]=!1);if(this[wr]===null){let n=this[As];this[As]=!1,this[wr]=new nG.Unzip,this[wr].on("data",o=>this[Lf](o)),this[wr].on("error",o=>this.abort(o)),this[wr].on("end",o=>{this[As]=!0,this[Lf]()}),this[Ol]=!0;let i=this[wr][n?"end":"write"](e);return this[Ol]=!1,i}}this[Ol]=!0,this[wr]?this[wr].write(e):this[Lf](e),this[Ol]=!1;let r=this[Ai].length?!1:this[Ii]?this[Ii].flowing:!0;return!r&&!this[Ai].length&&this[Ii].once("drain",n=>this.emit("drain")),r}[Cy](e){e&&!this[fo]&&(this[it]=this[it]?Buffer.concat([this[it],e]):e)}[by](){if(this[As]&&!this[Bx]&&!this[fo]&&!this[Mf]){this[Bx]=!0;let e=this[Is];if(e&&e.blockRemain){let r=this[it]?this[it].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[it]&&e.write(this[it]),e.end()}this[Ts](qf)}}[Lf](e){if(this[Mf])this[Cy](e);else if(!e&&!this[it])this[by]();else{if(this[Mf]=!0,this[it]){this[Cy](e);let r=this[it];this[it]=null,this[Ff](r)}else this[Ff](e);for(;this[it]&&this[it].length>=512&&!this[fo]&&!this[jf];){let r=this[it];this[it]=null,this[Ff](r)}this[Mf]=!1}(!this[it]||this[As])&&this[by]()}[Ff](e){let r=0,n=e.length;for(;r+512<=n&&!this[fo]&&!this[jf];)switch(this[Jr]){case"begin":case"header":this[Vx](e,r),r+=512;break;case"ignore":case"body":r+=this[wy](e,r);break;case"meta":r+=this[Hx](e,r);break;default:throw new Error("invalid state: "+this[Jr])}r<n&&(this[it]?this[it]=Buffer.concat([e.slice(r),this[it]]):this[it]=e.slice(r))}end(e){this[fo]||(this[wr]?this[wr].end(e):(this[As]=!0,this.write(e)))}})});var Bf=I((Wde,Yx)=>{"use strict";var oG=Aa(),Gx=Uf(),Wa=require("fs"),sG=Va(),zx=require("path"),Ey=La();Yx.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=oG(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&cG(n,e),n.noResume||aG(n),n.file&&n.sync?lG(n):n.file?uG(n,r):Kx(n)};var aG=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},cG=(t,e)=>{let r=new Map(e.map(o=>[Ey(o),!0])),n=t.filter,i=(o,s)=>{let a=s||zx.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(zx.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(Ey(o)):o=>i(Ey(o))},lG=t=>{let e=Kx(t),r=t.file,n=!0,i;try{let o=Wa.statSync(r),s=t.maxReadSize||16*1024*1024;if(o.size<s)e.end(Wa.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=Wa.openSync(r,"r");a<o.size;){let l=Wa.readSync(i,c,0,s,a);a+=l,e.write(c.slice(0,l))}e.end()}n=!1}finally{if(n&&i)try{Wa.closeSync(i)}catch{}}},uG=(t,e)=>{let r=new Gx(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),Wa.stat(i,(c,l)=>{if(c)a(c);else{let u=new sG.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?o.then(e,e):o},Kx=t=>new Gx(t)});var tP=I((Gde,eP)=>{"use strict";var dG=Aa(),Hf=Af(),Jx=Va(),Qx=Bf(),Xx=require("path");eP.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=dG(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?fG(n,e):n.file?pG(n,e,r):n.sync?hG(n,e):mG(n,e)};var fG=(t,e)=>{let r=new Hf.Sync(t),n=new Jx.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),Zx(r,e)},pG=(t,e,r)=>{let n=new Hf(t),i=new Jx.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return _y(n,e),r?o.then(r,r):o},Zx=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?Qx({file:Xx.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},_y=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return Qx({file:Xx.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>_y(t,e));t.add(r)}t.end()},hG=(t,e)=>{let r=new Hf.Sync(t);return Zx(r,e),r},mG=(t,e)=>{let r=new Hf(t);return _y(r,e),r}});var Sy=I((zde,cP)=>{"use strict";var gG=Aa(),rP=Af(),Lr=require("fs"),nP=Va(),iP=Bf(),oP=require("path"),sP=Na();cP.exports=(t,e,r)=>{let n=gG(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?vG(n,e):wG(n,e,r)};var vG=(t,e)=>{let r=new rP.Sync(t),n=!0,i,o;try{try{i=Lr.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=Lr.openSync(t.file,"w+");else throw c}let s=Lr.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let u=0,d=0;u<512;u+=d){if(d=Lr.readSync(i,a,u,a.length-u,o+u),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new sP(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(o+l+512>s.size)break;o+=l,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,yG(t,r,o,i,e)}finally{if(n)try{Lr.closeSync(i)}catch{}}},yG=(t,e,r,n,i)=>{let o=new nP.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),CG(e,i)},wG=(t,e,r)=>{e=Array.from(e);let n=new rP(t),i=(s,a,c)=>{let l=(h,m)=>{h?Lr.close(s,g=>c(h)):c(null,m)},u=0;if(a===0)return l(null,0);let d=0,f=Buffer.alloc(512),p=(h,m)=>{if(h)return l(h);if(d+=m,d<512&&m)return Lr.read(s,f,d,f.length-d,u+d,p);if(u===0&&f[0]===31&&f[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let g=new sP(f);if(!g.cksumValid)return l(null,u);let v=512*Math.ceil(g.size/512);if(u+v+512>a||(u+=v+512,u>=a))return l(null,u);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),d=0,Lr.read(s,f,0,512,u,p)};Lr.read(s,f,0,512,u,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Lr.open(t.file,c,l);if(u)return a(u);Lr.fstat(d,(f,p)=>{if(f)return Lr.close(d,()=>a(f));i(d,p.size,(h,m)=>{if(h)return a(h);let g=new nP.WriteStream(t.file,{fd:d,start:m});n.pipe(g),g.on("error",a),g.on("close",s),aP(n,e)})})};Lr.open(t.file,c,l)});return r?o.then(r,r):o},CG=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?iP({file:oP.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},aP=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return iP({file:oP.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>aP(t,e));t.add(r)}t.end()}});var uP=I((Kde,lP)=>{"use strict";var bG=Aa(),EG=Sy();lP.exports=(t,e,r)=>{let n=bG(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),_G(n),EG(n,e,r)};var _G=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var pP=I((Yde,fP)=>{var{promisify:dP}=require("util"),po=require("fs"),SG=t=>{if(!t)t={mode:511,fs:po};else if(typeof t=="object")t=W({mode:511,fs:po},t);else if(typeof t=="number")t={mode:t,fs:po};else if(typeof t=="string")t={mode:parseInt(t,8),fs:po};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||po.mkdir,t.mkdirAsync=dP(t.mkdir),t.stat=t.stat||t.fs.stat||po.stat,t.statAsync=dP(t.stat),t.statSync=t.statSync||t.fs.statSync||po.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||po.mkdirSync,t};fP.exports=SG});var mP=I((Jde,hP)=>{var xG=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:PG,parse:kG}=require("path"),IG=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=PG(t),xG==="win32"){let e=/[*|"<>?:]/,{root:r}=kG(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};hP.exports=IG});var CP=I((Qde,wP)=>{var{dirname:gP}=require("path"),vP=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?vP(t,gP(e),e):void 0),yP=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?yP(t,gP(e),e):void 0}};wP.exports={findMade:vP,findMadeSync:yP}});var ky=I((Xde,EP)=>{var{dirname:bP}=require("path"),xy=(t,e,r)=>{e.recursive=!1;let n=bP(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return xy(n,e).then(o=>xy(t,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},Py=(t,e,r)=>{let n=bP(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return Py(t,e,Py(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};EP.exports={mkdirpManual:xy,mkdirpManualSync:Py}});var xP=I((Zde,SP)=>{var{dirname:_P}=require("path"),{findMade:AG,findMadeSync:TG}=CP(),{mkdirpManual:DG,mkdirpManualSync:RG}=ky(),OG=(t,e)=>(e.recursive=!0,_P(t)===t?e.mkdirAsync(t,e):AG(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return DG(t,e);throw i}))),NG=(t,e)=>{if(e.recursive=!0,_P(t)===t)return e.mkdirSync(t,e);let n=TG(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return RG(t,e);throw i}};SP.exports={mkdirpNative:OG,mkdirpNativeSync:NG}});var AP=I((efe,IP)=>{var PP=require("fs"),LG=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Iy=LG.replace(/^v/,"").split("."),kP=+Iy[0]>10||+Iy[0]==10&&+Iy[1]>=12,FG=kP?t=>t.mkdir===PP.mkdir:()=>!1,MG=kP?t=>t.mkdirSync===PP.mkdirSync:()=>!1;IP.exports={useNative:FG,useNativeSync:MG}});var LP=I((tfe,NP)=>{var Ga=pP(),za=mP(),{mkdirpNative:TP,mkdirpNativeSync:DP}=xP(),{mkdirpManual:RP,mkdirpManualSync:OP}=ky(),{useNative:qG,useNativeSync:$G}=AP(),Ka=(t,e)=>(t=za(t),e=Ga(e),qG(e)?TP(t,e):RP(t,e)),jG=(t,e)=>(t=za(t),e=Ga(e),$G(e)?DP(t,e):OP(t,e));Ka.sync=jG;Ka.native=(t,e)=>TP(za(t),Ga(e));Ka.manual=(t,e)=>RP(za(t),Ga(e));Ka.nativeSync=(t,e)=>DP(za(t),Ga(e));Ka.manualSync=(t,e)=>OP(za(t),Ga(e));NP.exports=Ka});var BP=I((rfe,UP)=>{"use strict";var Xr=require("fs"),Rs=require("path"),UG=Xr.lchown?"lchown":"chown",BG=Xr.lchownSync?"lchownSync":"chownSync",FP=Xr.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),MP=(t,e,r)=>{try{return Xr[BG](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},HG=(t,e,r)=>{try{return Xr.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},VG=FP?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Xr.chown(t,e,r,n)}:(t,e,r,n)=>n,Ay=FP?(t,e,r)=>{try{return MP(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;HG(t,e,r)}}:(t,e,r)=>MP(t,e,r),WG=process.version,qP=(t,e,r)=>Xr.readdir(t,e,r),GG=(t,e)=>Xr.readdirSync(t,e);/^v4\./.test(WG)&&(qP=(t,e,r)=>Xr.readdir(t,r));var Vf=(t,e,r,n)=>{Xr[UG](t,e,r,VG(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},$P=(t,e,r,n,i)=>{if(typeof e=="string")return Xr.lstat(Rs.resolve(t,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,$P(t,s,r,n,i)});if(e.isDirectory())Ty(Rs.resolve(t,e.name),r,n,o=>{if(o)return i(o);let s=Rs.resolve(t,e.name);Vf(s,r,n,i)});else{let o=Rs.resolve(t,e.name);Vf(o,r,n,i)}},Ty=(t,e,r,n)=>{qP(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return Vf(t,e,r,n);let s=o.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--s==0)return Vf(t,e,r,n)}};o.forEach(l=>$P(t,l,e,r,c))})},zG=(t,e,r,n)=>{if(typeof e=="string")try{let i=Xr.lstatSync(Rs.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&jP(Rs.resolve(t,e.name),r,n),Ay(Rs.resolve(t,e.name),r,n)},jP=(t,e,r)=>{let n;try{n=GG(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return Ay(t,e,r);throw i}return n&&n.length&&n.forEach(i=>zG(t,i,e,r)),Ay(t,e,r)};UP.exports=Ty;Ty.sync=jP});var GP=I((nfe,Oy)=>{"use strict";var HP=LP(),Zr=require("fs"),Wf=require("path"),VP=BP(),_n=Ra(),Dy=class extends Error{constructor(e,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=e}get name(){return"SylinkError"}},Ry=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'");this.path=e,this.code=r}get name(){return"CwdError"}},Gf=(t,e)=>t.get(_n(e)),Nl=(t,e,r)=>t.set(_n(e),r),KG=(t,e)=>{Zr.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Ry(t,r&&r.code||"ENOTDIR")),e(r)})};Oy.exports=(t,e,r)=>{t=_n(t);let n=e.umask,i=e.mode|448,o=(i&n)!=0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),l=e.preserve,u=e.unlink,d=e.cache,f=_n(e.cwd),p=(g,v)=>{g?r(g):(Nl(d,t,!0),v&&c?VP(v,s,a,w=>p(w)):o?Zr.chmod(t,i,r):r())};if(d&&Gf(d,t)===!0)return p();if(t===f)return KG(t,p);if(l)return HP(t,{mode:i}).then(g=>p(null,g),p);let m=_n(Wf.relative(f,t)).split("/");zf(f,m,i,d,u,f,null,p)};var zf=(t,e,r,n,i,o,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),l=_n(Wf.resolve(t+"/"+c));if(Gf(n,l))return zf(l,e,r,n,i,o,s,a);Zr.mkdir(l,r,WP(l,e,r,n,i,o,s,a))},WP=(t,e,r,n,i,o,s,a)=>c=>{c?Zr.lstat(t,(l,u)=>{if(l)l.path=l.path&&_n(l.path),a(l);else if(u.isDirectory())zf(t,e,r,n,i,o,s,a);else if(i)Zr.unlink(t,d=>{if(d)return a(d);Zr.mkdir(t,r,WP(t,e,r,n,i,o,s,a))});else{if(u.isSymbolicLink())return a(new Dy(t,t+"/"+e.join("/")));a(c)}}):(s=s||t,zf(t,e,r,n,i,o,s,a))},YG=t=>{let e=!1,r="ENOTDIR";try{e=Zr.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Ry(t,r)}};Oy.exports.sync=(t,e)=>{t=_n(t);let r=e.umask,n=e.mode|448,i=(n&r)!=0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),c=e.preserve,l=e.unlink,u=e.cache,d=_n(e.cwd),f=g=>{Nl(u,t,!0),g&&a&&VP.sync(g,o,s),i&&Zr.chmodSync(t,n)};if(u&&Gf(u,t)===!0)return f();if(t===d)return YG(d),f();if(c)return f(HP.sync(t,n));let h=_n(Wf.relative(d,t)).split("/"),m=null;for(let g=h.shift(),v=d;g&&(v+="/"+g);g=h.shift())if(v=_n(Wf.resolve(v)),!Gf(u,v))try{Zr.mkdirSync(v,n),m=m||v,Nl(u,v,!0)}catch{let C=Zr.lstatSync(v);if(C.isDirectory()){Nl(u,v,!0);continue}else if(l){Zr.unlinkSync(v),Zr.mkdirSync(v,n),m=m||v,Nl(u,v,!0);continue}else if(C.isSymbolicLink())return new Dy(v,v+"/"+h.join("/"))}return f(m)}});var Ly=I((ife,zP)=>{var Ny=Object.create(null),{hasOwnProperty:JG}=Object.prototype;zP.exports=t=>(JG.call(Ny,t)||(Ny[t]=t.normalize("NFKD")),Ny[t])});var QP=I((ofe,JP)=>{var KP=require("assert"),QG=Ly(),XG=La(),{join:YP}=require("path"),ZG=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,ez=ZG==="win32";JP.exports=()=>{let t=new Map,e=new Map,r=l=>l.split("/").slice(0,-1).reduce((d,f)=>(d.length&&(f=YP(d[d.length-1],f)),d.push(f||"/"),d),[]),n=new Set,i=l=>{let u=e.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>t.get(d)),dirs:[...u.dirs].map(d=>t.get(d))}},o=l=>{let{paths:u,dirs:d}=i(l);return u.every(f=>f[0]===l)&&d.every(f=>f[0]instanceof Set&&f[0].has(l))},s=l=>n.has(l)||!o(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:d}=e.get(l),f=new Set;return u.forEach(p=>{let h=t.get(p);KP.equal(h[0],l),h.length===1?t.delete(p):(h.shift(),typeof h[0]=="function"?f.add(h[0]):h[0].forEach(m=>f.add(m)))}),d.forEach(p=>{let h=t.get(p);KP(h[0]instanceof Set),h[0].size===1&&h.length===1?t.delete(p):h[0].size===1?(h.shift(),f.add(h[0])):h[0].delete(l)}),n.delete(l),f.forEach(p=>s(p)),!0};return{check:o,reserve:(l,u)=>{l=ez?["win32 parallelization disabled"]:l.map(f=>QG(XG(YP(f))).toLowerCase());let d=new Set(l.map(f=>r(f)).reduce((f,p)=>f.concat(p)));return e.set(u,{dirs:d,paths:l}),l.forEach(f=>{let p=t.get(f);p?p.push(u):t.set(f,[u])}),d.forEach(f=>{let p=t.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):t.set(f,[new Set([u])])}),s(u)}}}});var ek=I((sfe,ZP)=>{var tz=process.env.__FAKE_PLATFORM__||process.platform,rz=tz==="win32",nz=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:iz,O_TRUNC:oz,O_WRONLY:sz,UV_FS_O_FILEMAP:XP=0}=nz.constants,az=rz&&!!XP,cz=512*1024,lz=XP|oz|iz|sz;ZP.exports=az?t=>t<cz?lz:"w":()=>"w"});var Hy=I((afe,mk)=>{"use strict";var uz=require("assert"),dz=Uf(),Ve=require("fs"),fz=Va(),Ti=require("path"),tk=GP(),rk=Hv(),pz=QP(),hz=Vv(),Fr=Ra(),mz=La(),gz=Ly(),nk=Symbol("onEntry"),Fy=Symbol("checkFs"),ik=Symbol("checkFs2"),Kf=Symbol("pruneCache"),My=Symbol("isReusable"),en=Symbol("makeFs"),qy=Symbol("file"),$y=Symbol("directory"),Yf=Symbol("link"),ok=Symbol("symlink"),sk=Symbol("hardlink"),ak=Symbol("unsupported"),ck=Symbol("checkPath"),ho=Symbol("mkdir"),nr=Symbol("onError"),Jf=Symbol("pending"),lk=Symbol("pend"),Ya=Symbol("unpend"),jy=Symbol("ended"),Uy=Symbol("maybeClose"),By=Symbol("skip"),Ll=Symbol("doChown"),Fl=Symbol("uid"),Ml=Symbol("gid"),ql=Symbol("checkedCwd"),uk=require("crypto"),dk=ek(),vz=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,$l=vz==="win32",yz=(t,e)=>{if(!$l)return Ve.unlink(t,e);let r=t+".DELETE."+uk.randomBytes(16).toString("hex");Ve.rename(t,r,n=>{if(n)return e(n);Ve.unlink(r,e)})},wz=t=>{if(!$l)return Ve.unlinkSync(t);let e=t+".DELETE."+uk.randomBytes(16).toString("hex");Ve.renameSync(t,e),Ve.unlinkSync(e)},fk=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,pk=t=>gz(mz(Fr(t))).toLowerCase(),Cz=(t,e)=>{e=pk(e);for(let r of t.keys()){let n=pk(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},bz=t=>{for(let e of t.keys())t.delete(e)},Qf=class extends dz{constructor(e){e||(e={}),e.ondone=r=>{this[jy]=!0,this[Uy]()};super(e);if(this[ql]=!1,this.reservations=pz(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[Jf]=0,this[jy]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||$l,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Fr(Ti.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[nk](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Uy](){this[jy]&&this[Jf]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[ck](e){if(this.strip){let r=Fr(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=Fr(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Fr(e.path),n=r.split("/");if(n.includes("..")||$l&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,o]=hz(r);i&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(Ti.isAbsolute(e.path)?e.absolute=Fr(Ti.resolve(e.path)):e.absolute=Fr(Ti.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Fr(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Ti.win32.parse(e.absolute);e.absolute=r+rk.encode(e.absolute.substr(r.length));let{root:n}=Ti.win32.parse(e.path);e.path=n+rk.encode(e.path.substr(n.length))}return!0}[nk](e){if(!this[ck](e))return e.resume();switch(uz.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Fy](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[ak](e)}}[nr](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Ya](),r.resume())}[ho](e,r,n){tk(Fr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Ll](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Fl](e){return fk(this.uid,e.uid,this.processUid)}[Ml](e){return fk(this.gid,e.gid,this.processGid)}[qy](e,r){let n=e.mode&4095||this.fmode,i=new fz.WriteStream(e.absolute,{flags:dk(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&Ve.close(i.fd,()=>{}),i.write=()=>!0,this[nr](c,e),r()});let o=1,s=c=>{if(c){i.fd&&Ve.close(i.fd,()=>{}),this[nr](c,e),r();return}--o==0&&Ve.close(i.fd,l=>{l?this[nr](l,e):this[Ya](),r()})};i.on("finish",c=>{let l=e.absolute,u=i.fd;if(e.mtime&&!this.noMtime){o++;let d=e.atime||new Date,f=e.mtime;Ve.futimes(u,d,f,p=>p?Ve.utimes(l,d,f,h=>s(h&&p)):s())}if(this[Ll](e)){o++;let d=this[Fl](e),f=this[Ml](e);Ve.fchown(u,d,f,p=>p?Ve.chown(l,d,f,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[nr](c,e),r()}),e.pipe(a)),a.pipe(i)}[$y](e,r){let n=e.mode&4095||this.dmode;this[ho](e.absolute,n,i=>{if(i){this[nr](i,e),r();return}let o=1,s=a=>{--o==0&&(r(),this[Ya](),e.resume())};e.mtime&&!this.noMtime&&(o++,Ve.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[Ll](e)&&(o++,Ve.chown(e.absolute,this[Fl](e),this[Ml](e),s)),s()})}[ak](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[ok](e,r){this[Yf](e,e.linkpath,"symlink",r)}[sk](e,r){let n=Fr(Ti.resolve(this.cwd,e.linkpath));this[Yf](e,n,"link",r)}[lk](){this[Jf]++}[Ya](){this[Jf]--,this[Uy]()}[By](e){this[Ya](),e.resume()}[My](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!$l}[Fy](e){this[lk]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[ik](e,n))}[Kf](e){e.type==="SymbolicLink"?bz(this.dirCache):e.type!=="Directory"&&Cz(this.dirCache,e.absolute)}[ik](e,r){this[Kf](e);let n=a=>{this[Kf](e),r(a)},i=()=>{this[ho](this.cwd,this.dmode,a=>{if(a){this[nr](a,e),n();return}this[ql]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=Fr(Ti.dirname(e.absolute));if(a!==this.cwd)return this[ho](a,this.dmode,c=>{if(c){this[nr](c,e),n();return}s()})}s()},s=()=>{Ve.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[By](e),n();return}if(a||this[My](e,c))return this[en](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let l=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,u=d=>this[en](d,e,n);return l?Ve.chmod(e.absolute,e.mode,u):u()}if(e.absolute!==this.cwd)return Ve.rmdir(e.absolute,l=>this[en](l,e,n))}if(e.absolute===this.cwd)return this[en](null,e,n);yz(e.absolute,l=>this[en](l,e,n))})};this[ql]?o():i()}[en](e,r,n){if(e){this[nr](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[qy](r,n);case"Link":return this[sk](r,n);case"SymbolicLink":return this[ok](r,n);case"Directory":case"GNUDumpDir":return this[$y](r,n)}}[Yf](e,r,n,i){Ve[n](r,e.absolute,o=>{o?this[nr](o,e):(this[Ya](),e.resume()),i()})}},Xf=t=>{try{return[null,t()]}catch(e){return[e,null]}},hk=class extends Qf{[en](e,r){return super[en](e,r,()=>{})}[Fy](e){if(this[Kf](e),!this[ql]){let o=this[ho](this.cwd,this.dmode);if(o)return this[nr](o,e);this[ql]=!0}if(e.absolute!==this.cwd){let o=Fr(Ti.dirname(e.absolute));if(o!==this.cwd){let s=this[ho](o,this.dmode);if(s)return this[nr](s,e)}}let[r,n]=Xf(()=>Ve.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[By](e);if(r||this[My](e,n))return this[en](null,e);if(n.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=s?Xf(()=>{Ve.chmodSync(e.absolute,e.mode)}):[];return this[en](a,e)}let[o]=Xf(()=>Ve.rmdirSync(e.absolute));this[en](o,e)}let[i]=e.absolute===this.cwd?[]:Xf(()=>wz(e.absolute));this[en](i,e)}[qy](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{Ve.closeSync(o)}catch(l){c=l}(a||c)&&this[nr](a||c,e),r()},o;try{o=Ve.openSync(e.absolute,dk(e.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[nr](a,e)),e.pipe(s)),s.on("data",a=>{try{Ve.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let l=e.atime||new Date,u=e.mtime;try{Ve.futimesSync(o,l,u)}catch(d){try{Ve.utimesSync(e.absolute,l,u)}catch{c=d}}}if(this[Ll](e)){let l=this[Fl](e),u=this[Ml](e);try{Ve.fchownSync(o,l,u)}catch(d){try{Ve.chownSync(e.absolute,l,u)}catch{c=c||d}}}i(c)})}[$y](e,r){let n=e.mode&4095||this.dmode,i=this[ho](e.absolute,n);if(i){this[nr](i,e),r();return}if(e.mtime&&!this.noMtime)try{Ve.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Ll](e))try{Ve.chownSync(e.absolute,this[Fl](e),this[Ml](e))}catch{}r(),e.resume()}[ho](e,r){try{return tk.sync(Fr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Yf](e,r,n,i){try{Ve[n+"Sync"](r,e.absolute),i(),e.resume()}catch(o){return this[nr](o,e)}}};Qf.Sync=hk;mk.exports=Qf});var Ck=I((cfe,wk)=>{"use strict";var Ez=Aa(),Zf=Hy(),gk=require("fs"),vk=Va(),yk=require("path"),Vy=La();wk.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=Ez(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&_z(n,e),n.file&&n.sync?Sz(n):n.file?xz(n,r):n.sync?Pz(n):kz(n)};var _z=(t,e)=>{let r=new Map(e.map(o=>[Vy(o),!0])),n=t.filter,i=(o,s)=>{let a=s||yk.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(yk.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(Vy(o)):o=>i(Vy(o))},Sz=t=>{let e=new Zf.Sync(t),r=t.file,n=gk.statSync(r),i=t.maxReadSize||16*1024*1024;new vk.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},xz=(t,e)=>{let r=new Zf(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),gk.stat(i,(c,l)=>{if(c)a(c);else{let u=new vk.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?o.then(e,e):o},Pz=t=>new Zf.Sync(t),kz=t=>new Zf(t)});var Ja=I(Rt=>{"use strict";Rt.c=Rt.create=tP();Rt.r=Rt.replace=Sy();Rt.t=Rt.list=Bf();Rt.u=Rt.update=uP();Rt.x=Rt.extract=Ck();Rt.Pack=Af();Rt.Unpack=Hy();Rt.Parse=Uf();Rt.ReadEntry=ff();Rt.WriteEntry=Zv();Rt.Header=Na();Rt.Pax=mf();Rt.types=Mv()});var Ek=I((ufe,bk)=>{var Qa=1e3,Xa=Qa*60,Za=Xa*60,Os=Za*24,Iz=Os*7,Az=Os*365.25;bk.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Tz(t);if(r==="number"&&isFinite(t))return e.long?Rz(t):Dz(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Tz(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Az;case"weeks":case"week":case"w":return r*Iz;case"days":case"day":case"d":return r*Os;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Za;case"minutes":case"minute":case"mins":case"min":case"m":return r*Xa;case"seconds":case"second":case"secs":case"sec":case"s":return r*Qa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Dz(t){var e=Math.abs(t);return e>=Os?Math.round(t/Os)+"d":e>=Za?Math.round(t/Za)+"h":e>=Xa?Math.round(t/Xa)+"m":e>=Qa?Math.round(t/Qa)+"s":t+"ms"}function Rz(t){var e=Math.abs(t);return e>=Os?ep(t,e,Os,"day"):e>=Za?ep(t,e,Za,"hour"):e>=Xa?ep(t,e,Xa,"minute"):e>=Qa?ep(t,e,Qa,"second"):t+" ms"}function ep(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Wy=I((dfe,_k)=>{function Oz(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=Ek(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,f=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(d||g);m.diff=v,m.prev=d,m.curr=g,d=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(b,_)=>{if(b==="%%")return"%";w++;let S=r.formatters[_];if(typeof S=="function"){let x=h[w];b=S.call(m,x),h.splice(w,1),w--}return b}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?r.enabled(u):f,set:h=>{f=h}}),typeof r.init=="function"&&r.init(p),p}function n(u,d){let f=r(this.namespace+(typeof d=="undefined"?":":d)+u);return f.log=this.log,f}function i(u){r.save(u),r.names=[],r.skips=[];let d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)!f[d]||(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(u))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}_k.exports=Oz});var Sk=I((Mr,tp)=>{Mr.formatArgs=Lz;Mr.save=Fz;Mr.load=Mz;Mr.useColors=Nz;Mr.storage=qz();Mr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Mr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Nz(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Lz(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+tp.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Mr.log=console.debug||console.log||(()=>{});function Fz(t){try{t?Mr.storage.setItem("debug",t):Mr.storage.removeItem("debug")}catch{}}function Mz(){let t;try{t=Mr.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function qz(){try{return localStorage}catch{}}tp.exports=Wy()(Mr);var{formatters:$z}=tp.exports;$z.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Pk=I((ffe,xk)=>{"use strict";xk.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Ak=I((pfe,Ik)=>{"use strict";var jz=require("os"),kk=require("tty"),tn=Pk(),{env:Mt}=process,rp;tn("no-color")||tn("no-colors")||tn("color=false")||tn("color=never")?rp=0:(tn("color")||tn("colors")||tn("color=true")||tn("color=always"))&&(rp=1);function Uz(){if("FORCE_COLOR"in Mt)return Mt.FORCE_COLOR==="true"?1:Mt.FORCE_COLOR==="false"?0:Mt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Mt.FORCE_COLOR,10),3)}function Bz(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Hz(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=Uz();n!==void 0&&(rp=n);let i=r?rp:n;if(i===0)return 0;if(r){if(tn("color=16m")||tn("color=full")||tn("color=truecolor"))return 3;if(tn("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(Mt.TERM==="dumb")return o;if(process.platform==="win32"){let s=jz.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in Mt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in Mt)||Mt.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in Mt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Mt.TEAMCITY_VERSION)?1:0;if(Mt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Mt){let s=Number.parseInt((Mt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Mt.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Mt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Mt.TERM)||"COLORTERM"in Mt?1:o}function Gy(t,e={}){let r=Hz(t,W({streamIsTTY:t&&t.isTTY},e));return Bz(r)}Ik.exports={supportsColor:Gy,stdout:Gy({isTTY:kk.isatty(1)}),stderr:Gy({isTTY:kk.isatty(2)})}});var Dk=I((Ht,ip)=>{var Vz=require("tty"),np=require("util");Ht.init=Qz;Ht.log=Kz;Ht.formatArgs=Gz;Ht.save=Yz;Ht.load=Jz;Ht.useColors=Wz;Ht.destroy=np.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ht.colors=[6,2,3,4,5,1];try{let t=Ak();t&&(t.stderr||t).level>=2&&(Ht.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ht.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Wz(){return"colors"in Ht.inspectOpts?Boolean(Ht.inspectOpts.colors):Vz.isatty(process.stderr.fd)}function Gz(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} [0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+ip.exports.humanize(this.diff)+"[0m")}else t[0]=zz()+e+" "+t[0]}function zz(){return Ht.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Kz(...t){return process.stderr.write(np.format(...t)+`
`)}function Yz(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Jz(){return process.env.DEBUG}function Qz(t){t.inspectOpts={};let e=Object.keys(Ht.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Ht.inspectOpts[e[r]]}ip.exports=Wy()(Ht);var{formatters:Tk}=ip.exports;Tk.o=function(t){return this.inspectOpts.colors=this.useColors,np.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Tk.O=function(t){return this.inspectOpts.colors=this.useColors,np.inspect(t,this.inspectOpts)}});var Rk=I((hfe,zy)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?zy.exports=Sk():zy.exports=Dk()});var Nk=I((mfe,Ok)=>{var jl;Ok.exports=function(){if(!jl){try{jl=Rk()("follow-redirects")}catch{}typeof jl!="function"&&(jl=function(){})}jl.apply(null,arguments)}});var ec=I((gfe,Qy)=>{var Ns=require("url"),Ky=Ns.URL,Xz=require("http"),Zz=require("https"),Lk=require("stream").Writable,e4=require("assert"),Fk=Nk(),Ls=["abort","aborted","connect","error","socket","timeout"],Yy=Object.create(null);Ls.forEach(function(t){Yy[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Mk=op("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),t4=op("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),r4=op("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),n4=op("ERR_STREAM_WRITE_AFTER_END","write after end");function qr(t,e){Lk.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}qr.prototype=Object.create(Lk.prototype);qr.prototype.abort=function(){jk(this._currentRequest),this.emit("abort")};qr.prototype.write=function(t,e,r){if(this._ending)throw new n4;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new r4),this.abort())};qr.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};qr.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};qr.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};qr.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){qr.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(qr.prototype,t,{get:function(){return this._currentRequest[t]}})});qr.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};qr.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=Ns.format(this._options),n._redirectable=this;for(var i=0;i<Ls.length;i++)n.on(Ls[i],Yy[Ls[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};qr.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&this._options.followRedirects!==!1&&e>=300&&e<400){if(jk(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new t4);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Jy(/^content-/i,this._options.headers));var n=Jy(/^host$/i,this._options.headers),i=Ns.parse(this._currentUrl),o=n||i.host,s=/^\w+:/.test(r)?this._currentUrl:Ns.format(Object.assign(i,{host:o})),a;try{a=Ns.resolve(s,r)}catch(u){this.emit("error",new Mk(u));return}Fk("redirecting to",a),this._isRedirect=!0;var c=Ns.parse(a);if(Object.assign(this._options,c),(c.protocol!==i.protocol||!o4(c.host,o))&&Jy(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var l={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new Mk(u))}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};function qk(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(l,u,d){if(typeof l=="string"){var f=l;try{l=$k(new Ky(f))}catch{l=Ns.parse(f)}}else Ky&&l instanceof Ky?l=$k(l):(d=u,u=l,l={protocol:i});return typeof u=="function"&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=r,e4.equal(u.protocol,i,"protocol mismatch"),Fk("options",u),new qr(u,d)}function c(l,u,d){var f=s.request(l,u,d);return f.end(),f}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function i4(){}function $k(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function Jy(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function op(t,e){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=e+": "+n.message,this.cause=n):this.message=e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function jk(t){for(var e=0;e<Ls.length;e++)t.removeListener(Ls[e],Yy[Ls[e]]);t.on("error",i4),t.abort()}function o4(t,e){if(t===e)return!0;let r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}Qy.exports=qk({http:Xz,https:Zz});Qy.exports.wrap=qk});var rw=I(tw=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0});tw.default=u4;var c4=l4(require("crypto"));function l4(t){return t&&t.__esModule?t:{default:t}}var fp=new Uint8Array(256),pp=fp.length;function u4(){return pp>fp.length-16&&(c4.default.randomFillSync(fp),pp=0),fp.slice(pp,pp+=16)}});var Gk=I(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.default=void 0;var d4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;hp.default=d4});var Gl=I(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.default=void 0;var f4=p4(Gk());function p4(t){return t&&t.__esModule?t:{default:t}}function h4(t){return typeof t=="string"&&f4.default.test(t)}var m4=h4;mp.default=m4});var zl=I(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.default=void 0;var g4=v4(Gl());function v4(t){return t&&t.__esModule?t:{default:t}}var Wt=[];for(let t=0;t<256;++t)Wt.push((t+256).toString(16).substr(1));function y4(t,e=0){let r=(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase();if(!(0,g4.default)(r))throw TypeError("Stringified UUID is invalid");return r}var w4=y4;gp.default=w4});var Yk=I(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.default=void 0;var C4=zk(rw()),b4=zk(zl());function zk(t){return t&&t.__esModule?t:{default:t}}var Kk,nw,iw=0,ow=0;function E4(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||Kk,s=t.clockseq!==void 0?t.clockseq:nw;if(o==null||s==null){let f=t.random||(t.rng||C4.default)();o==null&&(o=Kk=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=nw=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:ow+1,l=a-iw+(c-ow)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>iw)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");iw=a,ow=c,nw=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||(0,b4.default)(i)}var _4=E4;vp.default=_4});var sw=I(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.default=void 0;var S4=x4(Gl());function x4(t){return t&&t.__esModule?t:{default:t}}function P4(t){if(!(0,S4.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var k4=P4;yp.default=k4});var aw=I(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default=D4;Ms.URL=Ms.DNS=void 0;var I4=Jk(zl()),A4=Jk(sw());function Jk(t){return t&&t.__esModule?t:{default:t}}function T4(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Qk="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ms.DNS=Qk;var Xk="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ms.URL=Xk;function D4(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=T4(i)),typeof o=="string"&&(o=(0,A4.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return(0,I4.default)(c)}try{n.name=t}catch{}return n.DNS=Qk,n.URL=Xk,n}});var Zk=I(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.default=void 0;var R4=O4(require("crypto"));function O4(t){return t&&t.__esModule?t:{default:t}}function N4(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),R4.default.createHash("md5").update(t).digest()}var L4=N4;wp.default=L4});var tI=I(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.default=void 0;var F4=eI(aw()),M4=eI(Zk());function eI(t){return t&&t.__esModule?t:{default:t}}var q4=(0,F4.default)("v3",48,M4.default),$4=q4;Cp.default=$4});var nI=I(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.default=void 0;var j4=rI(rw()),U4=rI(zl());function rI(t){return t&&t.__esModule?t:{default:t}}function B4(t,e,r){t=t||{};let n=t.random||(t.rng||j4.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,U4.default)(n)}var H4=B4;bp.default=H4});var iI=I(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.default=void 0;var V4=W4(require("crypto"));function W4(t){return t&&t.__esModule?t:{default:t}}function G4(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),V4.default.createHash("sha1").update(t).digest()}var z4=G4;Ep.default=z4});var sI=I(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.default=void 0;var K4=oI(aw()),Y4=oI(iI());function oI(t){return t&&t.__esModule?t:{default:t}}var J4=(0,K4.default)("v5",80,Y4.default),Q4=J4;_p.default=Q4});var aI=I(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.default=void 0;var X4="00000000-0000-0000-0000-000000000000";Sp.default=X4});var cI=I(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.default=void 0;var Z4=e6(Gl());function e6(t){return t&&t.__esModule?t:{default:t}}function t6(t){if(!(0,Z4.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var r6=t6;xp.default=r6});var lI=I(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Object.defineProperty(Sn,"v1",{enumerable:!0,get:function(){return n6.default}});Object.defineProperty(Sn,"v3",{enumerable:!0,get:function(){return i6.default}});Object.defineProperty(Sn,"v4",{enumerable:!0,get:function(){return o6.default}});Object.defineProperty(Sn,"v5",{enumerable:!0,get:function(){return s6.default}});Object.defineProperty(Sn,"NIL",{enumerable:!0,get:function(){return a6.default}});Object.defineProperty(Sn,"version",{enumerable:!0,get:function(){return c6.default}});Object.defineProperty(Sn,"validate",{enumerable:!0,get:function(){return l6.default}});Object.defineProperty(Sn,"stringify",{enumerable:!0,get:function(){return u6.default}});Object.defineProperty(Sn,"parse",{enumerable:!0,get:function(){return d6.default}});var n6=Di(Yk()),i6=Di(tI()),o6=Di(nI()),s6=Di(sI()),a6=Di(aI()),c6=Di(cI()),l6=Di(Gl()),u6=Di(zl()),d6=Di(sw());function Di(t){return t&&t.__esModule?t:{default:t}}});var lw=I((ape,fI)=>{fI.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var kp=I((cpe,hI)=>{"use strict";var pI=lw();hI.exports=function(e,r){if(!e)return function(i,o){return i?pI(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return pI(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var gI=I((lpe,mI)=>{"use strict";var h6=kp();mI.exports=function(t){return h6(Object.keys(t))}});var uw=I((upe,vI)=>{"use strict";var m6=lw();vI.exports=function(e,r){return function(n,i){if(n)return m6(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var wI=I((dpe,yI)=>{"use strict";yI.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var bI=I((fpe,CI)=>{"use strict";CI.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var _I=I((ppe,EI)=>{"use strict";EI.exports=function(){return function(e,r){r(!0)}}});var xI=I((hpe,SI)=>{"use strict";SI.exports=function(e){return function(r,n){n(e)}}});var kI=I((mpe,PI)=>{"use strict";PI.exports={keys:gI(),once:uw(),values:kp(),count:wI(),infinite:bI(),empty:_I(),error:xI()}});var rc=I((gpe,II)=>{"use strict";II.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,d){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else e&&e(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var TI=I((vpe,AI)=>{"use strict";var g6=rc();AI.exports=function(e){return g6(null,e)}});var RI=I((ype,DI)=>{"use strict";var v6=rc();DI.exports=function(e){return v6(function(r){console.log(r)},e)}});var nc=I((wpe,OI)=>{OI.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var FI=I((Cpe,LI)=>{"use strict";function NI(t){return t}var y6=nc(),w6=rc();LI.exports=function(e,r){var n=!1;return r?e=y6(e)||NI:(r=e,e=NI),w6(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var Ip=I((bpe,MI)=>{"use strict";var C6=rc();MI.exports=function(e,r,n){n||(n=r,r=null);var i=C6(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var $I=I((Epe,qI)=>{"use strict";var b6=Ip();qI.exports=function(e){return b6(function(r,n){return r.push(n),r},[],e)}});var UI=I((_pe,jI)=>{"use strict";var E6=Ip();jI.exports=function(e){return E6(function(r,n){return r+n},"",e)}});var HI=I((Spe,BI)=>{"use strict";BI.exports={drain:rc(),onEnd:TI(),log:RI(),find:FI(),reduce:Ip(),collect:$I(),concat:UI()}});var WI=I((xpe,VI)=>{"use strict";function _6(t){return t}var S6=nc();VI.exports=function(e){return e?(e=S6(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):_6}});var zI=I((Ppe,GI)=>{"use strict";function x6(t){return t}var P6=nc();GI.exports=function(e){if(!e)return x6;e=P6(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(l){r?n=c:c(a)}):o(a,function(l){c(a)})):o(null,function(l,u){l?c(l):i?c(i):(r=!0,e(u,function(d,f){r=!1,i?(c(i),n&&n(i)):d?s(d,c):c(null,f)}))})}}}});var dw=I((kpe,KI)=>{var k6=nc();function I6(t){return t}KI.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:k6(e)||I6}});var Ap=I((Ipe,YI)=>{"use strict";var A6=dw();YI.exports=function(e){return e=A6(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!e(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var QI=I((Ape,JI)=>{"use strict";var T6=dw(),D6=Ap();JI.exports=function(e){return e=T6(e),D6(function(r){return!e(r)})}});var ZI=I((Tpe,XI)=>{"use strict";XI.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):e&&e(l),a(c,l)})}}}});var tA=I((Dpe,eA)=>{"use strict";eA.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,d){(i=i||u)?l(i):e(d)?l(null,d):(i=!0,n?l(null,d):a(l))})}}}});var fw=I((Rpe,rA)=>{"use strict";function R6(t){return t}var O6=nc(),N6=Ap();rA.exports=function(e,r){e=O6(e)||R6;var n={};return N6(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var iA=I((Ope,nA)=>{"use strict";var L6=fw();nA.exports=function(e){return L6(e,!0)}});var sA=I((Npe,oA)=>{"use strict";var F6=kp(),M6=uw();oA.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=F6(c):typeof c!="function"&&(c=M6(c)),r=c,o()})}}}}});var cA=I((Lpe,aA)=>{"use strict";aA.exports={map:WI(),asyncMap:zI(),filter:Ap(),filterNot:QI(),through:ZI(),take:tA(),unique:fw(),nonUnique:iA(),flatten:sA()}});var pw=I((Fpe,lA)=>{"use strict";lA.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var Tp=I((qs,pA)=>{"use strict";var uA=kI(),dA=HI(),fA=cA();qs=pA.exports=pw();qs.pull=qs;for(xn in uA)qs[xn]=uA[xn];var xn;for(xn in fA)qs[xn]=fA[xn];var xn;for(xn in dA)qs[xn]=dA[xn];var xn});var _w=I((Ype,wA)=>{var Kpe=wA.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var bA=I((Jpe,CA)=>{var H6=_w();CA.exports=function(t,e){return function(r){var n=[],i,o;function s(l){n.push(l)}t=t||function(l){this.queue(l)},e=e||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(i=!0,s(null)),l=="error"&&(o=u)},queue:s},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,H6(function d(f){if(!!c)if(u=c,o)c=null,u(o);else if(n.length){var p=n.shift();c=null,u(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,f();if(i=i||h)e.call(a);else if(m!==null&&(t.call(a,m),o||i))return r(o||i,function(){c=null,u(o||i)});f(d)})})}}}});var _A=I((Qpe,EA)=>{EA.exports=function(){var t=[],e=0;function r(){return t.reduce(function(n,i){return n+i.length},0)}return{length:e,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=e=e+n.length,t.push(n),this},has:function(n){return n==null?e>0:e>=n},get:function(n){var i;if(n==null||n===e){e=0;var o=t;return t=[],o.length==1?o[0]:Buffer.concat(o)}else if(t.length>1&&n<=(i=t[0].length)){var s=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),e-=n,s}else if(n<e){for(var a=[],c=0;c+t[0].length<n;){var l=t.shift();c+=l.length,a.push(l)}return c<n&&(a.push(t[0].slice(0,n-c)),t[0]=t[0].slice(n-c,t[0].length),this.length=e=e-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var kA=I((Xpe,PA)=>{"use strict";var V6=_A();function W6(t){return Number.isFinite(t)}function SA(t){return typeof t=="function"}function xA(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(o,s){clearTimeout(i),n(o,s)})}:t}PA.exports=function(t){var e=[],r,n,i=!1,o=V6(),s,a,c;function l(){for(;e.length;)if(e[0].length==null&&o.has(1))e.shift().cb(null,o.get());else if(o.has(e[0].length)){var f=e.shift();f.cb(null,o.get(f.length))}else if(s==!0&&e[0].length&&o.length<e[0].length){var p="stream ended with:"+o.length+" but wanted:"+e[0].length;e.shift().cb(new Error(p))}else if(s)e.shift().cb(s);else return!!e.length;return e.length||!o.has(1)||c}function u(){var f=l();f&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,l();o.add(h),u()}))}function d(f){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}n=xA(f,t),r=f,u()}return d.abort=function(f,p){c=f||!0,r?(i=!0,r(c,function(){for(;e.length;)e.shift().cb(c);p&&p(c)})):p()},d.read=function(f,p,h){if(SA(p)&&(h=p,p=t),SA(h))e.push({length:W6(f)?f:null,cb:h}),u();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);e.push({length:null,cb:g}),u()}else xA(r,p)(m,function(v,w){g(v,w)})}},d}});var $A=I(($s,qA)=>{var G6=bA(),z6=kA(),IA=0,AA=1,TA=2,DA="GOODBYE",K6=Buffer.isBuffer;function RA(t){return typeof t=="string"}function OA(t){var e=Buffer.alloc(9),r=0,n=t.value!==void 0?t.value:t.end;return RA(t)&&t===DA?(e.fill(0),[e,null]):(RA(n)?(r=AA,n=Buffer.from(n,"utf-8")):K6(n)?r=IA:(r=TA,n=Buffer.from(JSON.stringify(n),"utf-8")),r=t.stream<<3|t.end<<2|r,e[0]=r,e.writeUInt32BE(n.length,1),e.writeInt32BE(t.req||0,5),[e,n])}function NA(t){if(t.length!=9)throw new Error("expected header to be 9 bytes long");var e=t[0],r=t.readUInt32BE(1),n=t.readInt32BE(5);return{req:n,stream:!!(e&8),end:!!(e&4),value:null,length:r,type:e&3}}function LA(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(IA===e.type)e.value=t;else if(AA===e.type)e.value=t.toString();else if(TA===e.type)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function FA(){return G6(function(t){var e=OA(t);this.queue(e[0]),e[1]!==null&&this.queue(e[1])})}function MA(){var t=z6(),e=!1;return function(r){return t(r),function(n,i){if(e)return i(!0);if(n)return t.abort(n,i);t.read(9,function(o,s){if(o)return i(o);var a=NA(s);if(a.length===0)return e=!0,i(null,DA);t.read(a.length,function(c,l){if(c)return i(c);try{LA(l,a)}catch(u){return i(u)}i(null,a)})})}}}$s=qA.exports=function(t){return{source:FA()(t.source),sink:function(e){return t.sink(MA()(e))}}};$s.encodePair=OA;$s.decodeHead=NA;$s.decodeBody=LA;$s.encode=FA;$s.decode=MA});var BA=I((Zpe,UA)=>{function Jl(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}UA.exports=function(t){return new nn(t)};function nn(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}nn.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};nn.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],e(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:t})};nn.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var t=this._req_counter++,e=this;return this._outstreams[t]=new Ql(t,this,function(){delete e._outstreams[t]}),this._outstreams[t]};nn.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};nn.prototype.destroy=function(t){t=t||Jl(t),this.ended=t,this._closing=!0;var e=t===!0?new Error("unexpected end of parent stream"):t,r=0;for(var n in this._requests)r++,this._requests[n](e);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(e);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(e);r===0&&t===!0&&(e=null),this._maybedone(e)};nn.prototype._maybedone=function(t){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(e){e(t)}),this.read(null,t||!0),this.opts=null,this._closecbs.length=0,this.read=jA)};function jA(t){console.error("packet-stream asked to read after closed",t)}nn.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};nn.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};nn.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};nn.prototype._onrequest=function(t){var e=t.req*-1;if(t.req<0)typeof this._requests[e]=="function"&&this._requests[e](t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(t.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:Jl(o),end:!0,req:e}):n.read({value:s,end:!1,req:e}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:Jl(i),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};nn.prototype._onstream=function(t){if(t.req<0){var e=t.req*-1,r=this._outstreams[e];if(!r)return console.error("no stream for incoming msg",t);t.end?(r.writeEnd&&delete this._outstreams[e],r.readEnd=!0,r.read(null,t.value),this._maybedone()):r.read(t.value)}else{var e=t.req,n=this._instreams[e];if(!n){var i=this;n=this._instreams[e]=new Ql(e*-1,this,function(){delete i._instreams[e]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}t.end?(n.writeEnd&&delete this._instreams[e],n.readEnd=!0,n.read&&n.read(null,t.value),this._maybedone()):n.read?n.read(t.value):console.error("no .read for stream:",n.id,"dropped:",t)}};function Ql(t,e,r){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=r,this._seq_counter=1}Ql.prototype.write=function(t,e){if(e){this.writeEnd=e;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:Jl(e)}),this.readEnd&&this.destroy(e),r._maybedone(e))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:t})};Ql.prototype.end=function(t){this.write(null,Jl(t||!0))};Ql.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=jA,this._ps=null)}});var VA=I((ehe,Xl)=>{"use strict";var Y6=Tp();function J6(t){let e=!1;return(r,n)=>{e||(e=!0,t(r,n))}}function Sw(t,e){let r=[],n=!1,i=!1,o,s,a=J6((c,l)=>{e&&e(c,l),t=null,e=null,o=null,s&&s(c||!0,()=>{})});return t.read=function(c,l){if(n=n||l,o){let u=o;o=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(t&&t.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):o=l},sink(c){if(n)return s=null,c(n,()=>{});s=c,Y6.drain(l=>{if(n)return!1;t.write(l)},l=>{t&&!t.writeEnd&&t.write(null,l||!0),a&&a(l)})(c)}}}function HA(t,e){return Sw(t,r=>{t.writeEnd||t.write(null,r||!0),e&&e(r)})}function Q6(t){return HA(t).source}function X6(t,e){return HA(t,e).sink}Xl.exports=Sw;Xl.exports.source=Q6;Xl.exports.sink=X6;Xl.exports.duplex=Sw});var GA=I((the,WA)=>{WA.exports=function(e){var r,n,i;function o(s){return function(a,c){s(a,function(l,u){if(l&&!i)return i=!0,c(null,e);l&&r?c(l):l?n=c:c(null,u)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var xw=I((rhe,zA)=>{zA.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var Op=I((nhe,YA)=>{"use strict";var KA=xw();YA.exports=function(e,r){if(!e)return function(i,o){return i?KA(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return KA(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var QA=I((ihe,JA)=>{"use strict";var Z6=Op();JA.exports=function(t){return Z6(Object.keys(t))}});var Pw=I((ohe,XA)=>{"use strict";var e9=xw();XA.exports=function(e,r){return function(n,i){if(n)return e9(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var eT=I((she,ZA)=>{"use strict";ZA.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var rT=I((ahe,tT)=>{"use strict";tT.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var iT=I((che,nT)=>{"use strict";nT.exports=function(){return function(e,r){r(!0)}}});var sT=I((lhe,oT)=>{"use strict";oT.exports=function(e){return function(r,n){n(e)}}});var cT=I((uhe,aT)=>{"use strict";aT.exports={keys:QA(),once:Pw(),values:Op(),count:eT(),infinite:rT(),empty:iT(),error:sT()}});var oc=I((dhe,lT)=>{"use strict";lT.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,d){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else e&&e(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var dT=I((fhe,uT)=>{"use strict";var t9=oc();uT.exports=function(e){return t9(null,e)}});var pT=I((phe,fT)=>{"use strict";var r9=oc();fT.exports=function(e){return r9(function(r){console.log(r)},e)}});var sc=I((hhe,hT)=>{hT.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var vT=I((mhe,gT)=>{"use strict";function mT(t){return t}var n9=sc(),i9=oc();gT.exports=function(e,r){var n=!1;return r?e=n9(e)||mT:(r=e,e=mT),i9(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var Np=I((ghe,yT)=>{"use strict";var o9=oc();yT.exports=function(e,r,n){n||(n=r,r=null);var i=o9(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var CT=I((vhe,wT)=>{"use strict";var s9=Np();wT.exports=function(e){return s9(function(r,n){return r.push(n),r},[],e)}});var ET=I((yhe,bT)=>{"use strict";var a9=Np();bT.exports=function(e){return a9(function(r,n){return r+n},"",e)}});var ST=I((whe,_T)=>{"use strict";_T.exports={drain:oc(),onEnd:dT(),log:pT(),find:vT(),reduce:Np(),collect:CT(),concat:ET()}});var PT=I((Che,xT)=>{"use strict";function c9(t){return t}var l9=sc();xT.exports=function(e){return e?(e=l9(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):c9}});var IT=I((bhe,kT)=>{"use strict";function u9(t){return t}var d9=sc();kT.exports=function(e){if(!e)return u9;e=d9(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(l,u){l?c(l):i?c(i):(r=!0,e(u,function(d,f){r=!1,i?(c(i),n(i)):d?s(d,c):c(null,f)}))})}}}});var kw=I((Ehe,AT)=>{var f9=sc();function p9(t){return t}AT.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:f9(e)||p9}});var Lp=I((_he,TT)=>{"use strict";var h9=kw();TT.exports=function(e){return e=h9(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!e(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var RT=I((She,DT)=>{"use strict";var m9=kw(),g9=Lp();DT.exports=function(e){return e=m9(e),g9(function(r){return!e(r)})}});var NT=I((xhe,OT)=>{"use strict";OT.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):e&&e(l),a(c,l)})}}}});var FT=I((Phe,LT)=>{"use strict";LT.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,d){(i=i||u)?l(i):e(d)?l(null,d):(i=!0,n?l(null,d):a(l))})}}}});var Iw=I((khe,MT)=>{"use strict";function v9(t){return t}var y9=sc(),w9=Lp();MT.exports=function(e,r){e=y9(e)||v9;var n={};return w9(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var $T=I((Ihe,qT)=>{"use strict";var C9=Iw();qT.exports=function(e){return C9(e,!0)}});var UT=I((Ahe,jT)=>{"use strict";var b9=Op(),E9=Pw();jT.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=b9(c):typeof c!="function"&&(c=E9(c)),r=c,o()})}}}}});var HT=I((The,BT)=>{"use strict";BT.exports={map:PT(),asyncMap:IT(),filter:Lp(),filterNot:RT(),through:NT(),take:FT(),unique:Iw(),nonUnique:$T(),flatten:UT()}});var WT=I((Dhe,VT)=>{"use strict";VT.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var JT=I((Zl,YT)=>{"use strict";var GT=cT(),zT=ST(),KT=HT();Zl=YT.exports=WT();for(Pn in GT)Zl[Pn]=GT[Pn];var Pn;for(Pn in KT)Zl[Pn]=KT[Pn];var Pn;for(Pn in zT)Zl[Pn]=zT[Pn];var Pn});var XT=I((Rhe,QT)=>{var _9=GA(),Aw=JT();QT.exports=function(t,e){e=e||"GOODBYE";var r=_9(e);return{source:Aw(t.source,r),sink:Aw(Aw.filter(function(n){if(n!==e)return!0;r.end()}),t.sink)}}});var eu=I(kn=>{"use strict";var Fp=Tp();function S9(t){return t?Object.keys(t).length===0:!0}kn.set=function(e,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];e[a]=e[a]||{},i=e,o=a,e=e[a]}i[o]=n};kn.get=function(e,r){if(typeof r=="string")return e[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],e==null)return e}return n};kn.prefix=function(e,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],typeof e!="object")return e}return typeof n!="object"?!!n:!1};function x9(t,e){for(let r in e){let n=e[r];t[n]||(t[n]={}),t=t[n]}return t}function P9(t,e){(function r(n,i){let o=e[i];if(n)e.length-1===i?delete n[o]:i<e.length&&r(n[o],i+1);else return;S9(n[o])&&delete n[o]})(t,0)}function k9(t,e){for(let r in e)t[r]=e[r];return t}kn.mount=function(e,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return k9(x9(e,r),n)};kn.unmount=function(e,r){return P9(e,r)};var Mp=t=>t==="source",qp=t=>t==="sink",ZT=t=>t==="duplex",I9=t=>t==="sync",A9=t=>t==="async",eD=t=>I9(t)||A9(t),T9=t=>Mp(t)||qp(t)||ZT(t);kn.isRequest=eD;kn.isStream=T9;function Tw(t){return function(e){e(t||!0,()=>{})}}function tD(t){return{source:Fp.error(t),sink:Tw(t)}}kn.errorAsStream=function(e,r){return Mp(e)?Fp.error(r):qp(e)?Tw(r):tD(r)};kn.errorAsStreamOrCb=function(e,r,n){return eD(e)?n(r):Mp(e)?Fp.error(r):qp(e)?Tw(r):n(r),tD(r)};kn.pipeToStream=function(e,r,n){Mp(e)?r(n):qp(e)?n(r):ZT(e)&&Fp(r,n,r)}});var Dw=I((Lhe,nD)=>{function rD(t){if(t.stack&&t.name&&t.message)return t.stack.substring(t.name.length+3+t.message.length).split(`
`);if(t.stack)return t.stack.split(`
`)}function D9(t,e){return t.filter(function(r){return!~e.indexOf(r)})}var Nhe=nD.exports=function(t,e){if(!(t.stack&&t.name&&t.message))return console.error(new Error("stackless error")),t;var r=new Error(e),n=D9(rD(r).slice(1),rD(t)).join(`
`);return r.__proto__=t,r.stack=r.name+": "+r.message+`
`+n+`
  `+t.stack,r}});var sD=I((Fhe,oD)=>{"use strict";var R9=BA(),Rw=VA(),O9=XT(),ac=eu(),iD=Dw();oD.exports=function(e,r,n){let i=R9({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,d=!1;l.push((f,p)=>{d=!0,u=!0,a(f,p)});try{e("async",c,l)}catch(f){if(u||d)throw iD(f,"no callback provided to muxrpc async funtion");a(f)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:d,args:f}=c,p,h;if(s.read=null,!ac.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{h=e(d,u,f)}catch(v){p=v}let g=Rw[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return ac.pipeToStream(d,g,p?ac.errorAsStream(d,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=O9(Rw(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,l){if(a==="emit")return i.message(c);if(!(ac.isRequest(s)||ac.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(ac.isRequest(s))return i.request({name:a,args:c},l);let u=i.stream(),d=Rw[s](u,l);return u.write({name:a,args:c,type:s}),d},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw iD(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var cD=I((Mhe,aD)=>{"use strict";var N9=Dw(),L9=eu();function Ow(t,e,r,n){for(let i in e){let o=e[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;t[i]=Ow({},a,s,n)}else{let a=o;t[i]=(...c)=>n(a,s,c)}}return t}function F9(t){if(t)throw N9(t,"callback not provided")}function M9(t,e,r,n){t=t||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:F9;if(typeof c=="function"){let l;try{l=r(o,s,a,c)}catch(u){return L9.errorAsStreamOrCb(o,u,c)}return l}else return new Promise((l,u)=>{r(o,s,a,(d,f)=>{d?u(d):l(f)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);Ow(t,s,null,i),n(null,s,t)}]):Ow(t,e,null,i),t}aD.exports=M9});var dD=I((qhe,uD)=>{"use strict";var $p=eu();function lD(t){return Array.isArray(t)?t:t.split(".")}function q9(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}uD.exports=function(e){if(q9(e))return e;if(typeof e=="function")return{pre:e};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)$p.set(r,lD(s),!0)}else r=null;if(o.deny)for(let s of o.deny)$p.set(n,lD(s),!0);else n={};return this}return e&&i(e),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!$p.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&$p.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var pD=I(($he,fD)=>{"use strict";var $9=dD(),Nw=eu();fD.exports=function(e,r,n){n=$9(n);function i(s,a){return s===Nw.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let l=c.pop(),u;try{u=Nw.get(e,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return Nw.get(e,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return o.call(this,a,c,l)}}});var gD=I((jhe,mD)=>{"use strict";var j9=$A(),U9=require("events").EventEmitter,B9=sD(),H9=cD(),V9=pD();function hD(t,e,r,n,i,o,s){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new U9;o||(o=j9);let l,u={_emit(f,p){return c&&c._emit(f,p),u},id:n},d=B9(V9(r,e,i).bind(u),o,f=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(f)}});if(H9(c,t,(f,p,h,m)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(f,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let f=!0;c.createStream=p=>{if(l=p,f)return f=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(f,p){return d.close(f,p),this},c}mD.exports=function(t,e,r){return arguments.length>3?hD.apply(this,arguments):function(n,i,o){return hD(t,e,n,o,i,r,!0)}}});var Lw=I((Oi,wD)=>{var Uhe=pw(),W9=_w();function vD(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function yD(t,e,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?s():t(n=!0,s))}function c(u){l(),n||t(n=u,s)}function l(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){W9(function(u){t(null,function(d,f){if(n=n||d,d===!0)return e._isStdio?s():e.end();if(n=n||d)return vD(e),s(n);if(e._isStdio)e.write(f,function(){u()});else{var p=e.write(f);p===!1?e.once("drain",u):u()}})})})}function G9(t){var e=!1,r=!1,n;function i(){var o=t.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(o){e=o,n&&n(e)}),function(o,s){n=s,e?s(e):r&&i()}}function jp(t){var e=[],r=[],n,i=!1,o;function s(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),s(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,s()}),t.on("close",function(){n=!0,s()}),t.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();t.once("close",u),vD(t)}else r.push(c),s()}}var z9=jp,Up=function(t,e){return function(r){return yD(r,t,e)}},Bp=function(t){return jp(t)};Oi=wD.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return yD(r,t,e),jp(t)}:Up(t,e):Bp(t)};Oi.sink=Up;Oi.source=Bp;Oi.read=z9;Oi.read1=jp;Oi.read2=G9;Oi.duplex=function(t,e){return{source:Bp(t),sink:Up(t,e)}};Oi.transform=function(t){return function(e){var r=Bp(t);return Up(t)(e),r}}});var bD=I((Bhe,Hp)=>{var K9=require("stream");Hp.exports=Fw;Hp.exports.source=function(t){return Fw(null,t)};Hp.exports.sink=function(t){return Fw(t,null)};var CD=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function Fw(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var r=[],n=[],i,o,s=new K9;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){e?n.length?m():e(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;t&&(a=t(s.source)),a&&!e&&(e=a);var c=[],l=[],u=!1,d=!1,f=!1;if(s.sink=function(g){e=g,CD(m)},e){s.sink(e),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var w=p(g,v);return g==="data"&&s.paused&&CD(s.resume.bind(s)),w};var h=s.pipe.bind(s);s.pipe=function(g,v){var w=h(g,v);return s.paused&&s.resume(),w}}function m(){if(d=!1,!(!e||f)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");f=!0,e(null,function g(v,w){f=!1,s.paused?(v===!0?u=v:v?s.emit("error",v):c.push(w),d=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",w),f=!0,e(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var _D=I((Hhe,ED)=>{ED.exports=Y9;function Y9(t,e){typeof t=="function"&&(e=t,t=!1);var r=[],n,i;function o(d,f){d&&(n=d,i&&u(n)),i=f,l()}var s;function a(d){s=s||d||!0,l()}function c(d){if(!s){if(i){u(n,d);return}r.push(d)}}if(t)return{push:c,end:a,source:o,buffer:r};return o.push=c,o.end=a,o.buffer=r,o;function l(){!i||(n?u(n):!r.length&&s?u(s):r.length&&u(null,r.shift()))}function u(d,f){var p=i;if(d&&e){var h=e;e=null,h(d===!0?null:d)}i=null,p(d,f)}}});var Xw=I((gge,QD)=>{"use strict";var YD=require("child_process"),vK=1024*1024,JD={exec(t,e){YD.exec(t,{maxBuffer:2*vK,windowsHide:!0},e)},spawn(t,e,r){return YD.spawn(t,e,r)},stripLine(t,e){let r=0;for(;e-- >0;){let n=t.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?t.substring(r):t},split(t,e){let r=t.trim().split(/\s+/);return r.length>e&&(r[e-1]=r.slice(e-1).join(" ")),r},extractColumns(t,e,r){let n=t.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,e)+1),n.forEach(o=>{let s=JD.split(o,r),a=[];e.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return e.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),e.map(r=>{let n={};return r.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();n[s]=i.slice(o+1).trim()}),n})}};QD.exports=JD});var ZD=I((vge,XD)=>{"use strict";var yK=require("os"),ih=require("fs"),on=Xw(),wK=t=>new Promise((e,r)=>{ih.existsSync(t)?e():ih.mkdir(t,n=>{n?r(n):e()})}),Zw={darwin(t){return new Promise((e,r)=>{on.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=on.stripLine(i.toString(),2),a=on.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):r(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,r)=>{let n="netstat -tunlp";on.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=on.stripLine(o.toString(),2),l=on.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);if(d&&d[1]===String(t))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?e(parseInt(u,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,r)=>{on.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=on.stripLine(i.toString(),4),a=on.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):r(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,r)=>{let n=yK.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';wK(n).then(()=>{on.exec(o,()=>{ih.readFile(i,"utf8",(s,a)=>{if(ih.unlink(i,()=>{}),s)r(s);else{a=on.stripLine(a,2);let c=on.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(t))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?e(parseInt(l,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})})})}};function CK(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in Zw))return n(new Error(`platform ${e} is unsupported`));let i=Zw[e];typeof i=="string"&&(i=Zw[i]),i(t).then(r,n)})}XD.exports=CK});var nR=I((yge,rR)=>{"use strict";var oh=require("path"),bo=Xw();function eC(t,e){return e?t&&t.match?t.match(e):!1:!0}function eR(t){let e=t.split(oh.sep),r=e[e.length-1];r&&(e[e.length-1]=r.split(" ")[0]);let n=[];for(let i of e){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(oh.sep)}function tR(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return oh.basename(t.substring(0,e))}return oh.basename(t)}var tC={darwin(t){return new Promise((e,r)=>{let n;"pid"in t?n=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",bo.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=bo.stripLine(o.toString(),1),l=bo.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[4]&&t.name?eC(u[4],t.name):!!u[0]).map(u=>{let d=String(u[4]),f=eR(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:tR(f),bin:f,cmd:u[4]}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=bo.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=bo.parseTable(i.join("")).filter(c=>{if("pid"in t)return c.ProcessId===String(t.pid);if(t.name){let l=c.Name||"";return t.strict?l===t.name||l.endsWith(".exe")&&l.slice(0,-4)===t.name:eC(c.CommandLine||l,t.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,r)=>{let n="ps";bo.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=bo.stripLine(o.toString(),1),l=bo.extractColumns(a,[0,3],4).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[1]&&t.name?eC(u[1],t.name):!!u[0]).map(u=>{let d=String(u[1]),f=eR(d);return{pid:parseInt(u[0],10),name:tR(f),bin:f,cmd:d}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})}};function bK(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in tC))return n(new Error(`platform ${e} is unsupported`));let i=tC[e];typeof i=="string"&&(i=tC[i]),i(t).then(r,n)})}rR.exports=bK});var sR=I((wge,oR)=>{"use strict";var EK=ZD(),iR=nR(),rC={port(t,e){return EK(t,e).then(r=>rC.pid(r,e),()=>[])},pid(t,e){return iR({pid:t,strict:e})},name(t,e){return iR({name:t,strict:e})}};function _K(t,e,r){return new Promise((n,i)=>{if(!(t in rC))i(new Error(`do not support find by "${t}"`));else{let o=/^\d+$/.test(e);t==="pid"&&!o?i(new Error("pid must be a number")):t==="port"&&!o?i(new Error("port must be a number")):rC[t](e,r).then(n,i)}})}oR.exports=_K});var cR=I((Cge,aR)=>{"use strict";aR.exports=sR()});var AO=I(IC=>{IC.quote=function(t){return t.map(function(e){return e&&typeof e=="object"?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@\[\\\]^`{|}])/g,"$1\\$2")}).join(" ")};var PC="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",IO="|&;()<> \\t",OY=`(\\\\['"`+IO+`]|[^\\s'"`+IO+"])+",NY='"((\\\\"|[^"])*?)"',LY="'((\\\\'|[^'])*?)'",Ys="";for(kC=0;kC<4;kC++)Ys+=(Math.pow(16,8)*Math.random()).toString(16);var kC;IC.parse=function(t,e,r){var n=FY(t,e,r);return typeof e!="function"?n:n.reduce(function(i,o){if(typeof o=="object")return i.concat(o);var s=o.split(RegExp("("+Ys+".*?"+Ys+")","g"));return s.length===1?i.concat(s[0]):i.concat(s.filter(Boolean).map(function(a){return RegExp("^"+Ys).test(a)?JSON.parse(a.split(Ys)[1]):a}))},[])};function FY(t,e,r){var n=new RegExp(["("+PC+")","("+OY+"|"+NY+"|"+LY+")*"].join("|"),"g"),i=t.match(n).filter(Boolean),o=!1;if(!i)return[];return e||(e={}),r||(r={}),i.map(function(a,c){if(o)return;if(RegExp("^"+PC+"$").test(a))return{op:a};for(var l="'",u='"',d="$",f=r.escape||"\\",p=!1,h=!1,m="",g=!1,v=0,w=a.length;v<w;v++){var C=a.charAt(v);if(g=g||!p&&(C==="*"||C==="?"),h)m+=C,h=!1;else if(p)C===p?p=!1:p==l?m+=C:C===f?(v+=1,C=a.charAt(v),C===u||C===f||C===d?m+=C:m+=f+C):C===d?m+=b():m+=C;else if(C===u||C===l)p=C;else{if(RegExp("^"+PC+"$").test(C))return{op:a};if(RegExp("^#$").test(C))return o=!0,m.length?[m,{comment:a.slice(v+1)+i.slice(c+1).join(" ")}]:[{comment:a.slice(v+1)+i.slice(c+1).join(" ")}];C===f?h=!0:C===d?m+=b():m+=C}}if(g)return{op:"glob",pattern:m};return m;function b(){v+=1;var _,S;if(a.charAt(v)==="{"){if(v+=1,a.charAt(v)==="}")throw new Error("Bad substitution: "+a.substr(v-2,3));if(_=a.indexOf("}",v),_<0)throw new Error("Bad substitution: "+a.substr(v));S=a.substr(v,_-v),v=_}else/[*@#?$!_\-]/.test(a.charAt(v))?(S=a.charAt(v),v+=1):(_=a.substr(v).match(/[^\w\d_]/),_?(S=a.substr(v,_.index),v+=_.index-1):(S=a.substr(v),v=a.length));return s(null,"",S)}}).reduce(function(a,c){return c===void 0?a:a.concat(c)},[]);function s(a,c,l){var u=typeof e=="function"?e(l):e[l];return u===void 0&&l!=""?u="":u===void 0&&(u="$"),typeof u=="object"?c+Ys+JSON.stringify(u)+Ys:c+u}}});var _u=I((rye,jO)=>{var jY="2.0.0",UY=256,BY=Number.MAX_SAFE_INTEGER||9007199254740991,HY=16;jO.exports={SEMVER_SPEC_VERSION:jY,MAX_LENGTH:UY,MAX_SAFE_INTEGER:BY,MAX_SAFE_COMPONENT_LENGTH:HY}});var Su=I((nye,UO)=>{var VY=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};UO.exports=VY});var Qs=I((Ro,BO)=>{var{MAX_SAFE_COMPONENT_LENGTH:MC}=_u(),WY=Su();Ro=BO.exports={};var GY=Ro.re=[],de=Ro.src=[],fe=Ro.t={},zY=0,Ae=(t,e,r)=>{let n=zY++;WY(n,e),fe[t]=n,de[n]=e,GY[n]=new RegExp(e,r?"g":void 0)};Ae("NUMERICIDENTIFIER","0|[1-9]\\d*");Ae("NUMERICIDENTIFIERLOOSE","[0-9]+");Ae("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Ae("MAINVERSION",`(${de[fe.NUMERICIDENTIFIER]})\\.(${de[fe.NUMERICIDENTIFIER]})\\.(${de[fe.NUMERICIDENTIFIER]})`);Ae("MAINVERSIONLOOSE",`(${de[fe.NUMERICIDENTIFIERLOOSE]})\\.(${de[fe.NUMERICIDENTIFIERLOOSE]})\\.(${de[fe.NUMERICIDENTIFIERLOOSE]})`);Ae("PRERELEASEIDENTIFIER",`(?:${de[fe.NUMERICIDENTIFIER]}|${de[fe.NONNUMERICIDENTIFIER]})`);Ae("PRERELEASEIDENTIFIERLOOSE",`(?:${de[fe.NUMERICIDENTIFIERLOOSE]}|${de[fe.NONNUMERICIDENTIFIER]})`);Ae("PRERELEASE",`(?:-(${de[fe.PRERELEASEIDENTIFIER]}(?:\\.${de[fe.PRERELEASEIDENTIFIER]})*))`);Ae("PRERELEASELOOSE",`(?:-?(${de[fe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${de[fe.PRERELEASEIDENTIFIERLOOSE]})*))`);Ae("BUILDIDENTIFIER","[0-9A-Za-z-]+");Ae("BUILD",`(?:\\+(${de[fe.BUILDIDENTIFIER]}(?:\\.${de[fe.BUILDIDENTIFIER]})*))`);Ae("FULLPLAIN",`v?${de[fe.MAINVERSION]}${de[fe.PRERELEASE]}?${de[fe.BUILD]}?`);Ae("FULL",`^${de[fe.FULLPLAIN]}$`);Ae("LOOSEPLAIN",`[v=\\s]*${de[fe.MAINVERSIONLOOSE]}${de[fe.PRERELEASELOOSE]}?${de[fe.BUILD]}?`);Ae("LOOSE",`^${de[fe.LOOSEPLAIN]}$`);Ae("GTLT","((?:<|>)?=?)");Ae("XRANGEIDENTIFIERLOOSE",`${de[fe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ae("XRANGEIDENTIFIER",`${de[fe.NUMERICIDENTIFIER]}|x|X|\\*`);Ae("XRANGEPLAIN",`[v=\\s]*(${de[fe.XRANGEIDENTIFIER]})(?:\\.(${de[fe.XRANGEIDENTIFIER]})(?:\\.(${de[fe.XRANGEIDENTIFIER]})(?:${de[fe.PRERELEASE]})?${de[fe.BUILD]}?)?)?`);Ae("XRANGEPLAINLOOSE",`[v=\\s]*(${de[fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${de[fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${de[fe.XRANGEIDENTIFIERLOOSE]})(?:${de[fe.PRERELEASELOOSE]})?${de[fe.BUILD]}?)?)?`);Ae("XRANGE",`^${de[fe.GTLT]}\\s*${de[fe.XRANGEPLAIN]}$`);Ae("XRANGELOOSE",`^${de[fe.GTLT]}\\s*${de[fe.XRANGEPLAINLOOSE]}$`);Ae("COERCE",`(^|[^\\d])(\\d{1,${MC}})(?:\\.(\\d{1,${MC}}))?(?:\\.(\\d{1,${MC}}))?(?:$|[^\\d])`);Ae("COERCERTL",de[fe.COERCE],!0);Ae("LONETILDE","(?:~>?)");Ae("TILDETRIM",`(\\s*)${de[fe.LONETILDE]}\\s+`,!0);Ro.tildeTrimReplace="$1~";Ae("TILDE",`^${de[fe.LONETILDE]}${de[fe.XRANGEPLAIN]}$`);Ae("TILDELOOSE",`^${de[fe.LONETILDE]}${de[fe.XRANGEPLAINLOOSE]}$`);Ae("LONECARET","(?:\\^)");Ae("CARETTRIM",`(\\s*)${de[fe.LONECARET]}\\s+`,!0);Ro.caretTrimReplace="$1^";Ae("CARET",`^${de[fe.LONECARET]}${de[fe.XRANGEPLAIN]}$`);Ae("CARETLOOSE",`^${de[fe.LONECARET]}${de[fe.XRANGEPLAINLOOSE]}$`);Ae("COMPARATORLOOSE",`^${de[fe.GTLT]}\\s*(${de[fe.LOOSEPLAIN]})$|^$`);Ae("COMPARATOR",`^${de[fe.GTLT]}\\s*(${de[fe.FULLPLAIN]})$|^$`);Ae("COMPARATORTRIM",`(\\s*)${de[fe.GTLT]}\\s*(${de[fe.LOOSEPLAIN]}|${de[fe.XRANGEPLAIN]})`,!0);Ro.comparatorTrimReplace="$1$2$3";Ae("HYPHENRANGE",`^\\s*(${de[fe.XRANGEPLAIN]})\\s+-\\s+(${de[fe.XRANGEPLAIN]})\\s*$`);Ae("HYPHENRANGELOOSE",`^\\s*(${de[fe.XRANGEPLAINLOOSE]})\\s+-\\s+(${de[fe.XRANGEPLAINLOOSE]})\\s*$`);Ae("STAR","(<|>)?=?\\s*\\*");Ae("GTE0","^\\s*>=\\s*0.0.0\\s*$");Ae("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var xu=I((iye,HO)=>{var KY=["includePrerelease","loose","rtl"],YY=t=>t?typeof t!="object"?{loose:!0}:KY.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};HO.exports=YY});var Th=I((oye,GO)=>{var VO=/^[0-9]+$/,WO=(t,e)=>{let r=VO.test(t),n=VO.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},JY=(t,e)=>WO(e,t);GO.exports={compareIdentifiers:WO,rcompareIdentifiers:JY}});var ar=I((sye,JO)=>{var Dh=Su(),{MAX_LENGTH:zO,MAX_SAFE_INTEGER:Rh}=_u(),{re:KO,t:YO}=Qs(),QY=xu(),{compareIdentifiers:Pu}=Th(),an=class{constructor(e,r){if(r=QY(r),e instanceof an){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>zO)throw new TypeError(`version is longer than ${zO} characters`);Dh("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?KO[YO.LOOSE]:KO[YO.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Rh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Rh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Rh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Rh)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Dh("SemVer.compare",this.version,this.options,e),!(e instanceof an)){if(typeof e=="string"&&e===this.version)return 0;e=new an(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof an||(e=new an(e,this.options)),Pu(this.major,e.major)||Pu(this.minor,e.minor)||Pu(this.patch,e.patch)}comparePre(e){if(e instanceof an||(e=new an(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Dh("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pu(n,i)}while(++r)}compareBuild(e){e instanceof an||(e=new an(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Dh("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pu(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};JO.exports=an});var Xs=I((aye,eN)=>{var{MAX_LENGTH:XY}=_u(),{re:QO,t:XO}=Qs(),ZO=ar(),ZY=xu(),e7=(t,e)=>{if(e=ZY(e),t instanceof ZO)return t;if(typeof t!="string"||t.length>XY||!(e.loose?QO[XO.LOOSE]:QO[XO.FULL]).test(t))return null;try{return new ZO(t,e)}catch{return null}};eN.exports=e7});var rN=I((cye,tN)=>{var t7=Xs(),r7=(t,e)=>{let r=t7(t,e);return r?r.version:null};tN.exports=r7});var iN=I((lye,nN)=>{var n7=Xs(),i7=(t,e)=>{let r=n7(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};nN.exports=i7});var sN=I((uye,oN)=>{var o7=ar(),s7=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new o7(t,r).inc(e,n).version}catch{return null}};oN.exports=s7});var cn=I((dye,cN)=>{var aN=ar(),a7=(t,e,r)=>new aN(t,r).compare(new aN(e,r));cN.exports=a7});var Oh=I((fye,lN)=>{var c7=cn(),l7=(t,e,r)=>c7(t,e,r)===0;lN.exports=l7});var fN=I((pye,dN)=>{var uN=Xs(),u7=Oh(),d7=(t,e)=>{if(u7(t,e))return null;{let r=uN(t),n=uN(e),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};dN.exports=d7});var hN=I((hye,pN)=>{var f7=ar(),p7=(t,e)=>new f7(t,e).major;pN.exports=p7});var gN=I((mye,mN)=>{var h7=ar(),m7=(t,e)=>new h7(t,e).minor;mN.exports=m7});var yN=I((gye,vN)=>{var g7=ar(),v7=(t,e)=>new g7(t,e).patch;vN.exports=v7});var CN=I((vye,wN)=>{var y7=Xs(),w7=(t,e)=>{let r=y7(t,e);return r&&r.prerelease.length?r.prerelease:null};wN.exports=w7});var EN=I((yye,bN)=>{var C7=cn(),b7=(t,e,r)=>C7(e,t,r);bN.exports=b7});var SN=I((wye,_N)=>{var E7=cn(),_7=(t,e)=>E7(t,e,!0);_N.exports=_7});var Nh=I((Cye,PN)=>{var xN=ar(),S7=(t,e,r)=>{let n=new xN(t,r),i=new xN(e,r);return n.compare(i)||n.compareBuild(i)};PN.exports=S7});var IN=I((bye,kN)=>{var x7=Nh(),P7=(t,e)=>t.sort((r,n)=>x7(r,n,e));kN.exports=P7});var TN=I((Eye,AN)=>{var k7=Nh(),I7=(t,e)=>t.sort((r,n)=>k7(n,r,e));AN.exports=I7});var ku=I((_ye,DN)=>{var A7=cn(),T7=(t,e,r)=>A7(t,e,r)>0;DN.exports=T7});var Lh=I((Sye,RN)=>{var D7=cn(),R7=(t,e,r)=>D7(t,e,r)<0;RN.exports=R7});var qC=I((xye,ON)=>{var O7=cn(),N7=(t,e,r)=>O7(t,e,r)!==0;ON.exports=N7});var Fh=I((Pye,NN)=>{var L7=cn(),F7=(t,e,r)=>L7(t,e,r)>=0;NN.exports=F7});var Mh=I((kye,LN)=>{var M7=cn(),q7=(t,e,r)=>M7(t,e,r)<=0;LN.exports=q7});var $C=I((Iye,FN)=>{var $7=Oh(),j7=qC(),U7=ku(),B7=Fh(),H7=Lh(),V7=Mh(),W7=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return $7(t,r,n);case"!=":return j7(t,r,n);case">":return U7(t,r,n);case">=":return B7(t,r,n);case"<":return H7(t,r,n);case"<=":return V7(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};FN.exports=W7});var qN=I((Aye,MN)=>{var G7=ar(),z7=Xs(),{re:qh,t:$h}=Qs(),K7=(t,e)=>{if(t instanceof G7)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(qh[$h.COERCE]);else{let n;for(;(n=qh[$h.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),qh[$h.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;qh[$h.COERCERTL].lastIndex=-1}return r===null?null:z7(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};MN.exports=K7});var WN=I((Tye,VN)=>{"use strict";var Y7=El(),Zs=Symbol("max"),ji=Symbol("length"),bc=Symbol("lengthCalculator"),Iu=Symbol("allowStale"),ea=Symbol("maxAge"),Ui=Symbol("dispose"),$N=Symbol("noDisposeOnSet"),jt=Symbol("lruList"),Rn=Symbol("cache"),jN=Symbol("updateAgeOnGet"),jC=()=>1,UN=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Zs]=e.max||1/0,n=e.length||jC;if(this[bc]=typeof n!="function"?jC:n,this[Iu]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ea]=e.maxAge||0,this[Ui]=e.dispose,this[$N]=e.noDisposeOnSet||!1,this[jN]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Zs]=e||1/0,Au(this)}get max(){return this[Zs]}set allowStale(e){this[Iu]=!!e}get allowStale(){return this[Iu]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ea]=e,Au(this)}get maxAge(){return this[ea]}set lengthCalculator(e){typeof e!="function"&&(e=jC),e!==this[bc]&&(this[bc]=e,this[ji]=0,this[jt].forEach(r=>{r.length=this[bc](r.value,r.key),this[ji]+=r.length})),Au(this)}get lengthCalculator(){return this[bc]}get length(){return this[ji]}get itemCount(){return this[jt].length}rforEach(e,r){r=r||this;for(let n=this[jt].tail;n!==null;){let i=n.prev;HN(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[jt].head;n!==null;){let i=n.next;HN(this,e,n,r),n=i}}keys(){return this[jt].toArray().map(e=>e.key)}values(){return this[jt].toArray().map(e=>e.value)}reset(){this[Ui]&&this[jt]&&this[jt].length&&this[jt].forEach(e=>this[Ui](e.key,e.value)),this[Rn]=new Map,this[jt]=new Y7,this[ji]=0}dump(){return this[jt].map(e=>jh(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[jt]}set(e,r,n){if(n=n||this[ea],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[bc](r,e);if(this[Rn].has(e)){if(o>this[Zs])return Ec(this,this[Rn].get(e)),!1;let c=this[Rn].get(e).value;return this[Ui]&&(this[$N]||this[Ui](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[ji]+=o-c.length,c.length=o,this.get(e),Au(this),!0}let s=new BN(e,r,o,i,n);return s.length>this[Zs]?(this[Ui]&&this[Ui](e,r),!1):(this[ji]+=s.length,this[jt].unshift(s),this[Rn].set(e,this[jt].head),Au(this),!0)}has(e){if(!this[Rn].has(e))return!1;let r=this[Rn].get(e).value;return!jh(this,r)}get(e){return UC(this,e,!0)}peek(e){return UC(this,e,!1)}pop(){let e=this[jt].tail;return e?(Ec(this,e),e.value):null}del(e){Ec(this,this[Rn].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Rn].forEach((e,r)=>UC(this,r,!1))}},UC=(t,e,r)=>{let n=t[Rn].get(e);if(n){let i=n.value;if(jh(t,i)){if(Ec(t,n),!t[Iu])return}else r&&(t[jN]&&(n.value.now=Date.now()),t[jt].unshiftNode(n));return i.value}},jh=(t,e)=>{if(!e||!e.maxAge&&!t[ea])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[ea]&&r>t[ea]},Au=t=>{if(t[ji]>t[Zs])for(let e=t[jt].tail;t[ji]>t[Zs]&&e!==null;){let r=e.prev;Ec(t,e),e=r}},Ec=(t,e)=>{if(e){let r=e.value;t[Ui]&&t[Ui](r.key,r.value),t[ji]-=r.length,t[Rn].delete(r.key),t[jt].removeNode(e)}},BN=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},HN=(t,e,r,n)=>{let i=r.value;jh(t,i)&&(Ec(t,r),t[Iu]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};VN.exports=UN});var ln=I((Dye,YN)=>{var _c=class{constructor(e,r){if(r=Q7(r),e instanceof _c)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new _c(e.raw,r);if(e instanceof BC)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!zN(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&rJ(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=GN.get(n);if(i)return i;let o=this.options.loose,s=o?cr[Yt.HYPHENRANGELOOSE]:cr[Yt.HYPHENRANGE];e=e.replace(s,fJ(this.options.includePrerelease)),Et("hyphen replace",e),e=e.replace(cr[Yt.COMPARATORTRIM],Z7),Et("comparator trim",e,cr[Yt.COMPARATORTRIM]),e=e.replace(cr[Yt.TILDETRIM],eJ),e=e.replace(cr[Yt.CARETTRIM],tJ),e=e.split(/\s+/).join(" ");let a=o?cr[Yt.COMPARATORLOOSE]:cr[Yt.COMPARATOR],c=e.split(" ").map(f=>nJ(f,this.options)).join(" ").split(/\s+/).map(f=>dJ(f,this.options)).filter(this.options.loose?f=>!!f.match(a):()=>!0).map(f=>new BC(f,this.options)),l=c.length,u=new Map;for(let f of c){if(zN(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return GN.set(n,d),d}intersects(e,r){if(!(e instanceof _c))throw new TypeError("a Range is required");return this.set.some(n=>KN(n,r)&&e.set.some(i=>KN(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new X7(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(pJ(this.set[r],e,this.options))return!0;return!1}};YN.exports=_c;var J7=WN(),GN=new J7({max:1e3}),Q7=xu(),BC=Tu(),Et=Su(),X7=ar(),{re:cr,t:Yt,comparatorTrimReplace:Z7,tildeTrimReplace:eJ,caretTrimReplace:tJ}=Qs(),zN=t=>t.value==="<0.0.0-0",rJ=t=>t.value==="",KN=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},nJ=(t,e)=>(Et("comp",t,e),t=sJ(t,e),Et("caret",t),t=iJ(t,e),Et("tildes",t),t=cJ(t,e),Et("xrange",t),t=uJ(t,e),Et("stars",t),t),pr=t=>!t||t.toLowerCase()==="x"||t==="*",iJ=(t,e)=>t.trim().split(/\s+/).map(r=>oJ(r,e)).join(" "),oJ=(t,e)=>{let r=e.loose?cr[Yt.TILDELOOSE]:cr[Yt.TILDE];return t.replace(r,(n,i,o,s,a)=>{Et("tilde",t,n,i,o,s,a);let c;return pr(i)?c="":pr(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:pr(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Et("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Et("tilde return",c),c})},sJ=(t,e)=>t.trim().split(/\s+/).map(r=>aJ(r,e)).join(" "),aJ=(t,e)=>{Et("caret",t,e);let r=e.loose?cr[Yt.CARETLOOSE]:cr[Yt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{Et("caret",t,i,o,s,a,c);let l;return pr(o)?l="":pr(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:pr(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Et("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Et("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Et("caret return",l),l})},cJ=(t,e)=>(Et("replaceXRanges",t,e),t.split(/\s+/).map(r=>lJ(r,e)).join(" ")),lJ=(t,e)=>{t=t.trim();let r=e.loose?cr[Yt.XRANGELOOSE]:cr[Yt.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{Et("xRange",t,n,i,o,s,a,c);let l=pr(o),u=l||pr(s),d=u||pr(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Et("xRange return",n),n})},uJ=(t,e)=>(Et("replaceStars",t,e),t.trim().replace(cr[Yt.STAR],"")),dJ=(t,e)=>(Et("replaceGTE0",t,e),t.trim().replace(cr[e.includePrerelease?Yt.GTE0PRE:Yt.GTE0],"")),fJ=t=>(e,r,n,i,o,s,a,c,l,u,d,f,p)=>(pr(n)?r="":pr(i)?r=`>=${n}.0.0${t?"-0":""}`:pr(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,pr(l)?c="":pr(u)?c=`<${+l+1}.0.0-0`:pr(d)?c=`<${l}.${+u+1}.0-0`:f?c=`<=${l}.${u}.${d}-${f}`:t?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),pJ=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Et(t[n].semver),t[n].semver!==BC.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Tu=I((Rye,e1)=>{var Du=Symbol("SemVer ANY"),Ru=class{static get ANY(){return Du}constructor(e,r){if(r=hJ(r),e instanceof Ru){if(e.loose===!!r.loose)return e;e=e.value}VC("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Du?this.value="":this.value=this.operator+this.semver.version,VC("comp",this)}parse(e){let r=this.options.loose?JN[QN.COMPARATORLOOSE]:JN[QN.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new XN(n[2],this.options.loose):this.semver=Du}toString(){return this.value}test(e){if(VC("Comparator.test",e,this.options.loose),this.semver===Du||e===Du)return!0;if(typeof e=="string")try{e=new XN(e,this.options)}catch{return!1}return HC(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Ru))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new ZN(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new ZN(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=HC(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=HC(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&s||a||c}};e1.exports=Ru;var hJ=xu(),{re:JN,t:QN}=Qs(),HC=$C(),VC=Su(),XN=ar(),ZN=ln()});var Ou=I((Oye,t1)=>{var mJ=ln(),gJ=(t,e,r)=>{try{e=new mJ(e,r)}catch{return!1}return e.test(t)};t1.exports=gJ});var n1=I((Nye,r1)=>{var vJ=ln(),yJ=(t,e)=>new vJ(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));r1.exports=yJ});var o1=I((Lye,i1)=>{var wJ=ar(),CJ=ln(),bJ=(t,e,r)=>{let n=null,i=null,o=null;try{o=new CJ(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new wJ(n,r))}),n};i1.exports=bJ});var a1=I((Fye,s1)=>{var EJ=ar(),_J=ln(),SJ=(t,e,r)=>{let n=null,i=null,o=null;try{o=new _J(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new EJ(n,r))}),n};s1.exports=SJ});var u1=I((Mye,l1)=>{var WC=ar(),xJ=ln(),c1=ku(),PJ=(t,e)=>{t=new xJ(t,e);let r=new WC("0.0.0");if(t.test(r)||(r=new WC("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new WC(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||c1(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||c1(r,o))&&(r=o)}return r&&t.test(r)?r:null};l1.exports=PJ});var f1=I((qye,d1)=>{var kJ=ln(),IJ=(t,e)=>{try{return new kJ(t,e).range||"*"}catch{return null}};d1.exports=IJ});var Uh=I(($ye,g1)=>{var AJ=ar(),p1=Tu(),{ANY:TJ}=p1,DJ=ln(),RJ=Ou(),h1=ku(),m1=Lh(),OJ=Mh(),NJ=Fh(),LJ=(t,e,r,n)=>{t=new AJ(t,n),e=new DJ(e,n);let i,o,s,a,c;switch(r){case">":i=h1,o=OJ,s=m1,a=">",c=">=";break;case"<":i=m1,o=NJ,s=h1,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(RJ(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],d=null,f=null;if(u.forEach(p=>{p.semver===TJ&&(p=new p1(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0};g1.exports=LJ});var y1=I((jye,v1)=>{var FJ=Uh(),MJ=(t,e,r)=>FJ(t,e,">",r);v1.exports=MJ});var C1=I((Uye,w1)=>{var qJ=Uh(),$J=(t,e,r)=>qJ(t,e,"<",r);w1.exports=$J});var _1=I((Bye,E1)=>{var b1=ln(),jJ=(t,e,r)=>(t=new b1(t,r),e=new b1(e,r),t.intersects(e));E1.exports=jJ});var x1=I((Hye,S1)=>{var UJ=Ou(),BJ=cn();S1.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((u,d)=>BJ(u,d,r));for(let u of s)UJ(u,e,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var T1=I((Vye,A1)=>{var P1=ln(),Bh=Tu(),{ANY:GC}=Bh,Nu=Ou(),zC=cn(),HJ=(t,e,r={})=>{if(t===e)return!0;t=new P1(t,r),e=new P1(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=VJ(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},VJ=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===GC){if(e.length===1&&e[0].semver===GC)return!0;r.includePrerelease?t=[new Bh(">=0.0.0-0")]:t=[new Bh(">=0.0.0")]}if(e.length===1&&e[0].semver===GC){if(r.includePrerelease)return!0;e=[new Bh(">=0.0.0")]}let n=new Set,i,o;for(let p of t)p.operator===">"||p.operator===">="?i=k1(i,p,r):p.operator==="<"||p.operator==="<="?o=I1(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=zC(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!Nu(p,String(i),r)||o&&!Nu(p,String(o),r))return null;for(let h of e)if(!Nu(p,String(h),r))return!1;return!0}let a,c,l,u,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=k1(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Nu(i.semver,String(p),r))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=I1(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!Nu(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||f||d)},k1=(t,e,r)=>{if(!t)return e;let n=zC(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},I1=(t,e,r)=>{if(!t)return e;let n=zC(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};A1.exports=HJ});var R1=I((Wye,D1)=>{var KC=Qs();D1.exports={re:KC.re,src:KC.src,tokens:KC.t,SEMVER_SPEC_VERSION:_u().SEMVER_SPEC_VERSION,SemVer:ar(),compareIdentifiers:Th().compareIdentifiers,rcompareIdentifiers:Th().rcompareIdentifiers,parse:Xs(),valid:rN(),clean:iN(),inc:sN(),diff:fN(),major:hN(),minor:gN(),patch:yN(),prerelease:CN(),compare:cn(),rcompare:EN(),compareLoose:SN(),compareBuild:Nh(),sort:IN(),rsort:TN(),gt:ku(),lt:Lh(),eq:Oh(),neq:qC(),gte:Fh(),lte:Mh(),cmp:$C(),coerce:qN(),Comparator:Tu(),Range:ln(),satisfies:Ou(),toComparators:n1(),maxSatisfying:o1(),minSatisfying:a1(),minVersion:u1(),validRange:f1(),outside:Uh(),gtr:y1(),ltr:C1(),intersects:_1(),simplifyRange:x1(),subset:T1()}});var AF=I(IF=>{var LQ=Object.create,Wu=Object.defineProperty,FQ=Object.getOwnPropertyDescriptor,MQ=Object.getOwnPropertyNames,ML=Object.getOwnPropertySymbols,qQ=Object.getPrototypeOf,qL=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,$L=(t,e,r)=>e in t?Wu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qo=(t,e)=>{for(var r in e||(e={}))qL.call(e,r)&&$L(t,r,e[r]);if(ML)for(var r of ML(e))$Q.call(e,r)&&$L(t,r,e[r]);return t},jL=t=>Wu(t,"__esModule",{value:!0}),O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jQ=(t,e)=>{jL(t);for(var r in e)Wu(t,r,{get:e[r],enumerable:!0})},UQ=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of MQ(e))!qL.call(t,n)&&n!=="default"&&Wu(t,n,{get:()=>e[n],enumerable:!(r=FQ(e,n))||r.enumerable});return t},Gu=t=>UQ(jL(Wu(t!=null?LQ(qQ(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Qt=O((t,e)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();e.exports=r}),UL=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var r=Fc(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return e(e({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,l=s.name,u=o._spanToContext(s,c,l);return r.CorrelationContextManager.runWithContext(u,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var l=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,u=e(e({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),d=r.CorrelationContextManager.spanToContextObject(u,l,c);return d},o}();t.OpenTelemetryScopeManagerWrapper=i,t.AsyncScopeManager=new i}),BQ=O((t,e)=>{t=e.exports=X;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var y=Array.prototype.slice.call(arguments,0);y.unshift("SEMVER"),console.log.apply(console,y)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var w=c++;a[w]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[w]+"(?:\\."+a[w]+")*))";var b=c++,_="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var S="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",x=c++;a[x]="^"+S+"$";var k=c++;a[k]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var F=c++;a[F]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Q=c++;a[Q]="^"+a[k]+"\\s*"+a[F]+"$";var J=c++;a[J]="^"+a[k]+"\\s*"+a[H]+"$";var le=c++;a[le]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var G=c++;a[G]="(?:~>?)";var M=c++;a[M]="(\\s*)"+a[G]+"\\s+",s[M]=new RegExp(a[M],"g");var L="$1~",q=c++;a[q]="^"+a[G]+a[F]+"$";var V=c++;a[V]="^"+a[G]+a[H]+"$";var K=c++;a[K]="(?:\\^)";var ie=c++;a[ie]="(\\s*)"+a[K]+"\\s+",s[ie]=new RegExp(a[ie],"g");var te="$1^",be=c++;a[be]="^"+a[K]+a[F]+"$";var Pe=c++;a[Pe]="^"+a[K]+a[H]+"$";var xe=c++;a[xe]="^"+a[k]+"\\s*("+S+")$|^$";var Te=c++;a[Te]="^"+a[k]+"\\s*("+_+")$|^$";var he=c++;a[he]="(\\s*)"+a[k]+"\\s*("+S+"|"+a[F]+")",s[he]=new RegExp(a[he],"g");var wt="$1$2$3",At=c++;a[At]="^\\s*("+a[F]+")\\s+-\\s+("+a[F]+")\\s*$";var ye=c++;a[ye]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var pe=c++;for(a[pe]="(<|>)?=?\\s*\\*",Ce=0;Ce<c;Ce++)r(Ce,a[Ce]),s[Ce]||(s[Ce]=new RegExp(a[Ce]));var Ce;t.parse=Ue;function Ue(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X)return y;if(typeof y!="string"||y.length>n)return null;var P=E.loose?s[x]:s[b];if(!P.test(y))return null;try{return new X(y,E)}catch{return null}}t.valid=ts;function ts(y,E){var P=Ue(y,E);return P?P.version:null}t.clean=rs;function rs(y,E){var P=Ue(y.trim().replace(/^[=v]+/,""),E);return P?P.version:null}t.SemVer=X;function X(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X){if(y.loose===E.loose)return y;y=y.version}else if(typeof y!="string")throw new TypeError("Invalid Version: "+y);if(y.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof X))return new X(y,E);r("SemVer",y,E),this.options=E,this.loose=!!E.loose;var P=y.trim().match(E.loose?s[x]:s[b]);if(!P)throw new TypeError("Invalid Version: "+y);if(this.raw=y,this.major=+P[1],this.minor=+P[2],this.patch=+P[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");P[4]?this.prerelease=P[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var N=+R;if(N>=0&&N<i)return N}return R}):this.prerelease=[],this.build=P[5]?P[5].split("."):[],this.format()}X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(y){return r("SemVer.compare",this.version,this.options,y),y instanceof X||(y=new X(y,this.options)),this.compareMain(y)||this.comparePre(y)},X.prototype.compareMain=function(y){return y instanceof X||(y=new X(y,this.options)),at(this.major,y.major)||at(this.minor,y.minor)||at(this.patch,y.patch)},X.prototype.comparePre=function(y){if(y instanceof X||(y=new X(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;var E=0;do{var P=this.prerelease[E],R=y.prerelease[E];if(r("prerelease compare",E,P,R),P===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(P===void 0)return-1;if(P!==R)return at(P,R)}while(++E)},X.prototype.inc=function(y,E){switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var P=this.prerelease.length;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);P===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+y)}return this.format(),this.raw=this.version,this},t.inc=ns;function ns(y,E,P,R){typeof P=="string"&&(R=P,P=void 0);try{return new X(y,P).inc(E,R).version}catch{return null}}t.diff=is;function is(y,E){if(gr(y,E))return null;var P=Ue(y),R=Ue(E),N="";if(P.prerelease.length||R.prerelease.length){N="pre";var $="prerelease"}for(var B in P)if((B==="major"||B==="minor"||B==="patch")&&P[B]!==R[B])return N+B;return $}t.compareIdentifiers=at;var kr=/^[0-9]+$/;function at(y,E){var P=kr.test(y),R=kr.test(E);return P&&R&&(y=+y,E=+E),y===E?0:P&&!R?-1:R&&!P?1:y<E?-1:1}t.rcompareIdentifiers=Vn;function Vn(y,E){return at(E,y)}t.major=ur;function ur(y,E){return new X(y,E).major}t.minor=Yi;function Yi(y,E){return new X(y,E).minor}t.patch=Ji;function Ji(y,E){return new X(y,E).patch}t.compare=Ge;function Ge(y,E,P){return new X(y,P).compare(new X(E,P))}t.compareLoose=os;function os(y,E){return Ge(y,E,!0)}t.rcompare=Wn;function Wn(y,E,P){return Ge(E,y,P)}t.sort=Qi;function Qi(y,E){return y.sort(function(P,R){return t.compare(P,R,E)})}t.rsort=Xi;function Xi(y,E){return y.sort(function(P,R){return t.rcompare(P,R,E)})}t.gt=_t;function _t(y,E,P){return Ge(y,E,P)>0}t.lt=Bt;function Bt(y,E,P){return Ge(y,E,P)<0}t.eq=gr;function gr(y,E,P){return Ge(y,E,P)===0}t.neq=Gn;function Gn(y,E,P){return Ge(y,E,P)!==0}t.gte=Ir;function Ir(y,E,P){return Ge(y,E,P)>=0}t.lte=Tt;function Tt(y,E,P){return Ge(y,E,P)<=0}t.cmp=Dt;function Dt(y,E,P,R){switch(E){case"===":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y===P;case"!==":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y!==P;case"":case"=":case"==":return gr(y,P,R);case"!=":return Gn(y,P,R);case">":return _t(y,P,R);case">=":return Ir(y,P,R);case"<":return Bt(y,P,R);case"<=":return Tt(y,P,R);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ie;function Ie(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof Ie){if(y.loose===!!E.loose)return y;y=y.value}if(!(this instanceof Ie))return new Ie(y,E);r("comparator",y,E),this.options=E,this.loose=!!E.loose,this.parse(y),this.semver===St?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var St={};Ie.prototype.parse=function(y){var E=this.options.loose?s[xe]:s[Te],P=y.match(E);if(!P)throw new TypeError("Invalid comparator: "+y);this.operator=P[1],this.operator==="="&&(this.operator=""),P[2]?this.semver=new X(P[2],this.options.loose):this.semver=St},Ie.prototype.toString=function(){return this.value},Ie.prototype.test=function(y){return r("Comparator.test",y,this.options.loose),this.semver===St?!0:(typeof y=="string"&&(y=new X(y,this.options)),Dt(y,this.operator,this.semver,this.options))},Ie.prototype.intersects=function(y,E){if(!(y instanceof Ie))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var P;if(this.operator==="")return P=new ae(y.value,E),er(this.value,P,E);if(y.operator==="")return P=new ae(this.value,E),er(y.semver,P,E);var R=(this.operator===">="||this.operator===">")&&(y.operator===">="||y.operator===">"),N=(this.operator==="<="||this.operator==="<")&&(y.operator==="<="||y.operator==="<"),$=this.semver.version===y.semver.version,B=(this.operator===">="||this.operator==="<=")&&(y.operator===">="||y.operator==="<="),ee=Dt(this.semver,"<",y.semver,E)&&(this.operator===">="||this.operator===">")&&(y.operator==="<="||y.operator==="<"),Z=Dt(this.semver,">",y.semver,E)&&(this.operator==="<="||this.operator==="<")&&(y.operator===">="||y.operator===">");return R||N||$&&B||ee||Z},t.Range=ae;function ae(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof ae)return y.loose===!!E.loose&&y.includePrerelease===!!E.includePrerelease?y:new ae(y.raw,E);if(y instanceof Ie)return new ae(y.value,E);if(!(this instanceof ae))return new ae(y,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=y,this.set=y.split(/\s*\|\|\s*/).map(function(P){return this.parseRange(P.trim())},this).filter(function(P){return P.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+y);this.format()}ae.prototype.format=function(){return this.range=this.set.map(function(y){return y.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(y){var E=this.options.loose;y=y.trim();var P=E?s[ye]:s[At];y=y.replace(P,ds),r("hyphen replace",y),y=y.replace(s[he],wt),r("comparator trim",y,s[he]),y=y.replace(s[M],L),y=y.replace(s[ie],te),y=y.split(/\s+/).join(" ");var R=E?s[xe]:s[Te],N=y.split(" ").map(function($){return bn($,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(N=N.filter(function($){return!!$.match(R)})),N=N.map(function($){return new Ie($,this.options)},this),N},ae.prototype.intersects=function(y,E){if(!(y instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(P){return P.every(function(R){return y.set.some(function(N){return N.every(function($){return R.intersects($,E)})})})})},t.toComparators=Zi;function Zi(y,E){return new ae(y,E).set.map(function(P){return P.map(function(R){return R.value}).join(" ").trim().split(" ")})}function bn(y,E){return r("comp",y,E),y=as(y,E),r("caret",y),y=Ar(y,E),r("tildes",y),y=ls(y,E),r("xrange",y),y=dr(y,E),r("stars",y),y}function we(y){return!y||y.toLowerCase()==="x"||y==="*"}function Ar(y,E){return y.trim().split(/\s+/).map(function(P){return ss(P,E)}).join(" ")}function ss(y,E){var P=E.loose?s[V]:s[q];return y.replace(P,function(R,N,$,B,ee){r("tilde",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":ee?(r("replaceTilde pr",ee),Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0"):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0",r("tilde return",Z),Z})}function as(y,E){return y.trim().split(/\s+/).map(function(P){return cs(P,E)}).join(" ")}function cs(y,E){r("caret",y,E);var P=E.loose?s[Pe]:s[be];return y.replace(P,function(R,N,$,B,ee){r("caret",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?N==="0"?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+".0 <"+(+N+1)+".0.0":ee?(r("replaceCaret pr",ee),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+"-"+ee+" <"+(+N+1)+".0.0"):(r("no pr"),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+" <"+(+N+1)+".0.0"),r("caret return",Z),Z})}function ls(y,E){return r("replaceXRanges",y,E),y.split(/\s+/).map(function(P){return us(P,E)}).join(" ")}function us(y,E){y=y.trim();var P=E.loose?s[J]:s[Q];return y.replace(P,function(R,N,$,B,ee,Z){r("xRange",y,R,N,$,B,ee,Z);var Me=we($),De=Me||we(B),ke=De||we(ee),_e=ke;return N==="="&&_e&&(N=""),Me?N===">"||N==="<"?R="<0.0.0":R="*":N&&_e?(De&&(B=0),ee=0,N===">"?(N=">=",De?($=+$+1,B=0,ee=0):(B=+B+1,ee=0)):N==="<="&&(N="<",De?$=+$+1:B=+B+1),R=N+$+"."+B+"."+ee):De?R=">="+$+".0.0 <"+(+$+1)+".0.0":ke&&(R=">="+$+"."+B+".0 <"+$+"."+(+B+1)+".0"),r("xRange return",R),R})}function dr(y,E){return r("replaceStars",y,E),y.trim().replace(s[pe],"")}function ds(y,E,P,R,N,$,B,ee,Z,Me,De,ke,_e){return we(P)?E="":we(R)?E=">="+P+".0.0":we(N)?E=">="+P+"."+R+".0":E=">="+E,we(Z)?ee="":we(Me)?ee="<"+(+Z+1)+".0.0":we(De)?ee="<"+Z+"."+(+Me+1)+".0":ke?ee="<="+Z+"."+Me+"."+De+"-"+ke:ee="<="+ee,(E+" "+ee).trim()}ae.prototype.test=function(y){if(!y)return!1;typeof y=="string"&&(y=new X(y,this.options));for(var E=0;E<this.set.length;E++)if(fs(this.set[E],y,this.options))return!0;return!1};function fs(y,E,P){for(var R=0;R<y.length;R++)if(!y[R].test(E))return!1;if(E.prerelease.length&&!P.includePrerelease){for(R=0;R<y.length;R++)if(r(y[R].semver),y[R].semver!==St&&y[R].semver.prerelease.length>0){var N=y[R].semver;if(N.major===E.major&&N.minor===E.minor&&N.patch===E.patch)return!0}return!1}return!0}t.satisfies=er;function er(y,E,P){try{E=new ae(E,P)}catch{return!1}return E.test(y)}t.maxSatisfying=ps;function ps(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===-1)&&(R=B,N=new X(R,P))}),R}t.minSatisfying=hs;function hs(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===1)&&(R=B,N=new X(R,P))}),R}t.minVersion=Gr;function Gr(y,E){y=new ae(y,E);var P=new X("0.0.0");if(y.test(P)||(P=new X("0.0.0-0"),y.test(P)))return P;P=null;for(var R=0;R<y.set.length;++R){var N=y.set[R];N.forEach(function($){var B=new X($.semver.version);switch($.operator){case">":B.prerelease.length===0?B.patch++:B.prerelease.push(0),B.raw=B.format();case"":case">=":(!P||_t(P,B))&&(P=B);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+$.operator)}})}return P&&y.test(P)?P:null}t.validRange=ms;function ms(y,E){try{return new ae(y,E).range||"*"}catch{return null}}t.ltr=gs;function gs(y,E,P){return Tr(y,E,"<",P)}t.gtr=vs;function vs(y,E,P){return Tr(y,E,">",P)}t.outside=Tr;function Tr(y,E,P,R){y=new X(y,R),E=new ae(E,R);var N,$,B,ee,Z;switch(P){case">":N=_t,$=Tt,B=Bt,ee=">",Z=">=";break;case"<":N=Bt,$=Ir,B=_t,ee="<",Z="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(er(y,E,R))return!1;for(var Me=0;Me<E.set.length;++Me){var De=E.set[Me],ke=null,_e=null;if(De.forEach(function(Je){Je.semver===St&&(Je=new Ie(">=0.0.0")),ke=ke||Je,_e=_e||Je,N(Je.semver,ke.semver,R)?ke=Je:B(Je.semver,_e.semver,R)&&(_e=Je)}),ke.operator===ee||ke.operator===Z||(!_e.operator||_e.operator===ee)&&$(y,_e.semver)||_e.operator===Z&&B(y,_e.semver))return!1}return!0}t.prerelease=ys;function ys(y,E){var P=Ue(y,E);return P&&P.prerelease.length?P.prerelease:null}t.intersects=zr;function zr(y,E,P){return y=new ae(y,P),E=new ae(E,P),y.intersects(E)}t.coerce=ws;function ws(y){if(y instanceof X)return y;if(typeof y!="string")return null;var E=y.match(s[le]);return E==null?null:Ue(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),BL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var e=require("path"),r=BQ(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var u=o.apply(this,arguments);if(a[l]){var d=n._resolveFilename(l,this);if(c.hasOwnProperty(d))return c[d];var f=void 0;if(i.indexOf(l)<0)try{f=o.call(this,e.join(l,"package.json")).version}catch{return u}else f=process.version.substring(1);var p=f.indexOf("-");p>=0&&(f=f.substring(0,p));for(var h=u,m=0,g=a[l];m<g.length;m++){var v=g[m];r.satisfies(f,v.versionSpecifier)&&(h=v.patch(h,d))}return c[d]=h}return u}}t.makePatchingRequire=s}),HQ=O((t,e)=>{e.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),kt=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.makePatchingRequire=void 0;var e=BL(),r=BL();Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=HQ().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(l){var u=l.filter;return!u||u(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var l=this.subscribers[a];if(l){var u={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,l.forEach(function(d){var f=d.listener,p=d.filter;try{p&&p(!0)&&f(u)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,l){l===void 0&&(l=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:l})},s.prototype.unsubscribe=function(a,c,l){l===void 0&&(l=n);var u=this.subscribers[a];if(u){for(var d=0;d<u.length;++d)if(u[d].listener===c&&u[d].filter===l)return u.splice(d,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return a(c(l))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;t.channel=global.diagnosticsSource}),VQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),WQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis=typeof globalThis=="object"?globalThis:global}),GQ=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(WQ(),t)}),zQ=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(GQ(),t)}),HL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.0.3"}),KQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;var e=HL(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(d){return d===i};function l(d){return s.add(d),!1}function u(d){return o.add(d),!0}return function(d){if(o.has(d))return!0;if(s.has(d))return!1;var f=d.match(r);if(!f)return l(d);var p={major:+f[1],minor:+f[2],patch:+f[3],prerelease:f[4]};return p.prerelease!=null||c.major!==p.major?l(d):c.major===0?c.minor===p.minor&&c.patch<=p.patch?u(d):l(d):c.minor<=p.minor?u(d):l(d)}}t._makeCompatibilityCheck=n,t.isCompatible=n(e.VERSION)}),zu=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;var e=zQ(),r=HL(),n=KQ(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=e._globalThis;function a(u,d,f,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[u]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+u);return f.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return f.error(g.stack||g.message),!1}return m[u]=d,f.debug("@opentelemetry/api: Registered a global for "+u+" v"+r.VERSION+"."),!0}t.registerGlobal=a;function c(u){var d,f,p=(d=s[o])===null||d===void 0?void 0:d.version;if(!(!p||!n.isCompatible(p)))return(f=s[o])===null||f===void 0?void 0:f[u]}t.getGlobal=c;function l(u,d){d.debug("@opentelemetry/api: Unregistering a global for "+u+" v"+r.VERSION+".");var f=s[o];f&&delete f[u]}t.unregisterGlobal=l}),YQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;var e=zu(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();t.DiagComponentLogger=r;function n(i,o,s){var a=e.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),kb=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(e=t.DiagLogLevel||(t.DiagLogLevel={}))}),JQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;var e=kb();function r(n,i){n<e.DiagLogLevel.NONE?n=e.DiagLogLevel.NONE:n>e.DiagLogLevel.ALL&&(n=e.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",e.DiagLogLevel.ERROR),warn:o("warn",e.DiagLogLevel.WARN),info:o("info",e.DiagLogLevel.INFO),debug:o("debug",e.DiagLogLevel.DEBUG),verbose:o("verbose",e.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=r}),Ku=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;var e=YQ(),r=JQ(),n=kb(),i=zu(),o="diag",s=function(){function a(){function c(u){return function(){var d=i.getGlobal("diag");if(d)return d[u].apply(d,arguments)}}var l=this;l.setLogger=function(u,d){var f,p;if(d===void 0&&(d=n.DiagLogLevel.INFO),u===l){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((f=h.stack)!==null&&f!==void 0?f:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(d,u);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,l,!0)},l.disable=function(){i.unregisterGlobal(o,l)},l.createComponentLogger=function(u){return new e.DiagComponentLogger(u)},l.verbose=c("verbose"),l.debug=c("debug"),l.info=c("info"),l.warn=c("warn"),l.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();t.DiagAPI=s}),QQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;var e=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();t.BaggageImpl=e}),XQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),VL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;var e=Ku(),r=QQ(),n=XQ(),i=e.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}t.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}t.baggageEntryMetadataFromString=s}),ZQ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),eX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),tX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;var e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<e.length;o++)this[e[o].n]=i(e[o].c)}return n}();t.DiagConsoleLogger=r}),rX=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(tX(),t),r(kb(),t)}),WL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},t.defaultTextMapSetter={set:function(e,r,n){e!=null&&(e[r]=n)}}}),nX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),iX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),hm=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0;function e(n){return Symbol.for(n)}t.createContextKey=e;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();t.ROOT_CONTEXT=new r}),oX=O(t=>{"use strict";var e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=hm(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return s.call.apply(s,e([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();t.NoopContextManager=n}),GL=O(t=>{"use strict";var e=t&&t.__spreadArray||function(c,l){for(var u=0,d=l.length,f=c.length;u<d;u++,f++)c[f]=l[u];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=oX(),n=zu(),i=Ku(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(l){return n.registerGlobal(o,l,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(l,u,d){for(var f,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(f=this._getContextManager()).with.apply(f,e([l,u,d],p))},c.prototype.bind=function(l,u){return this._getContextManager().bind(l,u)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();t.ContextAPI=a}),zL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(e=t.TraceFlags||(t.TraceFlags={}))}),Ib=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var e=zL();t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:e.TraceFlags.NONE}}),Ab=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;var e=Ib(),r=function(){function n(i){i===void 0&&(i=e.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();t.NonRecordingSpan=r}),KL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getSpan=void 0;var e=hm(),r=Ab(),n=e.createContextKey("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(n)||void 0}t.getSpan=i;function o(l,u){return l.setValue(n,u)}t.setSpan=o;function s(l){return l.deleteValue(n)}t.deleteSpan=s;function a(l,u){return o(l,new r.NonRecordingSpan(u))}t.setSpanContext=a;function c(l){var u;return(u=i(l))===null||u===void 0?void 0:u.spanContext()}t.getSpanContext=c}),Tb=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;var e=Ib(),r=Ab(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(l){return n.test(l)&&l!==e.INVALID_TRACEID}t.isValidTraceId=o;function s(l){return i.test(l)&&l!==e.INVALID_SPANID}t.isValidSpanId=s;function a(l){return o(l.traceId)&&s(l.spanId)}t.isSpanContextValid=a;function c(l){return new r.NonRecordingSpan(l)}t.wrapSpanContext=c}),YL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;var e=GL(),r=KL(),n=Ab(),i=Tb(),o=e.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(l,u,d){var f=Boolean(u==null?void 0:u.root);if(f)return new n.NonRecordingSpan;var p=d&&r.getSpanContext(d);return a(p)&&i.isSpanContextValid(p)?new n.NonRecordingSpan(p):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(l,u,d,f){var p,h,m;if(!(arguments.length<2)){arguments.length===2?m=u:arguments.length===3?(p=u,m=d):(p=u,h=d,m=f);var g=h!=null?h:o.active(),v=this.startSpan(l,p,g),w=r.setSpan(g,v);return o.with(w,m,void 0,v)}},c}();t.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),JL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var e=YL(),r=new e.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();t.ProxyTracer=n}),sX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;var e=YL(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new e.NoopTracer},n}();t.NoopTracerProvider=r}),QL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var e=JL(),r=sX(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new e.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();t.ProxyTracerProvider=i}),aX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),cX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0;var e;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(e=t.SamplingDecision||(t.SamplingDecision={}))}),lX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),uX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0;var e;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(e=t.SpanKind||(t.SpanKind={}))}),dX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),fX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),pX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0;var e;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(e=t.SpanStatusCode||(t.SpanStatusCode={}))}),hX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),mX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),gX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),yX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var e=zu(),r=QL(),n=Tb(),i=KL(),o=Ku(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(l){var u=e.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(l),u},c.prototype.getTracerProvider=function(){return e.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(l,u){return this.getTracerProvider().getTracer(l,u)},c.prototype.disable=function(){e.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();t.TraceAPI=a}),wX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;var e=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();t.NoopTextMapPropagator=e}),CX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getBaggage=void 0;var e=hm(),r=e.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}t.getBaggage=n;function i(s,a){return s.setValue(r,a)}t.setBaggage=i;function o(s){return s.deleteValue(r)}t.deleteBaggage=o}),bX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var e=zu(),r=wX(),n=WL(),i=CX(),o=VL(),s=Ku(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function u(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return u.getInstance=function(){return this._instance||(this._instance=new u),this._instance},u.prototype.setGlobalPropagator=function(d){return e.registerGlobal(a,d,s.DiagAPI.instance())},u.prototype.inject=function(d,f,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(d,f,p)},u.prototype.extract=function(d,f,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(d,f,p)},u.prototype.fields=function(){return this._getGlobalPropagator().fields()},u.prototype.disable=function(){e.unregisterGlobal(a,s.DiagAPI.instance())},u.prototype._getGlobalPropagator=function(){return e.getGlobal(a)||c},u}();t.PropagationAPI=l}),ft=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(u,d,f,p){p===void 0&&(p=f),Object.defineProperty(u,p,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,p){p===void 0&&(p=f),u[p]=d[f]}),r=t&&t.__exportStar||function(u,d){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&e(d,u,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.diag=t.propagation=t.trace=t.context=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.baggageEntryMetadataFromString=void 0,r(VQ(),t);var n=VL();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(ZQ(),t),r(eX(),t),r(rX(),t),r(WL(),t),r(nX(),t),r(iX(),t),r(JL(),t),r(QL(),t),r(aX(),t),r(cX(),t),r(lX(),t),r(uX(),t),r(dX(),t),r(fX(),t),r(pX(),t),r(zL(),t),r(hX(),t),r(mX(),t),r(gX(),t);var i=Tb();Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=Ib();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(hm(),t),r(vX(),t);var s=GL();t.context=s.ContextAPI.getInstance();var a=yX();t.trace=a.TraceAPI.getInstance();var c=bX();t.propagation=c.PropagationAPI.getInstance();var l=Ku();t.diag=l.DiagAPI.instance(),t.default={trace:t.trace,context:t.context,propagation:t.propagation,diag:t.diag}}),Db=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;var e=ft(),r=e.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}t.suppressTracing=n;function i(s){return s.deleteValue(r)}t.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}t.isTracingSuppressed=o}),XL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,t.BAGGAGE_KEY_PAIR_SEPARATOR="=",t.BAGGAGE_PROPERTIES_SEPARATOR=";",t.BAGGAGE_ITEMS_SEPARATOR=",",t.BAGGAGE_HEADER="baggage",t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,t.BAGGAGE_MAX_TOTAL_LENGTH=8192}),ZL=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;var e=ft(),r=XL(),n=a=>a.reduce((c,l)=>{let u=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return u.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:u},"");t.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,l])=>`${encodeURIComponent(c)}=${encodeURIComponent(l.value)}`);t.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let l=c.shift();if(!l)return;let u=l.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(u.length!==2)return;let d=decodeURIComponent(u[0].trim()),f=decodeURIComponent(u[1].trim()),p;return c.length>0&&(p=e.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:d,value:f,metadata:p}};t.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>t.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,l)=>(c[l.key]=l.value,c),{});t.parseKeyPairsIntoRecord=s}),EX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpBaggagePropagator=void 0;var e=ft(),r=Db(),n=XL(),i=ZL(),o=class{inject(s,a,c){let l=e.propagation.getBaggage(s);if(!l||r.isTracingSuppressed(s))return;let u=i.getKeyPairs(l).filter(f=>f.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),d=i.serializeKeyPairs(u);d.length>0&&c.set(a,n.BAGGAGE_HEADER,d)}extract(s,a,c){let l=c.get(a,n.BAGGAGE_HEADER);if(!l)return s;let u={};return l.length===0||(l.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(d=>{let f=i.parsePairKeyValue(d);if(f){let p={value:f.value};f.metadata&&(p.metadata=f.metadata),u[f.key]=p}}),Object.entries(u).length===0)?s:e.propagation.setBaggage(s,e.propagation.createBaggage(u))}fields(){return[n.BAGGAGE_HEADER]}};t.HttpBaggagePropagator=o}),_X=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributeValue=t.sanitizeAttributes=void 0;function e(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}t.sanitizeAttributes=e;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}t.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),eF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingErrorHandler=void 0;var e=ft();function r(){return o=>{e.diag.error(n(o))}}t.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let l=a[c];l&&(s[c]=String(l))}),a=Object.getPrototypeOf(a);return s}}),tF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalErrorHandler=t.setGlobalErrorHandler=void 0;var e=eF(),r=e.loggingErrorHandler();function n(o){r=o}t.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};t.globalErrorHandler=i}),rF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracesSamplerValues=void 0;var e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(e=t.TracesSamplerValues||(t.TracesSamplerValues={}))}),nF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;var e=ft(),r=rF(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:e.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-1/0,v=1/0){if(typeof m[p]!="undefined"){let w=Number(m[p]);isNaN(w)||(w<g?h[p]=g:w>v?h[p]=v:h[p]=w)}}function l(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(w=>w.trim()))}var u={ALL:e.DiagLogLevel.ALL,VERBOSE:e.DiagLogLevel.VERBOSE,DEBUG:e.DiagLogLevel.DEBUG,INFO:e.DiagLogLevel.INFO,WARN:e.DiagLogLevel.WARN,ERROR:e.DiagLogLevel.ERROR,NONE:e.DiagLogLevel.NONE};function d(p,h,m){let g=m[p];if(typeof g=="string"){let v=u[g.toUpperCase()];v!=null&&(h[p]=v)}}function f(p){let h={};for(let m in t.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":d(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))l(g,h,p);else{let v=p[g];typeof v!="undefined"&&v!==null&&(h[g]=String(v))}}}return h}t.parseEnvironment=f}),SX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;var e=require("os"),r=nF();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:e.hostname()},r.DEFAULT_ENVIRONMENT,i)}t.getEnv=n}),xX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;function e(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}t.hexToBase64=e}),PX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0;var e=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(e)}};t.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),kX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;var e=require("perf_hooks");t.otperformance=e.performance}),Rb=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.23.0"}),IX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcGrpcStatusCodeValues=t.MessagingOperationValues=t.MessagingDestinationKindValues=t.HttpFlavorValues=t.NetTransportValues=t.FaasInvokedProviderValues=t.FaasDocumentOperationValues=t.FaasTriggerValues=t.DbCassandraConsistencyLevelValues=t.DbSystemValues=t.SemanticAttributes=void 0,t.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var e;(function(d){d.OTHER_SQL="other_sql",d.MSSQL="mssql",d.MYSQL="mysql",d.ORACLE="oracle",d.DB2="db2",d.POSTGRESQL="postgresql",d.REDSHIFT="redshift",d.HIVE="hive",d.CLOUDSCAPE="cloudscape",d.HSQLDB="hsqldb",d.PROGRESS="progress",d.MAXDB="maxdb",d.HANADB="hanadb",d.INGRES="ingres",d.FIRSTSQL="firstsql",d.EDB="edb",d.CACHE="cache",d.ADABAS="adabas",d.FIREBIRD="firebird",d.DERBY="derby",d.FILEMAKER="filemaker",d.INFORMIX="informix",d.INSTANTDB="instantdb",d.INTERBASE="interbase",d.MARIADB="mariadb",d.NETEZZA="netezza",d.PERVASIVE="pervasive",d.POINTBASE="pointbase",d.SQLITE="sqlite",d.SYBASE="sybase",d.TERADATA="teradata",d.VERTICA="vertica",d.H2="h2",d.COLDFUSION="coldfusion",d.CASSANDRA="cassandra",d.HBASE="hbase",d.MONGODB="mongodb",d.REDIS="redis",d.COUCHBASE="couchbase",d.COUCHDB="couchdb",d.COSMOSDB="cosmosdb",d.DYNAMODB="dynamodb",d.NEO4J="neo4j",d.GEODE="geode",d.ELASTICSEARCH="elasticsearch",d.MEMCACHED="memcached",d.COCKROACHDB="cockroachdb"})(e=t.DbSystemValues||(t.DbSystemValues={}));var r;(function(d){d.ALL="all",d.EACH_QUORUM="each_quorum",d.QUORUM="quorum",d.LOCAL_QUORUM="local_quorum",d.ONE="one",d.TWO="two",d.THREE="three",d.LOCAL_ONE="local_one",d.ANY="any",d.SERIAL="serial",d.LOCAL_SERIAL="local_serial"})(r=t.DbCassandraConsistencyLevelValues||(t.DbCassandraConsistencyLevelValues={}));var n;(function(d){d.DATASOURCE="datasource",d.HTTP="http",d.PUBSUB="pubsub",d.TIMER="timer",d.OTHER="other"})(n=t.FaasTriggerValues||(t.FaasTriggerValues={}));var i;(function(d){d.INSERT="insert",d.EDIT="edit",d.DELETE="delete"})(i=t.FaasDocumentOperationValues||(t.FaasDocumentOperationValues={}));var o;(function(d){d.AWS="aws",d.AZURE="azure",d.GCP="gcp"})(o=t.FaasInvokedProviderValues||(t.FaasInvokedProviderValues={}));var s;(function(d){d.IP_TCP="ip_tcp",d.IP_UDP="ip_udp",d.IP="ip",d.UNIX="unix",d.PIPE="pipe",d.INPROC="inproc",d.OTHER="other"})(s=t.NetTransportValues||(t.NetTransportValues={}));var a;(function(d){d.HTTP_1_0="1.0",d.HTTP_1_1="1.1",d.HTTP_2_0="2.0",d.SPDY="SPDY",d.QUIC="QUIC"})(a=t.HttpFlavorValues||(t.HttpFlavorValues={}));var c;(function(d){d.QUEUE="queue",d.TOPIC="topic"})(c=t.MessagingDestinationKindValues||(t.MessagingDestinationKindValues={}));var l;(function(d){d.RECEIVE="receive",d.PROCESS="process"})(l=t.MessagingOperationValues||(t.MessagingOperationValues={}));var u;(function(d){d[d.OK=0]="OK",d[d.CANCELLED=1]="CANCELLED",d[d.UNKNOWN=2]="UNKNOWN",d[d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d[d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d[d.NOT_FOUND=5]="NOT_FOUND",d[d.ALREADY_EXISTS=6]="ALREADY_EXISTS",d[d.PERMISSION_DENIED=7]="PERMISSION_DENIED",d[d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d[d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d[d.ABORTED=10]="ABORTED",d[d.OUT_OF_RANGE=11]="OUT_OF_RANGE",d[d.UNIMPLEMENTED=12]="UNIMPLEMENTED",d[d.INTERNAL=13]="INTERNAL",d[d.UNAVAILABLE=14]="UNAVAILABLE",d[d.DATA_LOSS=15]="DATA_LOSS",d[d.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u=t.RpcGrpcStatusCodeValues||(t.RpcGrpcStatusCodeValues={}))}),AX=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(IX(),t)}),TX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetrySdkLanguageValues=t.OsTypeValues=t.HostArchValues=t.AwsEcsLaunchtypeValues=t.CloudPlatformValues=t.CloudProviderValues=t.ResourceAttributes=void 0,t.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var e;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(e=t.CloudProviderValues||(t.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=t.CloudPlatformValues||(t.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=t.AwsEcsLaunchtypeValues||(t.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=t.HostArchValues||(t.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=t.OsTypeValues||(t.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=t.TelemetrySdkLanguageValues||(t.TelemetrySdkLanguageValues={}))}),DX=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(TX(),t)}),Yu=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(AX(),t),r(DX(),t)}),RX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;var e=Rb(),r=Yu();t.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:e.VERSION}}),OX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0;function e(r){r.unref()}t.unrefTimer=e}),NX=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(SX(),t),r(xX(),t),r(PX(),t),r(kX(),t),r(RX(),t),r(OX(),t)}),iF=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(NX(),t)}),LX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;var e=iF(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),w=Number((g-v).toFixed(r))*n;return[v,w]}function o(){let m=e.otperformance.timeOrigin;if(typeof m!="number"){let g=e.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:e.otperformance.now()),w=g[0]+v[0],C=g[1]+v[1];return C>n&&(C-=n,w+=1),[w,C]}t.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}t.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],w=g[1]-m[1];return w<0&&(v-=1,w+=n),[v,w]}t.hrTimeDuration=c;function l(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,w=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",w)}t.hrTimeToTimeStamp=l;function u(m){return m[0]*n+m[1]}t.hrTimeToNanoseconds=u;function d(m){return Math.round(m[0]*1e3+m[1]/1e6)}t.hrTimeToMilliseconds=d;function f(m){return Math.round(m[0]*1e6+m[1]/1e3)}t.hrTimeToMicroseconds=f;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}t.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}t.isTimeInput=h}),FX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),MX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResultCode=void 0;var e;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(e=t.ExportResultCode||(t.ExportResultCode={}))}),qX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;var e=ft(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){e.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){e.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};t.CompositePropagator=r}),$X=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;var e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(l){return i.test(l)}t.validateKey=a;function c(l){return o.test(l)&&!s.test(l)}t.validateValue=c}),oF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;var e=$X(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let l=this._clone();return l._internalState.has(a)&&l._internalState.delete(a),l._internalState.set(a,c),l}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,l)=>{let u=l.trim(),d=u.indexOf(o);if(d!==-1){let f=u.slice(0,d),p=u.slice(d+1,l.length);e.validateKey(f)&&e.validateValue(p)&&c.set(f,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};t.TraceState=s}),jX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;var e=ft(),r=Db(),n=oF();t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",l=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function u(f){let p=l.exec(f);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}t.parseTraceParent=u;var d=class{inject(f,p,h){let m=e.trace.getSpanContext(f);if(!m||r.isTracingSuppressed(f)||!e.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||e.TraceFlags.NONE).toString(16)}`;h.set(p,t.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,t.TRACE_STATE_HEADER,m.traceState.serialize())}extract(f,p,h){let m=h.get(p,t.TRACE_PARENT_HEADER);if(!m)return f;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return f;let v=u(g);if(!v)return f;v.isRemote=!0;let w=h.get(p,t.TRACE_STATE_HEADER);if(w){let C=Array.isArray(w)?w.join(","):w;v.traceState=new n.TraceState(typeof C=="string"?C:void 0)}return e.trace.setSpanContext(f,v)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}};t.HttpTraceContextPropagator=d}),UX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),BX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;var e=ft(),r=e.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=t.RPCType||(t.RPCType={}));function i(a,c){return a.setValue(r,c)}t.setRPCMetadata=i;function o(a){return a.deleteValue(r)}t.deleteRPCMetadata=o;function s(a){return a.getValue(r)}t.getRPCMetadata=s}),sF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;var e=ft(),r=class{shouldSample(){return{decision:e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};t.AlwaysOffSampler=r}),aF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;var e=ft(),r=class{shouldSample(){return{decision:e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};t.AlwaysOnSampler=r}),HX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentBasedSampler=void 0;var e=ft(),r=tF(),n=sF(),i=aF(),o=class{constructor(s){var a,c,l,u;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(l=s.localParentSampled)!==null&&l!==void 0?l:new i.AlwaysOnSampler,this._localParentNotSampled=(u=s.localParentNotSampled)!==null&&u!==void 0?u:new n.AlwaysOffSampler}shouldSample(s,a,c,l,u,d){let f=e.trace.getSpanContext(s);return!f||!e.isSpanContextValid(f)?this._root.shouldSample(s,a,c,l,u,d):f.isRemote?f.traceFlags&e.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,l,u,d):this._remoteParentNotSampled.shouldSample(s,a,c,l,u,d):f.traceFlags&e.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,l,u,d):this._localParentNotSampled.shouldSample(s,a,c,l,u,d)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};t.ParentBasedSampler=o}),VX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceIdRatioBasedSampler=void 0;var e=ft(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:e.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?e.SamplingDecision.RECORD_AND_SAMPLED:e.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};t.TraceIdRatioBasedSampler=r}),WX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0;function e(n,i){return typeof i=="string"?n===i:i.test(n)}t.urlMatches=e;function r(n,i){if(!i)return!1;for(let o of i)if(e(n,o))return!0;return!1}t.isUrlIgnored=r}),GX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0;function e(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}t.isWrapped=e}),Nn=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.baggageUtils=void 0,r(EX(),t),r(_X(),t),r(tF(),t),r(eF(),t),r(LX(),t),r(FX(),t),r(MX(),t),r(Rb(),t),t.baggageUtils=ZL(),r(iF(),t),r(qX(),t),r(jX(),t),r(UX(),t),r(BX(),t),r(sF(),t),r(aF(),t),r(HX(),t),r(VX(),t),r(Db(),t),r(oF(),t),r(nF(),t),r(rF(),t),r(WX(),t),r(GX(),t),r(Rb(),t)}),zX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=void 0,t.ExceptionEventName="exception"}),cF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var e=ft(),r=Nn(),n=Yu(),i=zX(),o=class{constructor(s,a,c,l,u,d,f=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:e.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=l,this.parentSpanId=d,this.kind=u,this.links=f,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(e.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(e.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(e.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c=="undefined"&&(c=a),a=void 0),typeof c=="undefined"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){e.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&e.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):e.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&e.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};t.Span=o}),lF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSamplerFromEnv=t.DEFAULT_CONFIG=void 0;var e=ft(),r=Nn(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;t.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return e.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}t.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return e.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let l=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):l<0||l>1?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):l}}),KX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var e=lF();function r(n){let i={sampler:e.buildSamplerFromEnv()},o=Object.assign({},e.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},e.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}t.mergeConfig=r}),YX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var e=ft(),r=Nn(),n=cF(),i=KX(),o=class{constructor(a,c,l){this._tracerProvider=l;let u=i.mergeConfig(c);this._sampler=u.sampler,this._spanLimits=u.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=a}startSpan(a,c={},l=e.context.active()){var u,d;if(r.isTracingSuppressed(l))return e.diag.debug("Instrumentation suppressed, returning Noop Span"),e.trace.wrapSpanContext(e.INVALID_SPAN_CONTEXT);let f=s(c,l),p=this._idGenerator.generateSpanId(),h,m,g;!f||!e.trace.isSpanContextValid(f)?h=this._idGenerator.generateTraceId():(h=f.traceId,m=f.traceState,g=f.spanId);let v=(u=c.kind)!==null&&u!==void 0?u:e.SpanKind.INTERNAL,w=(d=c.links)!==null&&d!==void 0?d:[],C=r.sanitizeAttributes(c.attributes),b=this._sampler.shouldSample(c.root?e.trace.setSpanContext(l,e.INVALID_SPAN_CONTEXT):l,h,a,v,C,w),_=b.decision===e.SamplingDecision.RECORD_AND_SAMPLED?e.TraceFlags.SAMPLED:e.TraceFlags.NONE,S={traceId:h,spanId:p,traceFlags:_,traceState:m};if(b.decision===e.SamplingDecision.NOT_RECORD)return e.diag.debug("Recording is off, propagating context in a non-recording span"),e.trace.wrapSpanContext(S);let x=new n.Span(this,l,a,S,v,g,w,c.startTime);return x.setAttributes(Object.assign(C,b.attributes)),x}startActiveSpan(a,c,l,u){let d,f,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(d=c,p=l):(d=c,f=l,p=u);let h=f!=null?f:e.context.active(),m=this.startSpan(a,d,h),g=e.trace.setSpan(h,m);return e.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};t.Tracer=o;function s(a,c){if(!a.root)return e.trace.getSpanContext(c)}}),JX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultServiceName=void 0;function e(){return`unknown_service:${process.argv0}`}t.defaultServiceName=e}),QX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;var e=dF(),r=ft(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async l=>{try{let u=await l.detect(a);return r.diag.debug(`${l.constructor.name} found resource.`,u),u}catch(u){return r.diag.debug(`${l.constructor.name} failed: ${u.message}`),e.Resource.empty()}}));return o(c),c.reduce((l,u)=>l.merge(u),e.Resource.empty())};t.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),XX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;var e=ft(),r=Nn(),n=Yu(),i=Ob(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),l=c.OTEL_RESOURCE_ATTRIBUTES,u=c.OTEL_SERVICE_NAME;if(l)try{let d=this._parseResourceAttributes(l);Object.assign(a,d)}catch(d){e.diag.debug(`EnvDetector failed: ${d.message}`)}return u&&(a[n.ResourceAttributes.SERVICE_NAME]=u),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let l of c){let u=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(u.length!==2)continue;let[d,f]=u;if(d=d.trim(),f=f.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(d))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(f))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[d]=f}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};t.envDetector=new o}),ZX=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDetector=void 0;var e=ft(),r=Yu(),n=Ob(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(e.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};t.processDetector=new i}),eZ=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(XX(),t),r(ZX(),t)}),tZ=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(JX(),t),r(QX(),t),r(eZ(),t)}),uF=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(tZ(),t)}),dF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var e=Yu(),r=Nn(),n=uF(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[e.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[e.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_NAME],[e.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};t.Resource=i,i.EMPTY=new i({})}),rZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),nZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ob=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(dF(),t),r(uF(),t),r(rZ(),t),r(nZ(),t)}),iZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0;var e=Nn(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{e.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};t.MultiSpanProcessor=r}),fF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0;var e=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};t.NoopSpanProcessor=e}),oZ=O((t,e)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",w="[object Object]",C="[object Proxy]",b="[object RegExp]",_="[object Set]",S="[object String]",x="[object Undefined]",k="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",F="[object Float32Array]",H="[object Float64Array]",Q="[object Int8Array]",J="[object Int16Array]",le="[object Int32Array]",G="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",q="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,te={};te[F]=te[H]=te[Q]=te[J]=te[le]=te[G]=te[M]=te[L]=te[q]=!0,te[a]=te[c]=te[A]=te[u]=te[T]=te[d]=te[f]=te[p]=te[m]=te[g]=te[w]=te[b]=te[_]=te[S]=te[k]=!1;var be=typeof global=="object"&&global&&global.Object===Object&&global,Pe=typeof self=="object"&&self&&self.Object===Object&&self,xe=be||Pe||Function("return this")(),Te=typeof t=="object"&&t&&!t.nodeType&&t,he=Te&&typeof e=="object"&&e&&!e.nodeType&&e,wt=he&&he.exports===Te,At=wt&&be.process,ye=function(){try{var D=he&&he.require&&he.require("util").types;return D||At&&At.binding&&At.binding("util")}catch{}}(),pe=ye&&ye.isTypedArray;function Ce(D,j,z){switch(z.length){case 0:return D.call(j);case 1:return D.call(j,z[0]);case 2:return D.call(j,z[0],z[1]);case 3:return D.call(j,z[0],z[1],z[2])}return D.apply(j,z)}function Ue(D,j){for(var z=-1,ue=Array(D);++z<D;)ue[z]=j(z);return ue}function ts(D){return function(j){return D(j)}}function rs(D,j){return D==null?void 0:D[j]}function X(D,j){return function(z){return D(j(z))}}var ns=Array.prototype,is=Function.prototype,kr=Object.prototype,at=xe["__core-js_shared__"],Vn=is.toString,ur=kr.hasOwnProperty,Yi=function(){var D=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Ji=kr.toString,Ge=Vn.call(Object),os=RegExp("^"+Vn.call(ur).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=wt?xe.Buffer:void 0,Qi=xe.Symbol,Xi=xe.Uint8Array,_t=Wn?Wn.allocUnsafe:void 0,Bt=X(Object.getPrototypeOf,Object),gr=Object.create,Gn=kr.propertyIsEnumerable,Ir=ns.splice,Tt=Qi?Qi.toStringTag:void 0,Dt=function(){try{var D=fv(Object,"defineProperty");return D({},"",{}),D}catch{}}(),Ie=Wn?Wn.isBuffer:void 0,St=Math.max,ae=Date.now,Zi=fv(xe,"Map"),bn=fv(Object,"create"),we=function(){function D(){}return function(j){if(!Cs(j))return{};if(gr)return gr(j);D.prototype=j;var z=new D;return D.prototype=void 0,z}}();function Ar(D){var j=-1,z=D==null?0:D.length;for(this.clear();++j<z;){var ue=D[j];this.set(ue[0],ue[1])}}function ss(){this.__data__=bn?bn(null):{},this.size=0}function as(D){var j=this.has(D)&&delete this.__data__[D];return this.size-=j?1:0,j}function cs(D){var j=this.__data__;if(bn){var z=j[D];return z===n?void 0:z}return ur.call(j,D)?j[D]:void 0}function ls(D){var j=this.__data__;return bn?j[D]!==void 0:ur.call(j,D)}function us(D,j){var z=this.__data__;return this.size+=this.has(D)?0:1,z[D]=bn&&j===void 0?n:j,this}Ar.prototype.clear=ss,Ar.prototype.delete=as,Ar.prototype.get=cs,Ar.prototype.has=ls,Ar.prototype.set=us;function dr(D){var j=-1,z=D==null?0:D.length;for(this.clear();++j<z;){var ue=D[j];this.set(ue[0],ue[1])}}function ds(){this.__data__=[],this.size=0}function fs(D){var j=this.__data__,z=ee(j,D);if(z<0)return!1;var ue=j.length-1;return z==ue?j.pop():Ir.call(j,z,1),--this.size,!0}function er(D){var j=this.__data__,z=ee(j,D);return z<0?void 0:j[z][1]}function ps(D){return ee(this.__data__,D)>-1}function hs(D,j){var z=this.__data__,ue=ee(z,D);return ue<0?(++this.size,z.push([D,j])):z[ue][1]=j,this}dr.prototype.clear=ds,dr.prototype.delete=fs,dr.prototype.get=er,dr.prototype.has=ps,dr.prototype.set=hs;function Gr(D){var j=-1,z=D==null?0:D.length;for(this.clear();++j<z;){var ue=D[j];this.set(ue[0],ue[1])}}function ms(){this.size=0,this.__data__={hash:new Ar,map:new(Zi||dr),string:new Ar}}function gs(D){var j=of(this,D).delete(D);return this.size-=j?1:0,j}function vs(D){return of(this,D).get(D)}function Tr(D){return of(this,D).has(D)}function ys(D,j){var z=of(this,D),ue=z.size;return z.set(D,j),this.size+=z.size==ue?0:1,this}Gr.prototype.clear=ms,Gr.prototype.delete=gs,Gr.prototype.get=vs,Gr.prototype.has=Tr,Gr.prototype.set=ys;function zr(D){var j=this.__data__=new dr(D);this.size=j.size}function ws(){this.__data__=new dr,this.size=0}function y(D){var j=this.__data__,z=j.delete(D);return this.size=j.size,z}function E(D){return this.__data__.get(D)}function P(D){return this.__data__.has(D)}function R(D,j){var z=this.__data__;if(z instanceof dr){var ue=z.__data__;if(!Zi||ue.length<r-1)return ue.push([D,j]),this.size=++z.size,this;z=this.__data__=new Gr(ue)}return z.set(D,j),this.size=z.size,this}zr.prototype.clear=ws,zr.prototype.delete=y,zr.prototype.get=E,zr.prototype.has=P,zr.prototype.set=R;function N(D,j){var z=mv(D),ue=!z&&hv(D),qe=!z&&!ue&&J_(D),Ze=!z&&!ue&&!qe&&X_(D),ct=z||ue||qe||Ze,Ne=ct?Ue(D.length,String):[],lt=Ne.length;for(var Kr in D)(j||ur.call(D,Kr))&&!(ct&&(Kr=="length"||qe&&(Kr=="offset"||Kr=="parent")||Ze&&(Kr=="buffer"||Kr=="byteLength"||Kr=="byteOffset")||K_(Kr,lt)))&&Ne.push(Kr);return Ne}function $(D,j,z){(z!==void 0&&!sf(D[j],z)||z===void 0&&!(j in D))&&Z(D,j,z)}function B(D,j,z){var ue=D[j];(!(ur.call(D,j)&&sf(ue,z))||z===void 0&&!(j in D))&&Z(D,j,z)}function ee(D,j){for(var z=D.length;z--;)if(sf(D[z][0],j))return z;return-1}function Z(D,j,z){j=="__proto__"&&Dt?Dt(D,j,{configurable:!0,enumerable:!0,value:z,writable:!0}):D[j]=z}var Me=y3();function De(D){return D==null?D===void 0?x:v:Tt&&Tt in Object(D)?w3(D):x3(D)}function ke(D){return ml(D)&&De(D)==a}function _e(D){if(!Cs(D)||_3(D))return!1;var j=vv(D)?os:K;return j.test(A3(D))}function Je(D){return ml(D)&&Q_(D.length)&&!!te[De(D)]}function c3(D){if(!Cs(D))return S3(D);var j=Y_(D),z=[];for(var ue in D)ue=="constructor"&&(j||!ur.call(D,ue))||z.push(ue);return z}function z_(D,j,z,ue,qe){D!==j&&Me(j,function(Ze,ct){if(qe||(qe=new zr),Cs(Ze))l3(D,j,ct,z,z_,ue,qe);else{var Ne=ue?ue(pv(D,ct),Ze,ct+"",D,j,qe):void 0;Ne===void 0&&(Ne=Ze),$(D,ct,Ne)}},Z_)}function l3(D,j,z,ue,qe,Ze,ct){var Ne=pv(D,z),lt=pv(j,z),Kr=ct.get(lt);if(Kr){$(D,z,Kr);return}var Dr=Ze?Ze(Ne,lt,z+"",D,j,ct):void 0,gl=Dr===void 0;if(gl){var yv=mv(lt),wv=!yv&&J_(lt),tS=!yv&&!wv&&X_(lt);Dr=lt,yv||wv||tS?mv(Ne)?Dr=Ne:T3(Ne)?Dr=m3(Ne):wv?(gl=!1,Dr=f3(lt,!0)):tS?(gl=!1,Dr=h3(lt,!0)):Dr=[]:D3(lt)||hv(lt)?(Dr=Ne,hv(Ne)?Dr=R3(Ne):(!Cs(Ne)||vv(Ne))&&(Dr=C3(lt))):gl=!1}gl&&(ct.set(lt,Dr),qe(Dr,lt,ue,Ze,ct),ct.delete(lt)),$(D,z,Dr)}function u3(D,j){return k3(P3(D,j,eS),D+"")}var d3=Dt?function(D,j){return Dt(D,"toString",{configurable:!0,enumerable:!1,value:N3(j),writable:!0})}:eS;function f3(D,j){if(j)return D.slice();var z=D.length,ue=_t?_t(z):new D.constructor(z);return D.copy(ue),ue}function p3(D){var j=new D.constructor(D.byteLength);return new Xi(j).set(new Xi(D)),j}function h3(D,j){var z=j?p3(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.length)}function m3(D,j){var z=-1,ue=D.length;for(j||(j=Array(ue));++z<ue;)j[z]=D[z];return j}function g3(D,j,z,ue){var qe=!z;z||(z={});for(var Ze=-1,ct=j.length;++Ze<ct;){var Ne=j[Ze],lt=ue?ue(z[Ne],D[Ne],Ne,z,D):void 0;lt===void 0&&(lt=D[Ne]),qe?Z(z,Ne,lt):B(z,Ne,lt)}return z}function v3(D){return u3(function(j,z){var ue=-1,qe=z.length,Ze=qe>1?z[qe-1]:void 0,ct=qe>2?z[2]:void 0;for(Ze=D.length>3&&typeof Ze=="function"?(qe--,Ze):void 0,ct&&b3(z[0],z[1],ct)&&(Ze=qe<3?void 0:Ze,qe=1),j=Object(j);++ue<qe;){var Ne=z[ue];Ne&&D(j,Ne,ue,Ze)}return j})}function y3(D){return function(j,z,ue){for(var qe=-1,Ze=Object(j),ct=ue(j),Ne=ct.length;Ne--;){var lt=ct[D?Ne:++qe];if(z(Ze[lt],lt,Ze)===!1)break}return j}}function of(D,j){var z=D.__data__;return E3(j)?z[typeof j=="string"?"string":"hash"]:z.map}function fv(D,j){var z=rs(D,j);return _e(z)?z:void 0}function w3(D){var j=ur.call(D,Tt),z=D[Tt];try{D[Tt]=void 0;var ue=!0}catch{}var qe=Ji.call(D);return ue&&(j?D[Tt]=z:delete D[Tt]),qe}function C3(D){return typeof D.constructor=="function"&&!Y_(D)?we(Bt(D)):{}}function K_(D,j){var z=typeof D;return j=j==null?s:j,!!j&&(z=="number"||z!="symbol"&&ie.test(D))&&D>-1&&D%1==0&&D<j}function b3(D,j,z){if(!Cs(z))return!1;var ue=typeof j;return(ue=="number"?gv(z)&&K_(j,z.length):ue=="string"&&j in z)?sf(z[j],D):!1}function E3(D){var j=typeof D;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?D!=="__proto__":D===null}function _3(D){return!!Yi&&Yi in D}function Y_(D){var j=D&&D.constructor,z=typeof j=="function"&&j.prototype||kr;return D===z}function S3(D){var j=[];if(D!=null)for(var z in Object(D))j.push(z);return j}function x3(D){return Ji.call(D)}function P3(D,j,z){return j=St(j===void 0?D.length-1:j,0),function(){for(var ue=arguments,qe=-1,Ze=St(ue.length-j,0),ct=Array(Ze);++qe<Ze;)ct[qe]=ue[j+qe];qe=-1;for(var Ne=Array(j+1);++qe<j;)Ne[qe]=ue[qe];return Ne[j]=z(ct),Ce(D,this,Ne)}}function pv(D,j){if(!(j==="constructor"&&typeof D[j]=="function")&&j!="__proto__")return D[j]}var k3=I3(d3);function I3(D){var j=0,z=0;return function(){var ue=ae(),qe=o-(ue-z);if(z=ue,qe>0){if(++j>=i)return arguments[0]}else j=0;return D.apply(void 0,arguments)}}function A3(D){if(D!=null){try{return Vn.call(D)}catch{}try{return D+""}catch{}}return""}function sf(D,j){return D===j||D!==D&&j!==j}var hv=ke(function(){return arguments}())?ke:function(D){return ml(D)&&ur.call(D,"callee")&&!Gn.call(D,"callee")},mv=Array.isArray;function gv(D){return D!=null&&Q_(D.length)&&!vv(D)}function T3(D){return ml(D)&&gv(D)}var J_=Ie||L3;function vv(D){if(!Cs(D))return!1;var j=De(D);return j==p||j==h||j==l||j==C}function Q_(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function Cs(D){var j=typeof D;return D!=null&&(j=="object"||j=="function")}function ml(D){return D!=null&&typeof D=="object"}function D3(D){if(!ml(D)||De(D)!=w)return!1;var j=Bt(D);if(j===null)return!0;var z=ur.call(j,"constructor")&&j.constructor;return typeof z=="function"&&z instanceof z&&Vn.call(z)==Ge}var X_=pe?ts(pe):Je;function R3(D){return g3(D,Z_(D))}function Z_(D){return gv(D)?N(D,!0):c3(D)}var O3=v3(function(D,j,z){z_(D,j,z)});function N3(D){return function(){return D}}function eS(D){return D}function L3(){return!1}e.exports=O3}),sZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessorBase=void 0;var e=ft(),r=Nn(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,l=a;c<l;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};t.BatchSpanProcessorBase=n}),aZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;var e=sZ(),r=class extends e.BatchSpanProcessorBase{onShutdown(){}};t.BatchSpanProcessor=r}),cZ=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(aZ(),t)}),pF=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(cZ(),t)}),lZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=t.ForceFlushState=void 0;var e=ft(),r=Nn(),n=Ob(),i=hF(),o=lF(),s=iZ(),a=fF(),c=oZ(),l=pF(),u;(function(f){f[f.resolved=0]="resolved",f[f.timeout=1]="timeout",f[f.error=2]="error",f[f.unresolved=3]="unresolved"})(u=t.ForceFlushState||(t.ForceFlushState={}));var d=class{constructor(f={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,f);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new l.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(f,p){let h=`${f}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:f,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(f){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>e.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(f),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(f={}){e.trace.setGlobalTracerProvider(this),f.propagator===void 0&&(f.propagator=this._buildPropagatorFromEnv()),f.contextManager&&e.context.setGlobalContextManager(f.contextManager),f.propagator&&e.propagation.setGlobalPropagator(f.propagator)}forceFlush(){let f=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${f} ms`)),g=u.timeout},f);h.forceFlush().then(()=>{clearTimeout(v),g!==u.timeout&&(g=u.resolved,m(g))}).catch(w=>{clearTimeout(v),g=u.error,m(w)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(w=>w!==u.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(f){var p;return(p=d._registeredPropagators.get(f))===null||p===void 0?void 0:p()}_getSpanExporter(f){var p;return(p=d._registeredExporters.get(f))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let f=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),p=f.map(h=>{let m=this._getPropagator(h);return m||e.diag.warn(`Propagator "${h}" requested through environment variable is unavailable.`),m}).reduce((h,m)=>(m&&h.push(m),h),[]);if(p.length!==0)return f.length===1?p[0]:new r.CompositePropagator({propagators:p})}_buildExporterFromEnv(){let f=r.getEnv().OTEL_TRACES_EXPORTER;if(f==="none")return;let p=this._getSpanExporter(f);return p||e.diag.error(`Exporter "${f}" requested through environment variable is unavailable.`),p}};t.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),d._registeredExporters=new Map}),uZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;var e=Nn(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:e.hrTimeToMicroseconds(n.startTime),duration:e.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:e.ExportResultCode.SUCCESS})}};t.ConsoleSpanExporter=r}),dZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;var e=Nn(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:e.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:e.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};t.InMemorySpanExporter=r}),fZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),pZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;var e=ft(),r=Nn(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};t.SimpleSpanProcessor=n}),hZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),mZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),gZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),hF=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(YX(),t),r(lZ(),t),r(pF(),t),r(uZ(),t),r(dZ(),t),r(fZ(),t),r(pZ(),t),r(hZ(),t),r(fF(),t),r(cF(),t),r(mZ(),t),r(gZ(),t),r(vZ(),t)}),yZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var e=kt();t.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=hF(),a=ft(),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer"),u=o.setTracer;o.setTracer=function(d){var f=d.startSpan;d.startSpan=function(p,h,m){var g=f.call(this,p,h,m),v=g.end;return g.end=function(){var w=v.apply(this,arguments);return e.channel.publish("azure-coretracing",g),w},g},d[t.AzureMonitorSymbol]=!0,u.call(this,d)},a.trace.getSpan(a.context.active()),o.setTracer(l),r=!0}catch{}return o};t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}t.enable=i}),wZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var e=kt(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var l=c;l||(l=o.call(this,s,!0)),e.channel.publish("bunyan",{level:s.level,result:l})}return c},i};t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("bunyan",t.bunyan)}t.enable=n}),CZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var e=kt(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],u=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch{}return m.apply(o,arguments)})},d=0,f=l;d<f.length;d++){var p=f[d];u(p)}return o};t.console={versionSpecifier:">= 4.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("console",t.console),require("console")}t.enable=i}),bZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var e=kt(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=e.channel.bindToContext(arguments[l])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=e.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}t.enable=n}),EZ=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(c){for(var l,u=1,d=arguments.length;u<d;u++){l=arguments[u];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var r=kt(),n=function(c){var l=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(d){return d()})}}}),u={};return l.on("started",function(d){u[d.requestId]||(u[d.requestId]=e(e({},d),{time:new Date}))}),l.on("succeeded",function(d){var f=u[d.requestId];f&&delete u[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}),l.on("failed",function(d){var f=u[d.requestId];f&&delete u[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}),c},i=function(c){var l=c.instrument(),u={},d={};return l.on("started",function(f){u[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),u[f.requestId]=e(e({},f),{time:new Date}))}),l.on("succeeded",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),l.on("failed",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c},o=function(c){var l=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var u=l.apply(this,arguments),d=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var p=typeof arguments[1]=="function"?1:2;return typeof arguments[p]=="function"&&(arguments[p]=r.channel.bindToContext(arguments[p])),d.apply(this,arguments)};var f=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),f.apply(this,arguments)},u},c},s=function(c){o(c);var l=c.instrument(),u={},d={};return l.on("started",function(f){u[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),u[f.requestId]=f)}),l.on("succeeded",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),l.on("failed",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c};t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3),r.channel.registerMonkeyPatch("mongodb",t.mongo330)}t.enable=a}),_Z=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var e=kt(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var w=arguments.length-1,C=arguments.length-1;C>=0;--C)if(typeof arguments[C]=="function"){w=C;break}else if(typeof arguments[C]!="undefined")break;var b=arguments[w],_={result:null,startTime:null,startDate:null};typeof b=="function"&&(g?(_.startTime=process.hrtime(),_.startDate=new Date,arguments[w]=e.channel.bindToContext(g(_,b))):arguments[w]=e.channel.bindToContext(b));var S=v.apply(this,arguments);return _.result=S,S})}},c=function(p,h){return a(p.prototype,h+".prototype")},l=["connect","changeUser","ping","statistics","end"],u=require(r.dirname(s)+"/lib/Connection");l.forEach(function(p){return c(u,"Connection")(p)}),a(u,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;e.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var d=["_enqueueCallback"],f=require(r.dirname(s)+"/lib/Pool");return d.forEach(function(p){return c(f,"Pool")(p)}),o};t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("mysql",t.mysql)}t.enable=i}),SZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var e=kt();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=e.channel.bindToContext(s)),o.apply(this,arguments)},i}t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}t.enable=n}),xZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres7=t.postgres6=void 0;var e=kt(),r=require("events");function n(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,d,f){var p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime(),m;function g(v){v&&v[l]&&(v=v[l]);var w=e.channel.bindToContext(function(C,b){var _=process.hrtime(h);if(p.result=b&&{rowCount:b.rowCount,command:b.command},p.error=C,p.duration=Math.ceil(_[0]*1e3+_[1]/1e6),e.channel.publish("postgres",p),C){if(v)return v.apply(this,arguments);m&&m instanceof r.EventEmitter&&m.emit("error",C)}else v&&v.apply(this,arguments)});try{return Object.defineProperty(w,l,{value:v}),w}catch{return v}}try{typeof u=="string"?d instanceof Array?(p.query.preparable={text:u,args:d},f=g(f)):(p.query.text=u,f?f=g(f):d=g(d)):(typeof u.name=="string"?p.query.plan=u.name:u.values instanceof Array?p.query.preparable={text:u.text,args:u.values}:p.query.text=u.text,f?f=g(f):d?d=g(d):u.callback=g(u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=d,arguments[2]=f,arguments.length=arguments.length>3?arguments.length:3,m=c.apply(this,arguments),m},s}function i(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,d,f){var p=this,h=!!f,m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},g=process.hrtime(),v;function w(C){C&&C[l]&&(C=C[l]);var b=e.channel.bindToContext(function(_,S){var x=process.hrtime(g);if(m.result=S&&{rowCount:S.rowCount,command:S.command},m.error=_,m.duration=Math.ceil(x[0]*1e3+x[1]/1e6),e.channel.publish("postgres",m),_){if(C)return C.apply(this,arguments);v&&v instanceof r.EventEmitter&&v.emit("error",_)}else C&&C.apply(this,arguments)});try{return Object.defineProperty(b,l,{value:C}),b}catch{return C}}try{typeof u=="string"?d instanceof Array?(m.query.preparable={text:u,args:d},h=typeof f=="function",f=h?w(f):f):(m.query.text=u,f?(h=typeof f=="function",f=h?w(f):f):(h=typeof d=="function",d=h?w(d):d)):(typeof u.name=="string"?m.query.plan=u.name:u.values instanceof Array?m.query.preparable={text:u.text,args:u.values}:m.query.text=u.text,f?(h=typeof f=="function",f=w(f)):d?(h=typeof d=="function",d=h?w(d):d):(h=typeof u.callback=="function",u.callback=h?w(u.callback):u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=d,arguments[2]=f,arguments.length=arguments.length>3?arguments.length:3,v=c.apply(this,arguments),h?v:v.then(function(C){return w()(void 0,C),new p._Promise(function(b,_){b(C)})}).catch(function(C){return w()(C,void 0),new p._Promise(function(b,_){_(C)})})},s}t.postgres6={versionSpecifier:"6.*",patch:n},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){e.channel.registerMonkeyPatch("pg",t.postgres6),e.channel.registerMonkeyPatch("pg",t.postgres7)}t.enable=o}),PZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var e=kt(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,l=process.hrtime(),u=new Date;s.callback=e.channel.bindToContext(function(d,f){var p=process.hrtime(l),h=p[0]*1e3+p[1]/1e6|0;e.channel.publish("redis",{duration:h,address:c,commandObj:s,err:d,result:f,time:u}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("redis",t.redis)}t.enable=n}),kZ=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var r=kt(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(l){var u=process.hrtime(),d={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(f,p,h){var m=process.hrtime(u);d=e(e({},d),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!f&&{rowCount:p,rows:h},query:{text:this.parametersByName.statement.value},error:f,duration:Math.ceil(m[0]*1e3+m[1]/1e6)}),r.channel.publish("tedious",d),l.call(this,f,p,h)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",t.tedious)}t.enable=i}),IZ=O(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(u[f]=d[f])},a(c,l)};return function(c,l){a(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=t&&t.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(a);d<u.length;d++)c.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(a,u[d])&&(l[u[d]]=a[u[d]]);return l};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var n=kt(),i=function(a){var c=a.Logger.prototype.log,l,u=function(d,f,p){var h;return l===a.config.npm.levels?h="npm":l===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:d,message:f,meta:p,levelKind:h}),f};return a.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[u]:this.filters[this.filters.length-1]!==u&&(this.filters=this.filters.filter(function(d){return d!==u}),this.filters.push(u)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},l=function(p){e(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,w=m.level,C=m.meta,b=r(m,["message","level","meta"]);w=typeof Symbol.for=="function"?m[Symbol.for("level")]:w,v=m instanceof Error?m:v;var _=c(this.winston,w);C=C||{};for(var S in b)b.hasOwnProperty(S)&&(C[S]=b[S]);n.channel.publish("winston",{message:v,level:w,levelKind:_,meta:C}),g()},h}(a.Transport);function u(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new l(a,{level:h}))}var d=a.createLogger;a.createLogger=function(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);var g=d.apply(this,arguments);g.add(new l(a,{level:h}));var v=g.configure;return g.configure=function(){v.apply(this,arguments),u.apply(this,arguments)},g};var f=a.configure;return a.configure=function(){f.apply(this,arguments),u.apply(this,arguments)},a.add(new l(a)),a};t.winston3={versionSpecifier:"3.x",patch:o},t.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",t.winston2),n.channel.registerMonkeyPatch("winston",t.winston3)}t.enable=s}),AZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var e=yZ();t.azuresdk=e;var r=wZ();t.bunyan=r;var n=CZ();t.console=n;var i=bZ();t.mongodbCore=i;var o=EZ();t.mongodb=o;var s=_Z();t.mysql=s;var a=SZ();t.pgPool=a;var c=xZ();t.pg=c;var l=PZ();t.redis=l;var u=kZ();t.tedious=u;var d=IZ();t.winston=d;function f(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),d.enable(),e.enable(),u.enable()}t.enable=f}),Nb=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var e=UL(),r=Qt();t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(t.IsInitialized){i=AZ(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function l(u){if(t.IsInitialized){var d=kt();d.channel.addContextPreservation(u),d.channel.spanContextPropagator=e.AsyncScopeManager}}t.registerContextPreservation=l}),Ju=O((t,e)=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),mn=O((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(u){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Qt(),c=Ju(),l=function(){function u(){}return u.getCookie=function(d,f){var p="";if(d&&d.length&&typeof f=="string")for(var h=d+"=",m=f.split(";"),g=0;g<m.length;g++){var f=m[g];if(f=u.trim(f),f&&f.indexOf(h)===0){p=f.substring(h.length,m[g].length);break}}return p},u.trim=function(d){return typeof d=="string"?d.replace(/^\s+|\s+$/g,""):""},u.int32ArrayToBase64=function(d){var f=function(v,w){return String.fromCharCode(v>>w&255)},p=function(v){return f(v,24)+f(v,16)+f(v,8)+f(v,0)},h=d.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},u.random32=function(){return 4294967296*Math.random()|0},u.randomu32=function(){return u.random32()+2147483648},u.w3cTraceId=function(){for(var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f="",p,h=0;h<4;h++)p=u.random32(),f+=d[p&15]+d[p>>4&15]+d[p>>8&15]+d[p>>12&15]+d[p>>16&15]+d[p>>20&15]+d[p>>24&15]+d[p>>28&15];var m=d[8+Math.random()*4|0];return f.substr(0,8)+f.substr(9,4)+"4"+f.substr(13,3)+m+f.substr(16,3)+f.substr(19,12)},u.w3cSpanId=function(){return u.w3cTraceId().substring(16)},u.isValidW3CId=function(d){return d.length===32&&d!=="00000000000000000000000000000000"},u.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},u.isError=function(d){return d instanceof Error},u.isPrimitive=function(d){var f=typeof d;return f==="string"||f==="number"||f==="boolean"},u.isDate=function(d){return Object.prototype.toString.call(d)==="[object Date]"},u.msToTimeSpan=function(d){(isNaN(d)||d<0)&&(d=0);var f=(d/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(d/(1e3*60))%60,h=""+Math.floor(d/(1e3*60*60))%24,m=Math.floor(d/(1e3*60*60*24));f=f.indexOf(".")<2?"0"+f:f,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+f},u.extractError=function(d){var f=d;return{message:d.message,code:f.code||f.id||""}},u.extractObject=function(d){return d instanceof Error?u.extractError(d):typeof d.toJSON=="function"?d.toJSON():d},u.validateStringMap=function(d){if(typeof d!="object"){a.info("Invalid properties dropped from payload");return}var f={};for(var p in d){var h="",m=d[p],g=typeof m;if(u.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=u.isArray(m)?m:u.extractObject(m);try{u.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(w){h=m.constructor.name.toString()+" (Error: "+w.message+")",a.info("key: "+p+", could not be serialized")}}f[p]=h.substring(0,u.MAX_PROPERTY_LENGTH)}return f},u.canIncludeCorrelationHeader=function(d,f){var p=d&&d.config&&d.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!f)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(f).hostname))return!1}return!0},u.getCorrelationContextTarget=function(d,f){var p=d.headers&&d.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==f)return g[1]}},u.makeRequest=function(d,f,p,h){f&&f.indexOf("//")===0&&(f="https:"+f);var m=o.parse(f),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=d.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=d.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var w=o.parse(v);w.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:w.hostname,port:w.port||"80",path:f,headers:r(r({},g.headers),{Host:m.hostname})})}var C=m.protocol==="https:"&&!v;return C&&d.httpsAgent!==void 0?g.agent=d.httpsAgent:!C&&d.httpAgent!==void 0?g.agent=d.httpAgent:C&&(g.agent=u.tlsRestrictedAgent),C?i.request(g,h):n.request(g,h)},u.safeIncludeCorrelationHeader=function(d,f,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?u.addCorrelationIdHeaderFromString(d,f,h):f.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+d.config.correlationId)},u.dumpObj=function(d){var f=Object.prototype.toString.call(d),p="";return f==="[object Error]"?p="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":p=JSON.stringify(d),f+p},u.addCorrelationIdHeaderFromString=function(d,f,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||f.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+d.config.correlationId)},u.MAX_PROPERTY_LENGTH=8192,u.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),u}();e.exports=l}),Lc=O((t,e)=>{"use strict";var r=mn(),n=Qt(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var l=function(){if(o.pendingLookups[c]){var u={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,u);var d=r.makeRequest(s,c,u,function(f){if(f.statusCode===200){var p="";f.setEncoding("utf-8"),f.on("data",function(h){p+=h}),f.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else f.statusCode>=400&&f.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(l,s.correlationIdRetryIntervalMs)});d&&(d.on("error",function(f){n.warn(o.TAG,f)}),d.end())}};setTimeout(l,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",l=o.pendingLookups[c];l&&(o.pendingLookups[c]=l.filter(function(u){return u!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var l=o.requestIdMaxLength-9;if(s.length>l)for(;l>1;--l){var u=s[l-1];if(u==="."||u==="_")break}if(l<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,l)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();e.exports=i}),mm=O((t,e)=>{"use strict";var r=mn(),n=Lc(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),l=c.length;l>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var u=n.getRootId(a);o.isValidTraceId(u)||(this.legacyRootId=u,u=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=u,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();e.exports=i}),mF=O((t,e)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],!!i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),l=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&l}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,l=a;c<l.length;c++){var u=l[c],d=u.trim();if(d.length!==0){var f=d.split("=");if(f.length!==2||!n.validateKeyChars(f[0])||s[f[0]])return null;s[f[0]]=!0,o.push(d)}}return o},n.strict=!0,n}();e.exports=r}),$o=O((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),TZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),gF=O((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),DZ=O((t,e)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();e.exports=r}),RZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=gF(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);e.exports=i}),vF=O((t,e)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),e.exports=r}),OZ=O((t,e)=>{"use strict";var r=vF(),n=function(){function i(){this.kind=r.Measurement}return i}();e.exports=n}),NZ=O((t,e)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();e.exports=r}),yF=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),LZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);e.exports=i}),FZ=O((t,e)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();e.exports=r}),MZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);e.exports=i}),qZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);e.exports=i}),$Z=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=yF(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),jZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),UZ=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=$o(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),BZ=O((t,e)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),e.exports=r}),HZ=O((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),wF=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=TZ(),t.Base=gF(),t.ContextTagKeys=DZ(),t.Data=RZ(),t.DataPoint=OZ(),t.DataPointType=vF(),t.Domain=$o(),t.Envelope=NZ(),t.EventData=yF(),t.ExceptionData=LZ(),t.ExceptionDetails=FZ(),t.MessageData=MZ(),t.MetricData=qZ(),t.PageViewData=$Z(),t.RemoteDependencyData=jZ(),t.RequestData=UZ(),t.SeverityLevel=BZ(),t.StackFrame=HZ()}),VZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var e=wF(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();t.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof e.EventData||i instanceof e.ExceptionData||i instanceof e.MessageData||i instanceof e.MetricData||i instanceof e.PageViewData||i instanceof e.RemoteDependencyData||i instanceof e.RequestData}t.domainSupportsProperties=n}),WZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),GZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),zZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),KZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),YZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),JZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),QZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),XZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),ZZ=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),eee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),tee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),ree=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),nee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0;function e(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}t.telemetryTypeToBaseType=e;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}t.baseTypeToTelemetryType=r,t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=t.TelemetryType||(t.TelemetryType={}))}),iee=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(WZ(),t),r(GZ(),t),r(zZ(),t),r(KZ(),t),r(YZ(),t),r(JZ(),t),r(QZ(),t),r(XZ(),t),r(ZZ(),t),r(eee(),t),r(tee(),t),r(ree(),t),r(nee(),t)}),oee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),see=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),aee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),cee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),lee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),uee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),dee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),fee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),pee=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(oee(),t),r(see(),t),r(aee(),t),r(cee(),t),r(lee(),t),r(uee(),t),r(dee(),t),r(fee(),t)}),_r=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(VZ(),t),r(wF(),t),r(iee(),t),r(pee(),t)}),CF=O((t,e)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();e.exports=r}),bF=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var f=function(p,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},f(p,h)};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=_r(),o=mn(),s=Ju(),a=CF(),c=Lc(),l=mF(),u=mm(),d=function(f){r(p,f);function p(h,m){var g=f.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,w=g.search,C=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",b=n.format({protocol:C,host:h.headers.host,pathname:v,search:w});return b},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var w=h.exec(v);if(w)return w[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,w=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,C=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,b=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new u(v?v.toString():null),this.tracestate=v&&g&&new l(g?g.toString():null),this.setBackCompatFromThisTraceContext()):w?c.w3cEnabled?(this.traceparent=new u(null,w),this.setBackCompatFromThisTraceContext()):(this.parentId=w,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new u,this.traceparent.parentId=C,this.traceparent.legacyRootId=b||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=c.generateRequestId(b||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);e.exports=d}),hee=O((t,e)=>{t=e.exports=X;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var y=Array.prototype.slice.call(arguments,0);y.unshift("SEMVER"),console.log.apply(console,y)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var w=c++;a[w]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[w]+"(?:\\."+a[w]+")*))";var b=c++,_="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var S="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",x=c++;a[x]="^"+S+"$";var k=c++;a[k]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var F=c++;a[F]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Q=c++;a[Q]="^"+a[k]+"\\s*"+a[F]+"$";var J=c++;a[J]="^"+a[k]+"\\s*"+a[H]+"$";var le=c++;a[le]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var G=c++;a[G]="(?:~>?)";var M=c++;a[M]="(\\s*)"+a[G]+"\\s+",s[M]=new RegExp(a[M],"g");var L="$1~",q=c++;a[q]="^"+a[G]+a[F]+"$";var V=c++;a[V]="^"+a[G]+a[H]+"$";var K=c++;a[K]="(?:\\^)";var ie=c++;a[ie]="(\\s*)"+a[K]+"\\s+",s[ie]=new RegExp(a[ie],"g");var te="$1^",be=c++;a[be]="^"+a[K]+a[F]+"$";var Pe=c++;a[Pe]="^"+a[K]+a[H]+"$";var xe=c++;a[xe]="^"+a[k]+"\\s*("+S+")$|^$";var Te=c++;a[Te]="^"+a[k]+"\\s*("+_+")$|^$";var he=c++;a[he]="(\\s*)"+a[k]+"\\s*("+S+"|"+a[F]+")",s[he]=new RegExp(a[he],"g");var wt="$1$2$3",At=c++;a[At]="^\\s*("+a[F]+")\\s+-\\s+("+a[F]+")\\s*$";var ye=c++;a[ye]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var pe=c++;for(a[pe]="(<|>)?=?\\s*\\*",Ce=0;Ce<c;Ce++)r(Ce,a[Ce]),s[Ce]||(s[Ce]=new RegExp(a[Ce]));var Ce;t.parse=Ue;function Ue(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X)return y;if(typeof y!="string"||y.length>n)return null;var P=E.loose?s[x]:s[b];if(!P.test(y))return null;try{return new X(y,E)}catch{return null}}t.valid=ts;function ts(y,E){var P=Ue(y,E);return P?P.version:null}t.clean=rs;function rs(y,E){var P=Ue(y.trim().replace(/^[=v]+/,""),E);return P?P.version:null}t.SemVer=X;function X(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X){if(y.loose===E.loose)return y;y=y.version}else if(typeof y!="string")throw new TypeError("Invalid Version: "+y);if(y.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof X))return new X(y,E);r("SemVer",y,E),this.options=E,this.loose=!!E.loose;var P=y.trim().match(E.loose?s[x]:s[b]);if(!P)throw new TypeError("Invalid Version: "+y);if(this.raw=y,this.major=+P[1],this.minor=+P[2],this.patch=+P[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");P[4]?this.prerelease=P[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var N=+R;if(N>=0&&N<i)return N}return R}):this.prerelease=[],this.build=P[5]?P[5].split("."):[],this.format()}X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(y){return r("SemVer.compare",this.version,this.options,y),y instanceof X||(y=new X(y,this.options)),this.compareMain(y)||this.comparePre(y)},X.prototype.compareMain=function(y){return y instanceof X||(y=new X(y,this.options)),at(this.major,y.major)||at(this.minor,y.minor)||at(this.patch,y.patch)},X.prototype.comparePre=function(y){if(y instanceof X||(y=new X(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;var E=0;do{var P=this.prerelease[E],R=y.prerelease[E];if(r("prerelease compare",E,P,R),P===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(P===void 0)return-1;if(P!==R)return at(P,R)}while(++E)},X.prototype.inc=function(y,E){switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var P=this.prerelease.length;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);P===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+y)}return this.format(),this.raw=this.version,this},t.inc=ns;function ns(y,E,P,R){typeof P=="string"&&(R=P,P=void 0);try{return new X(y,P).inc(E,R).version}catch{return null}}t.diff=is;function is(y,E){if(gr(y,E))return null;var P=Ue(y),R=Ue(E),N="";if(P.prerelease.length||R.prerelease.length){N="pre";var $="prerelease"}for(var B in P)if((B==="major"||B==="minor"||B==="patch")&&P[B]!==R[B])return N+B;return $}t.compareIdentifiers=at;var kr=/^[0-9]+$/;function at(y,E){var P=kr.test(y),R=kr.test(E);return P&&R&&(y=+y,E=+E),y===E?0:P&&!R?-1:R&&!P?1:y<E?-1:1}t.rcompareIdentifiers=Vn;function Vn(y,E){return at(E,y)}t.major=ur;function ur(y,E){return new X(y,E).major}t.minor=Yi;function Yi(y,E){return new X(y,E).minor}t.patch=Ji;function Ji(y,E){return new X(y,E).patch}t.compare=Ge;function Ge(y,E,P){return new X(y,P).compare(new X(E,P))}t.compareLoose=os;function os(y,E){return Ge(y,E,!0)}t.rcompare=Wn;function Wn(y,E,P){return Ge(E,y,P)}t.sort=Qi;function Qi(y,E){return y.sort(function(P,R){return t.compare(P,R,E)})}t.rsort=Xi;function Xi(y,E){return y.sort(function(P,R){return t.rcompare(P,R,E)})}t.gt=_t;function _t(y,E,P){return Ge(y,E,P)>0}t.lt=Bt;function Bt(y,E,P){return Ge(y,E,P)<0}t.eq=gr;function gr(y,E,P){return Ge(y,E,P)===0}t.neq=Gn;function Gn(y,E,P){return Ge(y,E,P)!==0}t.gte=Ir;function Ir(y,E,P){return Ge(y,E,P)>=0}t.lte=Tt;function Tt(y,E,P){return Ge(y,E,P)<=0}t.cmp=Dt;function Dt(y,E,P,R){switch(E){case"===":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y===P;case"!==":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y!==P;case"":case"=":case"==":return gr(y,P,R);case"!=":return Gn(y,P,R);case">":return _t(y,P,R);case">=":return Ir(y,P,R);case"<":return Bt(y,P,R);case"<=":return Tt(y,P,R);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ie;function Ie(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof Ie){if(y.loose===!!E.loose)return y;y=y.value}if(!(this instanceof Ie))return new Ie(y,E);r("comparator",y,E),this.options=E,this.loose=!!E.loose,this.parse(y),this.semver===St?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var St={};Ie.prototype.parse=function(y){var E=this.options.loose?s[xe]:s[Te],P=y.match(E);if(!P)throw new TypeError("Invalid comparator: "+y);this.operator=P[1],this.operator==="="&&(this.operator=""),P[2]?this.semver=new X(P[2],this.options.loose):this.semver=St},Ie.prototype.toString=function(){return this.value},Ie.prototype.test=function(y){return r("Comparator.test",y,this.options.loose),this.semver===St?!0:(typeof y=="string"&&(y=new X(y,this.options)),Dt(y,this.operator,this.semver,this.options))},Ie.prototype.intersects=function(y,E){if(!(y instanceof Ie))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var P;if(this.operator==="")return P=new ae(y.value,E),er(this.value,P,E);if(y.operator==="")return P=new ae(this.value,E),er(y.semver,P,E);var R=(this.operator===">="||this.operator===">")&&(y.operator===">="||y.operator===">"),N=(this.operator==="<="||this.operator==="<")&&(y.operator==="<="||y.operator==="<"),$=this.semver.version===y.semver.version,B=(this.operator===">="||this.operator==="<=")&&(y.operator===">="||y.operator==="<="),ee=Dt(this.semver,"<",y.semver,E)&&(this.operator===">="||this.operator===">")&&(y.operator==="<="||y.operator==="<"),Z=Dt(this.semver,">",y.semver,E)&&(this.operator==="<="||this.operator==="<")&&(y.operator===">="||y.operator===">");return R||N||$&&B||ee||Z},t.Range=ae;function ae(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof ae)return y.loose===!!E.loose&&y.includePrerelease===!!E.includePrerelease?y:new ae(y.raw,E);if(y instanceof Ie)return new ae(y.value,E);if(!(this instanceof ae))return new ae(y,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=y,this.set=y.split(/\s*\|\|\s*/).map(function(P){return this.parseRange(P.trim())},this).filter(function(P){return P.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+y);this.format()}ae.prototype.format=function(){return this.range=this.set.map(function(y){return y.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(y){var E=this.options.loose;y=y.trim();var P=E?s[ye]:s[At];y=y.replace(P,ds),r("hyphen replace",y),y=y.replace(s[he],wt),r("comparator trim",y,s[he]),y=y.replace(s[M],L),y=y.replace(s[ie],te),y=y.split(/\s+/).join(" ");var R=E?s[xe]:s[Te],N=y.split(" ").map(function($){return bn($,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(N=N.filter(function($){return!!$.match(R)})),N=N.map(function($){return new Ie($,this.options)},this),N},ae.prototype.intersects=function(y,E){if(!(y instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(P){return P.every(function(R){return y.set.some(function(N){return N.every(function($){return R.intersects($,E)})})})})},t.toComparators=Zi;function Zi(y,E){return new ae(y,E).set.map(function(P){return P.map(function(R){return R.value}).join(" ").trim().split(" ")})}function bn(y,E){return r("comp",y,E),y=as(y,E),r("caret",y),y=Ar(y,E),r("tildes",y),y=ls(y,E),r("xrange",y),y=dr(y,E),r("stars",y),y}function we(y){return!y||y.toLowerCase()==="x"||y==="*"}function Ar(y,E){return y.trim().split(/\s+/).map(function(P){return ss(P,E)}).join(" ")}function ss(y,E){var P=E.loose?s[V]:s[q];return y.replace(P,function(R,N,$,B,ee){r("tilde",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":ee?(r("replaceTilde pr",ee),Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0"):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0",r("tilde return",Z),Z})}function as(y,E){return y.trim().split(/\s+/).map(function(P){return cs(P,E)}).join(" ")}function cs(y,E){r("caret",y,E);var P=E.loose?s[Pe]:s[be];return y.replace(P,function(R,N,$,B,ee){r("caret",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?N==="0"?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+".0 <"+(+N+1)+".0.0":ee?(r("replaceCaret pr",ee),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+"-"+ee+" <"+(+N+1)+".0.0"):(r("no pr"),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+" <"+(+N+1)+".0.0"),r("caret return",Z),Z})}function ls(y,E){return r("replaceXRanges",y,E),y.split(/\s+/).map(function(P){return us(P,E)}).join(" ")}function us(y,E){y=y.trim();var P=E.loose?s[J]:s[Q];return y.replace(P,function(R,N,$,B,ee,Z){r("xRange",y,R,N,$,B,ee,Z);var Me=we($),De=Me||we(B),ke=De||we(ee),_e=ke;return N==="="&&_e&&(N=""),Me?N===">"||N==="<"?R="<0.0.0":R="*":N&&_e?(De&&(B=0),ee=0,N===">"?(N=">=",De?($=+$+1,B=0,ee=0):(B=+B+1,ee=0)):N==="<="&&(N="<",De?$=+$+1:B=+B+1),R=N+$+"."+B+"."+ee):De?R=">="+$+".0.0 <"+(+$+1)+".0.0":ke&&(R=">="+$+"."+B+".0 <"+$+"."+(+B+1)+".0"),r("xRange return",R),R})}function dr(y,E){return r("replaceStars",y,E),y.trim().replace(s[pe],"")}function ds(y,E,P,R,N,$,B,ee,Z,Me,De,ke,_e){return we(P)?E="":we(R)?E=">="+P+".0.0":we(N)?E=">="+P+"."+R+".0":E=">="+E,we(Z)?ee="":we(Me)?ee="<"+(+Z+1)+".0.0":we(De)?ee="<"+Z+"."+(+Me+1)+".0":ke?ee="<="+Z+"."+Me+"."+De+"-"+ke:ee="<="+ee,(E+" "+ee).trim()}ae.prototype.test=function(y){if(!y)return!1;typeof y=="string"&&(y=new X(y,this.options));for(var E=0;E<this.set.length;E++)if(fs(this.set[E],y,this.options))return!0;return!1};function fs(y,E,P){for(var R=0;R<y.length;R++)if(!y[R].test(E))return!1;if(E.prerelease.length&&!P.includePrerelease){for(R=0;R<y.length;R++)if(r(y[R].semver),y[R].semver!==St&&y[R].semver.prerelease.length>0){var N=y[R].semver;if(N.major===E.major&&N.minor===E.minor&&N.patch===E.patch)return!0}return!1}return!0}t.satisfies=er;function er(y,E,P){try{E=new ae(E,P)}catch{return!1}return E.test(y)}t.maxSatisfying=ps;function ps(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===-1)&&(R=B,N=new X(R,P))}),R}t.minSatisfying=hs;function hs(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===1)&&(R=B,N=new X(R,P))}),R}t.minVersion=Gr;function Gr(y,E){y=new ae(y,E);var P=new X("0.0.0");if(y.test(P)||(P=new X("0.0.0-0"),y.test(P)))return P;P=null;for(var R=0;R<y.set.length;++R){var N=y.set[R];N.forEach(function($){var B=new X($.semver.version);switch($.operator){case">":B.prerelease.length===0?B.patch++:B.prerelease.push(0),B.raw=B.format();case"":case">=":(!P||_t(P,B))&&(P=B);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+$.operator)}})}return P&&y.test(P)?P:null}t.validRange=ms;function ms(y,E){try{return new ae(y,E).range||"*"}catch{return null}}t.ltr=gs;function gs(y,E,P){return Tr(y,E,"<",P)}t.gtr=vs;function vs(y,E,P){return Tr(y,E,">",P)}t.outside=Tr;function Tr(y,E,P,R){y=new X(y,R),E=new ae(E,R);var N,$,B,ee,Z;switch(P){case">":N=_t,$=Tt,B=Bt,ee=">",Z=">=";break;case"<":N=Bt,$=Ir,B=_t,ee="<",Z="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(er(y,E,R))return!1;for(var Me=0;Me<E.set.length;++Me){var De=E.set[Me],ke=null,_e=null;if(De.forEach(function(Je){Je.semver===St&&(Je=new Ie(">=0.0.0")),ke=ke||Je,_e=_e||Je,N(Je.semver,ke.semver,R)?ke=Je:B(Je.semver,_e.semver,R)&&(_e=Je)}),ke.operator===ee||ke.operator===Z||(!_e.operator||_e.operator===ee)&&$(y,_e.semver)||_e.operator===Z&&B(y,_e.semver))return!1}return!0}t.prerelease=ys;function ys(y,E){var P=Ue(y,E);return P&&P.prerelease.length?P.prerelease:null}t.intersects=zr;function zr(y,E,P){return y=new ae(y,P),E=new ae(E,P),y.intersects(E)}t.coerce=ws;function ws(y){if(y instanceof X)return y;if(typeof y!="string")return null;var E=y.match(s[le]);return E==null?null:Ue(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),Lb=O((t,e)=>{"use strict";function r(u){return typeof u=="function"}var n=console.error.bind(console);function i(u,d,f){var p=!!u[d]&&u.propertyIsEnumerable(d);Object.defineProperty(u,d,{configurable:!0,enumerable:p,writable:!0,value:f})}function o(u){u&&u.logger&&(r(u.logger)?n=u.logger:n("new logger isn't a function, not replacing"))}function s(u,d,f){if(!u||!u[d]){n("no original function "+d+" to wrap");return}if(!f){n("no wrapper function"),n(new Error().stack);return}if(!r(u[d])||!r(f)){n("original object and wrapper must be functions");return}var p=u[d],h=f(p,d);return i(h,"__original",p),i(h,"__unwrap",function(){u[d]===h&&i(u,d,p)}),i(h,"__wrapped",!0),i(u,d,h),h}function a(u,d,f){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to wrap on modules");return}u.forEach(function(p){d.forEach(function(h){s(p,h,f)})})}function c(u,d){if(!u||!u[d]){n("no function to unwrap."),n(new Error().stack);return}if(!u[d].__unwrap)n("no original to unwrap to -- has "+d+" already been unwrapped?");else return u[d].__unwrap()}function l(u,d){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to unwrap on modules");return}u.forEach(function(f){d.forEach(function(p){c(f,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=l,e.exports=o}),Fb=O((t,e)=>{"use strict";var r=Lb(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(d,f,p){var h=!!d[f]&&d.propertyIsEnumerable(f);Object.defineProperty(d,f,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(d,f){for(var p=f.length,h=0;h<p;h++){var m=f[h],g=d[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,w=0;w<v;w++)g[w](m)}}function c(d,f){var p;return p=d._events&&d._events[f],Array.isArray(p)||(p?p=[p]:p=[]),p}function l(d,f,p){var h=c(d,f),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(d,m)}function u(d,f){if(d){var p=d;if(typeof d=="function")p=f(d);else if(Array.isArray(d)){p=[];for(var h=0;h<d.length;h++)p[h]=f(d[h])}return p}}e.exports=function(d,f,p){if(!d||!d.on||!d.addListener||!d.removeListener||!d.emit)throw new Error("can only wrap real EEs");if(!f)throw new Error("must have function to run on listener addition");if(!p)throw new Error("must have function to wrap listeners when emitting");function h(g){return function(v,w){var C=c(this,v).slice();try{var b=g.call(this,v,w);return l(this,v,C),b}finally{this.on.__wrapped||n(this,"on",h),this.addListener.__wrapped||n(this,"addListener",h)}}}function m(g){return function(v){if(!this._events||!this._events[v])return g.apply(this,arguments);var w=this._events[v];function C(b){return function(){this._events[v]=w;try{return b.apply(this,arguments)}finally{w=this._events[v],this._events[v]=u(w,p)}}}n(this,"removeListener",C);try{return this._events[v]=u(w,p),g.apply(this,arguments)}finally{i(this,"removeListener"),this._events[v]=w}}}d[o]?typeof d[o]=="function"?s(d,o,[d[o],f]):Array.isArray(d[o])&&d[o].push(f):s(d,o,f),d.__wrapped||(n(d,"addListener",h),n(d,"on",h),n(d,"emit",m),s(d,"__unwrap",function(){i(d,"addListener"),i(d,"on"),i(d,"emit"),delete d[o],delete d.__wrapped}),s(d,"__wrapped",!0))}}),mee=O((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=Fb(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,l=-1;e.exports={getNamespace:d,createNamespace:f,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function u(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}u.prototype.set=function(g,v){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[g]=v,c){let w=" ".repeat(this._indent<0?0:this._indent);m(w+"CONTEXT-SET KEY:"+g+"="+v+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return v},u.prototype.get=function(g){if(!this.active){if(c){let v=o.currentId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${g}=undefined currentUid:${l} asyncHooksCurrentId:${v} triggerId:${w} len:${this._set.length}`)}return}if(c){let v=o.executionAsyncId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(C+"CONTEXT-GETTING KEY:"+g+"="+this.active[g]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${C}CONTEXT-GETTING KEY: (${this.name}) ${g}=${this.active[g]} currentUid:${l} asyncHooksCurrentId:${v} triggerId:${w} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[g]},u.prototype.createContext=function(){let g=Object.create(this.active?this.active:Object.prototype);if(g._ns_name=this.name,g.id=l,c){let v=o.executionAsyncId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${v} triggerId:${w} len:${this._set.length} context:${r.inspect(g,{showHidden:!0,depth:2,colors:!0})}`)}return g},u.prototype.run=function(g){let v=this.createContext();this.enter(v);try{if(c){let w=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${w} asyncHooksCurrentId:${C} len:${this._set.length} context:${r.inspect(v)}`)}return g(v),v}catch(w){throw w&&(w[a]=v),w}finally{if(c){let w=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${w} asyncHooksCurrentId:${C} len:${this._set.length} ${r.inspect(v)}`)}this.exit(v)}},u.prototype.runAndReturn=function(g){let v;return this.run(function(w){v=g(w)}),v},u.prototype.runPromise=function(g){let v=this.createContext();this.enter(v);let w=g(v);if(!w||!w.then||!w.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),w.then(C=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C)).catch(C=>{throw C[a]=v,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C})},u.prototype.bind=function(g,v){v||(this.active?v=this.active:v=this.createContext());let w=this;return function(){w.enter(v);try{return g.apply(this,arguments)}catch(C){throw C&&(C[a]=v),C}finally{w.exit(v)}}},u.prototype.enter=function(g){if(n.ok(g,"context must be provided for entering"),c){let v=o.executionAsyncId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${w} asyncHooksCurrentId:${v} len:${this._set.length} ${r.inspect(g)}`)}this._set.push(this.active),this.active=g},u.prototype.exit=function(g){if(n.ok(g,"context must be provided for exiting"),c){let w=o.executionAsyncId(),C=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${C} asyncHooksCurrentId:${w} len:${this._set.length} ${r.inspect(g)}`)}if(this.active===g){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let v=this._set.lastIndexOf(g);v<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(g)),n.ok(v>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(g))):(n.ok(v,"can't remove top context"),this._set.splice(v,1))},u.prototype.bindEmitter=function(g){n.ok(g.on&&g.addListener&&g.emit,"can only bind real EEs");let v=this,w="context@"+this.name;function C(_){!_||(_[s]||(_[s]=Object.create(null)),_[s][w]={namespace:v,context:v.active})}function b(_){if(!(_&&_[s]))return _;let S=_,x=_[s];return Object.keys(x).forEach(function(k){let A=x[k];S=A.namespace.bind(S,A.context)}),S}i(g,C,b)},u.prototype.fromException=function(g){return g[a]};function d(g){return process.namespaces[g]}function f(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new u(g);return v.id=l,o.createHook({init(w,C,b,_){if(l=o.executionAsyncId(),v.active){if(v._contexts.set(w,v.active),c){let S=" ".repeat(v._indent<0?0:v._indent);m(`${S}INIT [${C}] (${g}) asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(l===0){let S=o.triggerAsyncId(),x=v._contexts.get(S);if(x){if(v._contexts.set(w,x),c){let k=" ".repeat(v._indent<0?0:v._indent);m(`${k}INIT USING CONTEXT FROM TRIGGERID [${C}] (${g}) asyncId:${w} currentUid:${l} triggerId:${S} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(c){let k=" ".repeat(v._indent<0?0:v._indent);m(`${k}INIT MISSING CONTEXT [${C}] (${g}) asyncId:${w} currentUid:${l} triggerId:${S} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}if(c&&C==="PROMISE"){m(r.inspect(_,{showHidden:!0}));let S=_.parentId,x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT RESOURCE-PROMISE [${C}] (${g}) parentId:${S} asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}},before(w){l=o.executionAsyncId();let C;if(C=v._contexts.get(w)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE (${g}) asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`),v._indent+=2}v.enter(C)}else if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE MISSING CONTEXT (${g}) asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(w){l=o.executionAsyncId();let C;if(C=v._contexts.get(w)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER (${g}) asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}v.exit(C)}else if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER MISSING CONTEXT (${g}) asyncId:${w} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}},destroy(w){if(l=o.executionAsyncId(),c){let C=o.triggerAsyncId(),b=" ".repeat(v._indent<0?0:v._indent);m(`${b}DESTROY (${g}) currentUid:${l} asyncId:${w} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(l))}`)}v._contexts.delete(w)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=d(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}),gee=O((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,l=--i.counter;return n.init.call(c,l,0,null,null),s[0]=function(){n.pre.call(c,l);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,l,!0),n.destroy.call(null,l)})}n.post.call(c,l,!1),n.destroy.call(null,l)},o.apply(process,s)}}}),vee=O((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=u;function a(d,f,p,h){return typeof d!="function"?h?c(p):l(p):function(){n.pre.call(f,p);try{return d.apply(this,arguments)}finally{n.post.call(f,p,!1),n.destroy.call(null,p)}}}function c(d){return function(f){return n.destroy.call(null,d),f}}function l(d){return function(f){throw n.destroy.call(null,d),f}}function u(d,f){if(!i.enabled)return s.call(this,d,f);let p=new r,h=--i.counter;return n.init.call(p,h,0,null,null),s.call(this,a(d,p,h,!0),a(f,p,h,!1))}}}),yee=O((t,e)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,l=null,u=!1;e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),d(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function d(f,p,h,m,g,v,w){let C=r[h],b=r[m];r[h]=function(){if(!p.enabled)return C.apply(r,arguments);let _=new Array(arguments.length);for(let T=0;T<arguments.length;T++)_[T]=arguments[T];let S=_[0];if(typeof S!="function")throw new TypeError('"callback" argument must be a function');let x=new g,k=--p.counter,A;return f.init.call(x,k,0,null,null),_[0]=function(){l=A,f.pre.call(x,k);let T=!0;try{S.apply(this,arguments),T=!1}finally{T&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){f.post.call(x,k,!0),v.delete(A),f.destroy.call(null,k)})}f.post.call(x,k,!1),l=null,(w||u)&&(u=!1,v.delete(A),f.destroy.call(null,k))},A=C.apply(r,_),v.set(A,k),A},r[m]=function(_){if(l===_&&_!==null)u=!0;else if(v.has(_)){let S=v.get(_);v.delete(_),f.destroy.call(null,S)}b.apply(r,arguments)}}}),EF=O((t,e)=>{e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),wee=O((t,e)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:gee(),promise:vee(),timers:yee()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let u=this.initFns=[],d=this.preFns=[],f=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let w of u)w(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of d)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of f)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(u){u.init&&this.initFns.push(u.init),u.pre&&this.preFns.push(u.pre),u.post&&this.postFns.push(u.post),u.destroy&&this.destroyFns.push(u.destroy)};function c(u,d){let f=u.indexOf(d);f!==-1&&u.splice(f,1)}a.prototype.remove=function(u){u.init&&c(this.initFns,u.init),u.pre&&c(this.preFns,u.pre),u.post&&c(this.postFns,u.post),u.destroy&&c(this.destroyFns,u.destroy)};function l(){this._state=new s,this._hooks=new a,this.version=EF().version,this.providers=r.Providers;for(let u of Object.keys(i))i[u].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}e.exports=l,l.prototype.addHooks=function(u){this._hooks.add(u)},l.prototype.removeHooks=function(u){this._hooks.remove(u)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),_F=O((t,e)=>{e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Cee=O((t,e)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}e.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(l){try{c="<error: "+l+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),bee=O((t,e)=>{var r=Cee();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=_F().version}var i=!1;n.prototype.callSite=function d(f){f||(f={}),i=!0;var p={};Error.captureStackTrace(p,d);var h=p.stack;return i=!1,h=h.slice(f.slice||0),f.extend&&(h=this.extend._modify(p,h)),f.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(d,f){for(var p=0,h=this._modifiers.length;p<h;p++)f=this._modifiers[p](d,f);return f},s.prototype.attach=function(d){this._modifiers.push(d)},s.prototype.deattach=function(d){var f=this._modifiers.indexOf(d);return f===-1?!1:(this._modifiers.splice(f,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(d){d?this._formater=d:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(d,f){if(i)return f;if(c)return r(d,f);var p=f.concat();p=o.extend._modify(d,p),p=o.filter._modify(d,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(d)&&Object.getOwnPropertyDescriptor(d,"callSite")===void 0&&(d.callSite={original:f,mutated:p}),c=!0;var h=o.format._formater(d,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(d){d===l?o.format._roolback():(o.format._backup(),o.format.replace(d))}});function u(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:u,set:function(d){Object.defineProperty(this,"callSite",{value:d,writable:!0,configurable:!0})},configurable:!0}),e.exports=o}),SF=O((t,e)=>{if(global._stackChain)if(global._stackChain.version===_F().version)e.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else e.exports=global._stackChain=bee()}),Eee=O((t,e)=>{"use strict";var r=wee();if(global._asyncHook)if(global._asyncHook.version===EF().version)e.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else SF().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}),_ee=O((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=Fb(),o=Eee(),s="cls@contexts",a="error@context",c=[];for(let b in o.providers)c[o.providers[b]]=b;var l=process.env.DEBUG_CLS_HOOKED,u=-1;e.exports={getNamespace:f,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function d(b){this.name=b,this.active=null,this._set=[],this.id=null,this._contexts=new Map}d.prototype.set=function(b,_){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&g("    SETTING KEY:"+b+"="+_+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]=_,_},d.prototype.get=function(b){if(!this.active){l&&g("    GETTING KEY:"+b+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0));return}return l&&g("    GETTING KEY:"+b+"="+this.active[b]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]},d.prototype.createContext=function(){l&&g("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let b=Object.create(this.active?this.active:Object.prototype);return b._ns_name=this.name,b.id=u,l&&g("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(b,!0,2,!0)),b},d.prototype.run=function(b){let _=this.createContext();this.enter(_);try{return l&&g(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),b(_),_}catch(S){throw S&&(S[a]=_),S}finally{l&&g(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_)}},d.prototype.runAndReturn=function(b){var _;return this.run(function(S){_=b(S)}),_},d.prototype.runPromise=function(b){let _=this.createContext();this.enter(_);let S=b(_);if(!S||!S.then||!S.catch)throw new Error("fn must return a promise.");return l&&g(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),S.then(x=>(l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),x)).catch(x=>{throw x[a]=_,l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),x})},d.prototype.bind=function(b,_){_||(this.active?_=this.active:_=this.createContext());let S=this;return function(){S.enter(_);try{return b.apply(this,arguments)}catch(x){throw x&&(x[a]=_),x}finally{S.exit(_)}}},d.prototype.enter=function(b){n.ok(b,"context must be provided for entering"),l&&g("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this._set.push(this.active),this.active=b},d.prototype.exit=function(b){if(n.ok(b,"context must be provided for exiting"),l&&g("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this.active===b){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let _=this._set.lastIndexOf(b);_<0?(l&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(b)),n.ok(_>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(b))):(n.ok(_,"can't remove top context"),this._set.splice(_,1))},d.prototype.bindEmitter=function(b){n.ok(b.on&&b.addListener&&b.emit,"can only bind real EEs");let _=this,S="context@"+this.name;function x(A){!A||(A[s]||(A[s]=Object.create(null)),A[s][S]={namespace:_,context:_.active})}function k(A){if(!(A&&A[s]))return A;let T=A,F=A[s];return Object.keys(F).forEach(function(H){let Q=F[H];T=Q.namespace.bind(T,Q.context)}),T}i(b,x,k)},d.prototype.fromException=function(b){return b[a]};function f(b){return process.namespaces[b]}function p(b){n.ok(b,"namespace must be given a name."),l&&g("CREATING NAMESPACE "+b);let _=new d(b);return _.id=u,o.addHooks({init(S,x,k,A,T){u=S,A?(_._contexts.set(S,_._contexts.get(A)),l&&g("PARENTID: "+b+" uid:"+S+" parent:"+A+" provider:"+k)):_._contexts.set(u,_.active),l&&g("INIT "+b+" uid:"+S+" parent:"+A+" provider:"+c[k]+" active:"+r.inspect(_.active,!0))},pre(S,x){u=S;let k=_._contexts.get(S);k?(l&&g(" PRE "+b+" uid:"+S+" handle:"+v(x)+" context:"+r.inspect(k)),_.enter(k)):l&&g(" PRE MISSING CONTEXT "+b+" uid:"+S+" handle:"+v(x))},post(S,x){u=S;let k=_._contexts.get(S);k?(l&&g(" POST "+b+" uid:"+S+" handle:"+v(x)+" context:"+r.inspect(k)),_.exit(k)):l&&g(" POST MISSING CONTEXT "+b+" uid:"+S+" handle:"+v(x))},destroy(S){u=S,l&&g("DESTROY "+b+" uid:"+S+" context:"+r.inspect(_._contexts.get(u))+" active:"+r.inspect(_.active,!0)),_._contexts.delete(S)}}),process.namespaces[b]=_,_}function h(b){let _=f(b);n.ok(_,`can't delete nonexistent namespace! "`+b+'"'),n.ok(_.id,"don't assign to process.namespaces directly! "+r.inspect(_)),process.namespaces[b]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(b){h(b)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(b){process.env.DEBUG&&process._rawDebug(b)}function v(b){if(!b)return b;if(typeof b=="function")return b.name?b.name:(b.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(b.constructor&&b.constructor.name)return b.constructor.name}if(l){w=SF();for(C in w.filter._modifiers)w.filter.deattach(C)}var w,C}),See=O((t,e)=>{"use strict";var r=hee();process&&r.gte(process.versions.node,"8.0.0")?e.exports=mee():e.exports=_ee()}),xee=O((t,e)=>{t=e.exports=X;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var y=Array.prototype.slice.call(arguments,0);y.unshift("SEMVER"),console.log.apply(console,y)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var w=c++;a[w]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[w]+"(?:\\."+a[w]+")*))";var b=c++,_="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var S="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",x=c++;a[x]="^"+S+"$";var k=c++;a[k]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var F=c++;a[F]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Q=c++;a[Q]="^"+a[k]+"\\s*"+a[F]+"$";var J=c++;a[J]="^"+a[k]+"\\s*"+a[H]+"$";var le=c++;a[le]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var G=c++;a[G]="(?:~>?)";var M=c++;a[M]="(\\s*)"+a[G]+"\\s+",s[M]=new RegExp(a[M],"g");var L="$1~",q=c++;a[q]="^"+a[G]+a[F]+"$";var V=c++;a[V]="^"+a[G]+a[H]+"$";var K=c++;a[K]="(?:\\^)";var ie=c++;a[ie]="(\\s*)"+a[K]+"\\s+",s[ie]=new RegExp(a[ie],"g");var te="$1^",be=c++;a[be]="^"+a[K]+a[F]+"$";var Pe=c++;a[Pe]="^"+a[K]+a[H]+"$";var xe=c++;a[xe]="^"+a[k]+"\\s*("+S+")$|^$";var Te=c++;a[Te]="^"+a[k]+"\\s*("+_+")$|^$";var he=c++;a[he]="(\\s*)"+a[k]+"\\s*("+S+"|"+a[F]+")",s[he]=new RegExp(a[he],"g");var wt="$1$2$3",At=c++;a[At]="^\\s*("+a[F]+")\\s+-\\s+("+a[F]+")\\s*$";var ye=c++;a[ye]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var pe=c++;for(a[pe]="(<|>)?=?\\s*\\*",Ce=0;Ce<c;Ce++)r(Ce,a[Ce]),s[Ce]||(s[Ce]=new RegExp(a[Ce]));var Ce;t.parse=Ue;function Ue(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X)return y;if(typeof y!="string"||y.length>n)return null;var P=E.loose?s[x]:s[b];if(!P.test(y))return null;try{return new X(y,E)}catch{return null}}t.valid=ts;function ts(y,E){var P=Ue(y,E);return P?P.version:null}t.clean=rs;function rs(y,E){var P=Ue(y.trim().replace(/^[=v]+/,""),E);return P?P.version:null}t.SemVer=X;function X(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof X){if(y.loose===E.loose)return y;y=y.version}else if(typeof y!="string")throw new TypeError("Invalid Version: "+y);if(y.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof X))return new X(y,E);r("SemVer",y,E),this.options=E,this.loose=!!E.loose;var P=y.trim().match(E.loose?s[x]:s[b]);if(!P)throw new TypeError("Invalid Version: "+y);if(this.raw=y,this.major=+P[1],this.minor=+P[2],this.patch=+P[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");P[4]?this.prerelease=P[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var N=+R;if(N>=0&&N<i)return N}return R}):this.prerelease=[],this.build=P[5]?P[5].split("."):[],this.format()}X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(y){return r("SemVer.compare",this.version,this.options,y),y instanceof X||(y=new X(y,this.options)),this.compareMain(y)||this.comparePre(y)},X.prototype.compareMain=function(y){return y instanceof X||(y=new X(y,this.options)),at(this.major,y.major)||at(this.minor,y.minor)||at(this.patch,y.patch)},X.prototype.comparePre=function(y){if(y instanceof X||(y=new X(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;var E=0;do{var P=this.prerelease[E],R=y.prerelease[E];if(r("prerelease compare",E,P,R),P===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(P===void 0)return-1;if(P!==R)return at(P,R)}while(++E)},X.prototype.inc=function(y,E){switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var P=this.prerelease.length;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);P===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+y)}return this.format(),this.raw=this.version,this},t.inc=ns;function ns(y,E,P,R){typeof P=="string"&&(R=P,P=void 0);try{return new X(y,P).inc(E,R).version}catch{return null}}t.diff=is;function is(y,E){if(gr(y,E))return null;var P=Ue(y),R=Ue(E),N="";if(P.prerelease.length||R.prerelease.length){N="pre";var $="prerelease"}for(var B in P)if((B==="major"||B==="minor"||B==="patch")&&P[B]!==R[B])return N+B;return $}t.compareIdentifiers=at;var kr=/^[0-9]+$/;function at(y,E){var P=kr.test(y),R=kr.test(E);return P&&R&&(y=+y,E=+E),y===E?0:P&&!R?-1:R&&!P?1:y<E?-1:1}t.rcompareIdentifiers=Vn;function Vn(y,E){return at(E,y)}t.major=ur;function ur(y,E){return new X(y,E).major}t.minor=Yi;function Yi(y,E){return new X(y,E).minor}t.patch=Ji;function Ji(y,E){return new X(y,E).patch}t.compare=Ge;function Ge(y,E,P){return new X(y,P).compare(new X(E,P))}t.compareLoose=os;function os(y,E){return Ge(y,E,!0)}t.rcompare=Wn;function Wn(y,E,P){return Ge(E,y,P)}t.sort=Qi;function Qi(y,E){return y.sort(function(P,R){return t.compare(P,R,E)})}t.rsort=Xi;function Xi(y,E){return y.sort(function(P,R){return t.rcompare(P,R,E)})}t.gt=_t;function _t(y,E,P){return Ge(y,E,P)>0}t.lt=Bt;function Bt(y,E,P){return Ge(y,E,P)<0}t.eq=gr;function gr(y,E,P){return Ge(y,E,P)===0}t.neq=Gn;function Gn(y,E,P){return Ge(y,E,P)!==0}t.gte=Ir;function Ir(y,E,P){return Ge(y,E,P)>=0}t.lte=Tt;function Tt(y,E,P){return Ge(y,E,P)<=0}t.cmp=Dt;function Dt(y,E,P,R){switch(E){case"===":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y===P;case"!==":return typeof y=="object"&&(y=y.version),typeof P=="object"&&(P=P.version),y!==P;case"":case"=":case"==":return gr(y,P,R);case"!=":return Gn(y,P,R);case">":return _t(y,P,R);case">=":return Ir(y,P,R);case"<":return Bt(y,P,R);case"<=":return Tt(y,P,R);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ie;function Ie(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof Ie){if(y.loose===!!E.loose)return y;y=y.value}if(!(this instanceof Ie))return new Ie(y,E);r("comparator",y,E),this.options=E,this.loose=!!E.loose,this.parse(y),this.semver===St?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var St={};Ie.prototype.parse=function(y){var E=this.options.loose?s[xe]:s[Te],P=y.match(E);if(!P)throw new TypeError("Invalid comparator: "+y);this.operator=P[1],this.operator==="="&&(this.operator=""),P[2]?this.semver=new X(P[2],this.options.loose):this.semver=St},Ie.prototype.toString=function(){return this.value},Ie.prototype.test=function(y){return r("Comparator.test",y,this.options.loose),this.semver===St?!0:(typeof y=="string"&&(y=new X(y,this.options)),Dt(y,this.operator,this.semver,this.options))},Ie.prototype.intersects=function(y,E){if(!(y instanceof Ie))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var P;if(this.operator==="")return P=new ae(y.value,E),er(this.value,P,E);if(y.operator==="")return P=new ae(this.value,E),er(y.semver,P,E);var R=(this.operator===">="||this.operator===">")&&(y.operator===">="||y.operator===">"),N=(this.operator==="<="||this.operator==="<")&&(y.operator==="<="||y.operator==="<"),$=this.semver.version===y.semver.version,B=(this.operator===">="||this.operator==="<=")&&(y.operator===">="||y.operator==="<="),ee=Dt(this.semver,"<",y.semver,E)&&(this.operator===">="||this.operator===">")&&(y.operator==="<="||y.operator==="<"),Z=Dt(this.semver,">",y.semver,E)&&(this.operator==="<="||this.operator==="<")&&(y.operator===">="||y.operator===">");return R||N||$&&B||ee||Z},t.Range=ae;function ae(y,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),y instanceof ae)return y.loose===!!E.loose&&y.includePrerelease===!!E.includePrerelease?y:new ae(y.raw,E);if(y instanceof Ie)return new ae(y.value,E);if(!(this instanceof ae))return new ae(y,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=y,this.set=y.split(/\s*\|\|\s*/).map(function(P){return this.parseRange(P.trim())},this).filter(function(P){return P.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+y);this.format()}ae.prototype.format=function(){return this.range=this.set.map(function(y){return y.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(y){var E=this.options.loose;y=y.trim();var P=E?s[ye]:s[At];y=y.replace(P,ds),r("hyphen replace",y),y=y.replace(s[he],wt),r("comparator trim",y,s[he]),y=y.replace(s[M],L),y=y.replace(s[ie],te),y=y.split(/\s+/).join(" ");var R=E?s[xe]:s[Te],N=y.split(" ").map(function($){return bn($,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(N=N.filter(function($){return!!$.match(R)})),N=N.map(function($){return new Ie($,this.options)},this),N},ae.prototype.intersects=function(y,E){if(!(y instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(P){return P.every(function(R){return y.set.some(function(N){return N.every(function($){return R.intersects($,E)})})})})},t.toComparators=Zi;function Zi(y,E){return new ae(y,E).set.map(function(P){return P.map(function(R){return R.value}).join(" ").trim().split(" ")})}function bn(y,E){return r("comp",y,E),y=as(y,E),r("caret",y),y=Ar(y,E),r("tildes",y),y=ls(y,E),r("xrange",y),y=dr(y,E),r("stars",y),y}function we(y){return!y||y.toLowerCase()==="x"||y==="*"}function Ar(y,E){return y.trim().split(/\s+/).map(function(P){return ss(P,E)}).join(" ")}function ss(y,E){var P=E.loose?s[V]:s[q];return y.replace(P,function(R,N,$,B,ee){r("tilde",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":ee?(r("replaceTilde pr",ee),Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0"):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0",r("tilde return",Z),Z})}function as(y,E){return y.trim().split(/\s+/).map(function(P){return cs(P,E)}).join(" ")}function cs(y,E){r("caret",y,E);var P=E.loose?s[Pe]:s[be];return y.replace(P,function(R,N,$,B,ee){r("caret",y,R,N,$,B,ee);var Z;return we(N)?Z="":we($)?Z=">="+N+".0.0 <"+(+N+1)+".0.0":we(B)?N==="0"?Z=">="+N+"."+$+".0 <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+".0 <"+(+N+1)+".0.0":ee?(r("replaceCaret pr",ee),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+"-"+ee+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+"-"+ee+" <"+(+N+1)+".0.0"):(r("no pr"),N==="0"?$==="0"?Z=">="+N+"."+$+"."+B+" <"+N+"."+$+"."+(+B+1):Z=">="+N+"."+$+"."+B+" <"+N+"."+(+$+1)+".0":Z=">="+N+"."+$+"."+B+" <"+(+N+1)+".0.0"),r("caret return",Z),Z})}function ls(y,E){return r("replaceXRanges",y,E),y.split(/\s+/).map(function(P){return us(P,E)}).join(" ")}function us(y,E){y=y.trim();var P=E.loose?s[J]:s[Q];return y.replace(P,function(R,N,$,B,ee,Z){r("xRange",y,R,N,$,B,ee,Z);var Me=we($),De=Me||we(B),ke=De||we(ee),_e=ke;return N==="="&&_e&&(N=""),Me?N===">"||N==="<"?R="<0.0.0":R="*":N&&_e?(De&&(B=0),ee=0,N===">"?(N=">=",De?($=+$+1,B=0,ee=0):(B=+B+1,ee=0)):N==="<="&&(N="<",De?$=+$+1:B=+B+1),R=N+$+"."+B+"."+ee):De?R=">="+$+".0.0 <"+(+$+1)+".0.0":ke&&(R=">="+$+"."+B+".0 <"+$+"."+(+B+1)+".0"),r("xRange return",R),R})}function dr(y,E){return r("replaceStars",y,E),y.trim().replace(s[pe],"")}function ds(y,E,P,R,N,$,B,ee,Z,Me,De,ke,_e){return we(P)?E="":we(R)?E=">="+P+".0.0":we(N)?E=">="+P+"."+R+".0":E=">="+E,we(Z)?ee="":we(Me)?ee="<"+(+Z+1)+".0.0":we(De)?ee="<"+Z+"."+(+Me+1)+".0":ke?ee="<="+Z+"."+Me+"."+De+"-"+ke:ee="<="+ee,(E+" "+ee).trim()}ae.prototype.test=function(y){if(!y)return!1;typeof y=="string"&&(y=new X(y,this.options));for(var E=0;E<this.set.length;E++)if(fs(this.set[E],y,this.options))return!0;return!1};function fs(y,E,P){for(var R=0;R<y.length;R++)if(!y[R].test(E))return!1;if(E.prerelease.length&&!P.includePrerelease){for(R=0;R<y.length;R++)if(r(y[R].semver),y[R].semver!==St&&y[R].semver.prerelease.length>0){var N=y[R].semver;if(N.major===E.major&&N.minor===E.minor&&N.patch===E.patch)return!0}return!1}return!0}t.satisfies=er;function er(y,E,P){try{E=new ae(E,P)}catch{return!1}return E.test(y)}t.maxSatisfying=ps;function ps(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===-1)&&(R=B,N=new X(R,P))}),R}t.minSatisfying=hs;function hs(y,E,P){var R=null,N=null;try{var $=new ae(E,P)}catch{return null}return y.forEach(function(B){$.test(B)&&(!R||N.compare(B)===1)&&(R=B,N=new X(R,P))}),R}t.minVersion=Gr;function Gr(y,E){y=new ae(y,E);var P=new X("0.0.0");if(y.test(P)||(P=new X("0.0.0-0"),y.test(P)))return P;P=null;for(var R=0;R<y.set.length;++R){var N=y.set[R];N.forEach(function($){var B=new X($.semver.version);switch($.operator){case">":B.prerelease.length===0?B.patch++:B.prerelease.push(0),B.raw=B.format();case"":case">=":(!P||_t(P,B))&&(P=B);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+$.operator)}})}return P&&y.test(P)?P:null}t.validRange=ms;function ms(y,E){try{return new ae(y,E).range||"*"}catch{return null}}t.ltr=gs;function gs(y,E,P){return Tr(y,E,"<",P)}t.gtr=vs;function vs(y,E,P){return Tr(y,E,">",P)}t.outside=Tr;function Tr(y,E,P,R){y=new X(y,R),E=new ae(E,R);var N,$,B,ee,Z;switch(P){case">":N=_t,$=Tt,B=Bt,ee=">",Z=">=";break;case"<":N=Bt,$=Ir,B=_t,ee="<",Z="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(er(y,E,R))return!1;for(var Me=0;Me<E.set.length;++Me){var De=E.set[Me],ke=null,_e=null;if(De.forEach(function(Je){Je.semver===St&&(Je=new Ie(">=0.0.0")),ke=ke||Je,_e=_e||Je,N(Je.semver,ke.semver,R)?ke=Je:B(Je.semver,_e.semver,R)&&(_e=Je)}),ke.operator===ee||ke.operator===Z||(!_e.operator||_e.operator===ee)&&$(y,_e.semver)||_e.operator===Z&&B(y,_e.semver))return!1}return!0}t.prerelease=ys;function ys(y,E){var P=Ue(y,E);return P&&P.prerelease.length?P.prerelease:null}t.intersects=zr;function zr(y,E,P){return y=new ae(y,P),E=new ae(E,P),y.intersects(E)}t.coerce=ws;function ws(y){if(y instanceof X)return y;if(typeof y!="string")return null;var E=y.match(s[le]);return E==null?null:Ue(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),Pee=O((t,e)=>{var r=Lb().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,l=!1,u=[],d,f;function p(x,k){var A=x.length,T=k.length,F=[];if(A===0&&T===0)return F;for(var H=0;H<A;H++)F[H]=x[H];if(T===0)return F;for(var Q=0;Q<T;Q++){var J=!0;for(H=0;H<A;H++)if(x[H].uid===k[Q].uid){J=!1;break}J&&F.push(k[Q])}return F}process._fatalException?(h=!1,d=function(x){var k=a.length;if(h||k===0)return!1;var A=!1;h=!0;for(var T=0;T<k;++T){var F=a[T];if((F.flags&s)!=0){var H=m&&m[F.uid];A=F.error(H,x)||A}}return h=!1,u.length>0&&(a=u.pop()),m=void 0,A&&!l},f=function(x,k,A){var T=[];l=!0;for(var F=0;F<A;++F){var H=k[F];if(T[H.uid]=H.data,(H.flags&n)!=0){var Q=H.create(H.data);Q!==void 0&&(T[H.uid]=Q)}}return l=!1,function(){m=T,u.push(a),a=p(k,a),l=!0;for(var J=0;J<A;++J)(k[J].flags&i)>0&&k[J].before(this,T[k[J].uid]);l=!1;var le=x.apply(this,arguments);for(l=!0,J=0;J<A;++J)(k[J].flags&o)>0&&k[J].after(this,T[k[J].uid]);return l=!1,a=u.pop(),m=void 0,le}},r(process,"_fatalException",function(x){return function(k){return d(k)||x(k)}})):(g=!1,d=function(x){if(g)throw x;for(var k=!1,A=a.length,T=0;T<A;++T){var F=a[T];(F.flags&s)!=0&&(k=F.error(null,x)||k)}if(!k&&l)throw x},f=function(x,k,A){var T=[];l=!0;for(var F=0;F<A;++F){var H=k[F];if(T[H.uid]=H.data,(H.flags&n)!=0){var Q=H.create(H.data);Q!==void 0&&(T[H.uid]=Q)}}return l=!1,function(){var J=!1,le=!1;u.push(a),a=p(k,a),l=!0;for(var G=0;G<A;++G)(k[G].flags&i)>0&&k[G].before(this,T[k[G].uid]);l=!1;var M;try{M=x.apply(this,arguments)}catch(L){J=!0;for(var G=0;G<A;++G)if((a[G].flags&s)!=0)try{le=a[G].error(T[k[G].uid],L)||le}catch(V){throw g=!0,V}if(!le)throw process.removeListener("uncaughtException",d),process._originalNextTick(function(){process.addListener("uncaughtException",d)}),L}finally{if(!J||le){for(l=!0,G=0;G<A;++G)(k[G].flags&o)>0&&k[G].after(this,T[k[G].uid]);l=!1}a=u.pop()}return M}},process.addListener("uncaughtException",d));var h,m,g;function v(x,k,A){l=!0;for(var T=0;T<A;++T){var F=k[T];F.create&&F.create(F.data)}return l=!1,function(){u.push(a),a=p(k,a);var H=x.apply(this,arguments);return a=u.pop(),H}}function w(x){var k=a.length;if(k===0)return x;for(var A=a.slice(),T=0;T<k;++T)if(A[T].flags>0)return f(x,A,k);return v(x,A,k)}function C(x,k){typeof x.create=="function"&&(this.create=x.create,this.flags|=n),typeof x.before=="function"&&(this.before=x.before,this.flags|=i),typeof x.after=="function"&&(this.after=x.after,this.flags|=o),typeof x.error=="function"&&(this.error=x.error,this.flags|=s),this.uid=++c,this.data=k===void 0?null:k}C.prototype.create=void 0,C.prototype.before=void 0,C.prototype.after=void 0,C.prototype.error=void 0,C.prototype.data=void 0,C.prototype.uid=0,C.prototype.flags=0;function b(x,k){if(typeof x!="object"||!x)throw new TypeError("callbacks argument must be an object");return x instanceof C?x:new C(x,k)}function _(x,k){var A;x instanceof C?A=x:A=b(x,k);for(var T=!1,F=0;F<a.length;F++)if(A===a[F]){T=!0;break}return T||a.push(A),A}function S(x){for(var k=0;k<a.length;k++)if(x===a[k]){a.splice(k,1);break}}process.createAsyncListener=b,process.addAsyncListener=_,process.removeAsyncListener=S,e.exports=w}),kee=O((t,e)=>{"use strict";e.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(l){s[1](l)}return a;function c(l,u){o=this,s=[d,f];function d(p){return n(a,!1),l(p)}function f(p){return n(a,!1),u(p)}}}}}),Iee=O(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var t=Lb(),e=xee(),r=t.wrap,n=t.massWrap,i=Pee(),o=require("util"),s=e.gte(process.version,"6.0.0"),a=e.gte(process.version,"7.0.0"),c=e.gte(process.version,"8.0.0"),l=e.gte(process.version,"11.0.0"),u=require("net");a&&!u._normalizeArgs?u._normalizeArgs=function(M){if(M.length===0)return[{},null];var L=M[0],q={};typeof L=="object"&&L!==null?q=L:G(L)?q.path=L:(q.port=L,M.length>1&&typeof M[1]=="string"&&(q.host=M[1]));var V=M[M.length-1];return typeof V!="function"?[q,null]:[q,V]}:!a&&!u._normalizeConnectArgs&&(u._normalizeConnectArgs=function(M){var L={};function q(K){return(K=Number(K))>=0?K:!1}typeof M[0]=="object"&&M[0]!==null?L=M[0]:typeof M[0]=="string"&&q(M[0])===!1?L.path=M[0]:(L.port=M[0],typeof M[1]=="string"&&(L.host=M[1]));var V=M[M.length-1];return typeof V=="function"?[L,V]:[L]}),"_setUpListenHandle"in u.Server.prototype?r(u.Server.prototype,"_setUpListenHandle",d):r(u.Server.prototype,"_listen2",d);function d(M){return function(){this.on("connection",function(L){L._handle&&(L._handle.onread=i(L._handle.onread))});try{return M.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function f(M){if(M&&M._handle){var L=M._handle;L._originalOnread||(L._originalOnread=L.onread),L.onread=i(L._originalOnread)}}r(u.Socket.prototype,"connect",function(M){return function(){var L;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?L=arguments[0]:L=a?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments),L[1]&&(L[1]=i(L[1]));var q=M.apply(this,L);return f(this),q}});var p=require("http");r(p.Agent.prototype,"addRequest",function(M){return function(L){var q=L.onSocket;return L.onSocket=i(function(V){return f(V),q.apply(this,arguments)}),M.apply(this,arguments)}});var h=require("child_process");function m(M){Array.isArray(M.stdio)&&M.stdio.forEach(function(L){L&&L._handle&&(L._handle.onread=i(L._handle.onread),r(L._handle,"close",J))}),M._handle&&(M._handle.onexit=i(M._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(M){return function(){var L=M.apply(this,arguments);return m(this),L}}):n(h,["execFile","fork","spawn"],function(M){return function(){var L=M.apply(this,arguments);return m(L),L}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,Q),r(process,"nextTick",J);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var w=require("timers"),C=global.setTimeout===w.setTimeout;n(w,v,J),C&&n(global,v,J);var b=require("dns");n(b,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Q),b.resolveNaptr&&r(b,"resolveNaptr",Q);var _=require("fs");n(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Q),_.lchown&&r(_,"lchown",Q),_.lchmod&&r(_,"lchmod",Q),_.ftruncate&&r(_,"ftruncate",Q);var S;try{S=require("zlib")}catch{}S&&S.Deflate&&S.Deflate.prototype&&(x=Object.getPrototypeOf(S.Deflate.prototype),x._transform?r(x,"_transform",Q):x.write&&x.flush&&x.end&&n(x,["write","flush","end"],Q));var x,k;try{k=require("crypto")}catch{}k&&(A=["pbkdf2","randomBytes"],l||A.push("pseudoRandomBytes"),n(k,A,Q));var A,T=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";T&&(F=process.addAsyncListener({create:function(){T=!1}}),global.Promise.resolve(!0).then(function(){T=!1}),process.removeAsyncListener(F));var F;T&&H();function H(){var M=global.Promise;function L(te){if(!(this instanceof L))return M(te);if(typeof te!="function")return new M(te);var be,Pe,xe=new M(Te);xe.__proto__=L.prototype;try{te.apply(be,Pe)}catch(he){Pe[1](he)}return xe;function Te(he,wt){be=this,Pe=[At,ye];function At(pe){return V(xe,!1),he(pe)}function ye(pe){return V(xe,!1),wt(pe)}}}if(o.inherits(L,M),r(M.prototype,"then",ie),M.prototype.chain&&r(M.prototype,"chain",ie),s)global.Promise=kee()(M,V);else{var q=["all","race","reject","resolve","accept","defer"];q.forEach(function(te){typeof M[te]=="function"&&(L[te]=M[te])}),global.Promise=L}function V(te,be){(!te.__asl_wrapper||be)&&(te.__asl_wrapper=i(K))}function K(te,be,Pe,xe){var Te;try{return Te=be.call(te,Pe),{returnVal:Te,error:!1}}catch(he){return{errorVal:he,error:!0}}finally{Te instanceof M?xe.__asl_wrapper=function(){var he=Te.__asl_wrapper||K;return he.apply(this,arguments)}:V(xe,!0)}}function ie(te){return function(){var be=this,Pe=te.apply(be,Array.prototype.map.call(arguments,xe));return Pe.__asl_wrapper=function(Te,he,wt,At){return be.__asl_wrapper?(be.__asl_wrapper(Te,function(){},null,Pe),Pe.__asl_wrapper(Te,he,wt,At)):K(Te,he,wt,At)},Pe;function xe(Te){return typeof Te!="function"?Te:i(function(he){var wt=(be.__asl_wrapper||K)(this,Te,he,Pe);if(wt.error)throw wt.errorVal;return wt.returnVal})}}}}function Q(M){var L=function(){var q,V=arguments.length-1;if(typeof arguments[V]=="function"){q=Array(arguments.length);for(var K=0;K<arguments.length-1;K++)q[K]=arguments[K];q[V]=i(arguments[V])}return M.apply(this,q||arguments)};switch(M.length){case 1:return function(q){return arguments.length!==1?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q))};case 2:return function(q,V){return arguments.length!==2?L.apply(this,arguments):(typeof V=="function"&&(V=i(V)),M.call(this,q,V))};case 3:return function(q,V,K){return arguments.length!==3?L.apply(this,arguments):(typeof K=="function"&&(K=i(K)),M.call(this,q,V,K))};case 4:return function(q,V,K,ie){return arguments.length!==4?L.apply(this,arguments):(typeof ie=="function"&&(ie=i(ie)),M.call(this,q,V,K,ie))};case 5:return function(q,V,K,ie,te){return arguments.length!==5?L.apply(this,arguments):(typeof te=="function"&&(te=i(te)),M.call(this,q,V,K,ie,te))};case 6:return function(q,V,K,ie,te,be){return arguments.length!==6?L.apply(this,arguments):(typeof be=="function"&&(be=i(be)),M.call(this,q,V,K,ie,te,be))};default:return L}}function J(M){var L=function(){var q;if(typeof arguments[0]=="function"){q=Array(arguments.length),q[0]=i(arguments[0]);for(var V=1;V<arguments.length;V++)q[V]=arguments[V]}return M.apply(this,q||arguments)};switch(M.length){case 1:return function(q){return arguments.length!==1?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q))};case 2:return function(q,V){return arguments.length!==2?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q,V))};case 3:return function(q,V,K){return arguments.length!==3?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q,V,K))};case 4:return function(q,V,K,ie){return arguments.length!==4?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q,V,K,ie))};case 5:return function(q,V,K,ie,te){return arguments.length!==5?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q,V,K,ie,te))};case 6:return function(q,V,K,ie,te,be){return arguments.length!==6?L.apply(this,arguments):(typeof q=="function"&&(q=i(q)),M.call(this,q,V,K,ie,te,be))};default:return L}}function le(M){return(M=Number(M))>=0?M:!1}function G(M){return typeof M=="string"&&le(M)===!1}}),Aee=O((t,e)=>{"use strict";var r=require("assert"),n=Fb(),i="cls@contexts",o="error@context";process.addAsyncListener||Iee();function s(d){this.name=d,this.active=null,this._set=[],this.id=null}s.prototype.set=function(d,f){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[d]=f,f},s.prototype.get=function(d){if(this.active)return this.active[d]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(d){var f=this.createContext();this.enter(f);try{return d(f),f}catch(p){throw p&&(p[o]=f),p}finally{this.exit(f)}},s.prototype.runAndReturn=function(d){var f;return this.run(function(p){f=d(p)}),f},s.prototype.bind=function(d,f){f||(this.active?f=this.active:f=this.createContext());var p=this;return function(){p.enter(f);try{return d.apply(this,arguments)}catch(h){throw h&&(h[o]=f),h}finally{p.exit(f)}}},s.prototype.enter=function(d){r.ok(d,"context must be provided for entering"),this._set.push(this.active),this.active=d},s.prototype.exit=function(d){if(r.ok(d,"context must be provided for exiting"),this.active===d){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var f=this._set.lastIndexOf(d);r.ok(f>=0,"context not currently entered; can't exit"),r.ok(f,"can't remove top context"),this._set.splice(f,1)},s.prototype.bindEmitter=function(d){r.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");var f=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:f,context:f.active})}function m(g){if(!(g&&g[i]))return g;var v=g,w=g[i];return Object.keys(w).forEach(function(C){var b=w[C];v=b.namespace.bind(v,b.context)}),v}n(d,h,m)},s.prototype.fromException=function(d){return d[o]};function a(d){return process.namespaces[d]}function c(d){r.ok(d,"namespace must be given a name!");var f=new s(d);return f.id=process.addAsyncListener({create:function(){return f.active},before:function(p,h){h&&f.enter(h)},after:function(p,h){h&&f.exit(h)},error:function(p){p&&f.exit(p)}}),process.namespaces[d]=f,f}function l(d){var f=a(d);r.ok(f,"can't delete nonexistent namespace!"),r.ok(f.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(f.id),process.namespaces[d]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(d){l(d)}),process.namespaces=Object.create(null)}process.namespaces||u(),e.exports={getNamespace:a,createNamespace:c,destroyNamespace:l,reset:u}}),Fc=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var e=Qt(),r=Nb(),n=mm(),i=mF(),o=bF(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var l=c.session.get(c.CONTEXT_NAME);return l===void 0?null:l},c.generateContextObject=function(l,u,d,f,p,h){return u=u||l,this.enabled?{operation:{name:d,id:l,parentId:u,traceparent:p,tracestate:h},customProperties:new a(f)}:null},c.spanToContextObject=function(l,u,d){var f=new n;return f.traceId=l.traceId,f.spanId=l.spanId,f.traceFlag=n.formatOpenTelemetryTraceFlags(l.traceFlags)||n.DEFAULT_TRACE_FLAG,f.parentId=u,c.generateContextObject(f.traceId,f.parentId,d,null,f)},c.runWithContext=function(l,u){var d;return c.enabled?c.session.bind(u,(d={},d[c.CONTEXT_NAME]=l,d))():u()},c.wrapEmitter=function(l){c.enabled&&c.session.bindEmitter(l)},c.wrapCallback=function(l,u){var d;return c.enabled?c.session.bind(l,u?(d={},d[c.CONTEXT_NAME]=u,d):void 0):l},c.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls=="undefined"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=See():this.cls=Aee()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(u){return c.session.bind(u)})),this.enabled=!0}},c.startOperation=function(l,u){var d=l&&l.traceContext||null,f=l&&l.traceId?l:null,p=l&&l.headers;if(f){var h=new n("00-"+f.traceId+"-"+f.spanId+"-01"),m=new i(f.traceState?f.traceState.serialize():null),g=c.generateContextObject(f.traceId,"|"+f.traceId+"."+f.spanId+".",typeof u=="string"?u:"",void 0,h,m);return g}if(d){var h=new n(d.traceparent),m=new i(d.tracestate),v=typeof u=="object"?new o(u):null,g=c.generateContextObject(h.traceId,h.parentId,typeof u=="string"?u:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(l),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return e.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},c.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},c.canUseClsHooked=function(){var l=process.versions.node.split("."),u=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,d=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,f=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(u&&d)&&f},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();t.CorrelationContextManager=s;var a=function(){function c(l){this.props=[],this.addHeaderData(l)}return c.prototype.addHeaderData=function(l){var u=l?l.split(", "):[];this.props=u.map(function(d){var f=d.split("=");return{key:f[0],value:f[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},c.prototype.getProperty=function(l){for(var u=0;u<this.props.length;++u){var d=this.props[u];if(d.key===l)return d.value}},c.prototype.setProperty=function(l,u){if(c.bannedCharacters.test(l)||c.bannedCharacters.test(u)){e.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+u);return}for(var d=0;d<this.props.length;++d){var f=this.props[d];if(f.key===l){f.value=u;return}}this.props.push({key:l,value:u})},c.bannedCharacters=/[,=]/,c}()}),Tee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_r(),r=kt(),n=[],i=function(a){var c=a.data.message;n.forEach(function(l){c instanceof Error?l.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),l.trackTrace({message:c,severity:a.data.stderr?e.SeverityLevel.Warning:e.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(l){return l!=c}),n.length===0&&r.channel.unsubscribe("console",i))}t.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}t.dispose=s}),Dee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_r(),r=kt(),n=[],i={10:e.SeverityLevel.Verbose,20:e.SeverityLevel.Verbose,30:e.SeverityLevel.Information,40:e.SeverityLevel.Warning,50:e.SeverityLevel.Error,60:e.SeverityLevel.Critical},o=function(c){var l=c.data.result;n.forEach(function(u){var d=i[c.data.level];l instanceof Error?u.trackException({exception:l}):u.trackTrace({message:l,severity:d})})};function s(c,l){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("bunyan",o))}t.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}t.dispose=a}),Ree=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_r(),r=kt(),n=[],i={syslog:function(c){var l={emerg:e.SeverityLevel.Critical,alert:e.SeverityLevel.Critical,crit:e.SeverityLevel.Critical,error:e.SeverityLevel.Error,warning:e.SeverityLevel.Warning,notice:e.SeverityLevel.Information,info:e.SeverityLevel.Information,debug:e.SeverityLevel.Verbose};return l[c]===void 0?e.SeverityLevel.Information:l[c]},npm:function(c){var l={error:e.SeverityLevel.Error,warn:e.SeverityLevel.Warning,info:e.SeverityLevel.Information,verbose:e.SeverityLevel.Verbose,debug:e.SeverityLevel.Verbose,silly:e.SeverityLevel.Verbose};return l[c]===void 0?e.SeverityLevel.Information:l[c]},unknown:function(c){return e.SeverityLevel.Information}},o=function(c){var l=c.data.message;n.forEach(function(u){if(l instanceof Error)u.trackException({exception:l,properties:c.data.meta});else{var d=i[c.data.levelKind](c.data.level);u.trackTrace({message:l,severity:d,properties:c.data.meta})}})};function s(c,l){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("winston",o))}t.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}t.dispose=a}),Oee=O((t,e)=>{"use strict";var r=Nb(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(Tee().enable(o&&s,this._client),Dee().enable(o,this._client),Ree().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();e.exports=n}),Nee=O((t,e)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,l,u){u===void 0&&(u=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:u}),o._client.flush({isAppCrashing:!0}),c&&l&&process.listeners(l).length===1&&(console.error(u),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();e.exports=r}),jo=O(t=>{"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatMetricName=t.DependencyTypeName=t.SpanAttribute=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=void 0,t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=t.QuickPulseCounter||(t.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=t.PerformanceCounter||(t.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=t.MetricId||(t.MetricId={})),t.PerformanceToQuickPulseCounter=(e={},e[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,e[n.REQUEST_RATE]=r.REQUEST_RATE,e[n.REQUEST_DURATION]=r.REQUEST_DURATION,e[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,e[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,e[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,e[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,e[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,e[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,e),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},t.HeartBeatMetricName="HeartBeat"}),Mb=O((t,e)=>{"use strict";var r=require("os"),n=jo(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,l=0,u=0,d=0,f=0;!!s&&f<s.length;f++){var p=s[f],h=this._lastCpus[f],m="% cpu("+f+") ",g=p.model,v=p.speed,w=p.times,C=h.times,b=w.user-C.user||0;a+=b;var _=w.sys-C.sys||0;c+=_;var S=w.nice-C.nice||0;l+=S;var x=w.idle-C.idle||0;u+=x;var k=w.irq-C.irq||0;d+=k}var A=void 0;if(typeof process.cpuUsage=="function"){var T=process.cpuUsage(),F=process.hrtime(),H=T.user-this._lastAppCpuUsage.user+(T.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime!="undefined"&&this._lastHrtime.length===2){var Q=(F[0]-this._lastHrtime[0])*1e6+(F[1]-this._lastHrtime[1])/1e3||0;A=100*H/(Q*s.length)}this._lastAppCpuUsage=T,this._lastHrtime=F}var J=a+c+l+u+d||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(J-u)/J*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:A||a/J*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,l=a.totalFailedRequestCount-s.totalFailedRequestCount||0,u=a.time-s.time,d=u/1e3,f=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,u>0){var p=c/d,h=l/d;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:f}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,l=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,u=a.time-s.time,d=u/1e3,f=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,u>0){var p=c/d,h=l/d;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:f})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,l=a.time-s.time,u=l/1e3;if(l>0){var d=c/u;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:d})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();e.exports=i}),Lee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;var e=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();t.AggregatedMetricCounter=e}),Fee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),xF=O((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(a){for(var c,l=1,u=arguments.length;l<u;l++){c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},r.apply(this,arguments)},n=jo(),i=Lee(),o=Fee(),s=function(){function a(c,l){l===void 0&&(l=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=l}return a.prototype.enable=function(c,l){var u=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return u.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._exceptionCountersCollection);l.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._traceCountersCollection);l.totalCount++}},a.countRequest=function(c,l){if(a.isEnabled()){var u,d=a._getAggregatedCounter(l,this._requestCountersCollection);if(typeof c=="string")u=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")u=c;else return;d.intervalExecutionTime+=u,d.totalCount++}},a.countDependency=function(c,l){if(a.isEnabled()){var u=a._getAggregatedCounter(l,this._dependencyCountersCollection),d;if(typeof c=="string")d=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")d=c;else return;u.intervalExecutionTime+=d,u.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,l){for(var u=!1,d=0;d<l.length;d++){if(c===l[d].dimensions)return l[d];if(Object.keys(c).length===Object.keys(l[d].dimensions).length){for(var f in c)if(c[f]!=l[d].dimensions[f]){u=!0;break}if(!u)return l[d];u=!1}}var p=new i.AggregatedMetricCounter(c);return l.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var l=a._requestCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime,f=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,d>0&&u>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:f,count:u,aggregationInterval:d,metricType:n.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var l=a._dependencyCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime,f=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,d>0&&u>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:f,count:u,aggregationInterval:d,metricType:n.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var l=a._exceptionCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:u,count:u,aggregationInterval:d,metricType:n.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var l=a._traceCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:u,count:u,aggregationInterval:d,metricType:n.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackPreAggregatedMetric=function(c){var l={};for(var u in c.dimensions)l[o.PreaggregatedMetricPropertyNames[u]]=c.dimensions[u];l=r(r({},l),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var d={name:c.name,value:c.value,count:c.count,properties:l,kind:"Aggregation"};this._client.trackMetric(d)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();e.exports=s}),gm=O((t,e)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=_r(),s=Qt(),a=function(){function c(l){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(l){if(l=l||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[l]){c.appVersion[l]="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.appVersion[l]=u.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.applicationVersion]=c.appVersion[l]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var l=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.sdkVersion=u.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();e.exports=a}),Mee=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},u(d,f)};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),n=require("url"),i=_r(),o=mn(),s=Ju(),a=CF(),c=Lc(),l=function(u){r(d,u);function d(f,p){var h=u.call(this)||this;return p&&p.method&&f&&(h.method=p.method,h.url=d._getUrlFromRequestOptions(f,p),h.startTime=+new Date),h}return d.prototype.onError=function(f){this._setStatus(void 0,f)},d.prototype.onResponse=function(f){this._setStatus(f.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(f,s.requestContextTargetKey)},d.prototype.getDependencyTelemetry=function(f,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var w={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(f&&f.time?w.time=f.time:this.startTime&&(w.time=new Date(this.startTime)),f){for(var C in f)w[C]||(w[C]=f[C]);if(f.properties)for(var C in f.properties)w.properties[C]=f.properties[C]}return w},d._getUrlFromRequestOptions=function(f,p){if(typeof f=="string")if(f.indexOf("http://")===0||f.indexOf("https://")===0)f=n.parse(f);else{var h=n.parse(f);h.host==="443"?f=n.parse("https://"+f):f=n.parse("http://"+f)}else{if(f&&typeof n.URL=="function"&&f instanceof n.URL)return n.format(f);var m=f;f={},m&&Object.keys(m).forEach(function(w){f[w]=m[w]})}if(f.path){var g=n.parse(f.path);f.pathname=g.pathname,f.search=g.search}if(f.host&&f.port){var v=n.parse("http://"+f.host);!v.port&&f.port&&(f.hostname=f.host,delete f.host)}return f.protocol=f.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,f.hostname=f.hostname||"localhost",n.format(f)},d}(a);e.exports=l}),qee=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=ft(),n=jo();function i(s){var a=e({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),l=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",u=s.attributes.component?s.attributes.component.toString():"",d=u.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],f=u.toLowerCase()===n.DependencyTypeName.Grpc;if(d){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",w=p+" "+v,C=n.DependencyTypeName.Http,b=g?(m+":"+g).toString():m.toString(),_=h.toString(),S=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,x=S<400;return{id:a,name:w,dependencyTypeName:C,target:b,data:_,success:x,duration:c,url:_,resultCode:String(S),properties:i(s.attributes)}}else if(f){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",k=s.attributes[n.SpanAttribute.GrpcService],A=k?p+" "+k:s.name;return{id:a,duration:c,name:A,target:k.toString(),data:k.toString()||A,url:k.toString()||A,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var T=s.name,F=s.links&&s.links.map(function(H){return{operation_Id:H.context.traceId,id:H.context.spanId}});return{id:a,duration:c,name:T,target:l,data:l||T,url:l||T,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:u||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:e(e({},i(s.attributes)),{"_MS.links":F||void 0})}}}t.spanToTelemetryContract=o}),$ee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ft(),r=kt(),n=mm(),i=qee(),o=UL(),s=[],a=function(l){var u=l.data,d=i.spanToTelemetryContract(u),f=u.spanContext(),p=new n;p.traceId=f.traceId,p.spanId=f.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(f.traceFlags),p.parentId=u.parentSpanId?"|"+f.traceId+"."+u.parentSpanId+".":null,o.AsyncScopeManager.with(u,function(){s.forEach(function(h){u.kind===e.SpanKind.SERVER?h.trackRequest(d):(u.kind===e.SpanKind.CLIENT||u.kind===e.SpanKind.INTERNAL)&&h.trackDependency(d)})})};t.subscriber=a;function c(l,u){l?(s.length===0&&r.channel.subscribe("azure-coretracing",t.subscriber),s.push(u)):(s=s.filter(function(d){return d!=u}),s.length===0&&r.channel.unsubscribe("azure-coretracing",t.subscriber))}t.enable=c}),jee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=kt(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mongodb",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mongodb",t.subscriber))}t.enable=i}),Uee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=kt(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",l=!o.data.err,u=a._connection||{},d=u.config||{},f=d.socketPath?d.socketPath:(d.host||"localhost")+":"+d.port;s.trackDependency({target:f,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mysql",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mysql",t.subscriber))}t.enable=i}),Bee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=kt(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("redis",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("redis",t.subscriber))}t.enable=i}),Hee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=kt(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",l=!o.data.error,u=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:u,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("postgres",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("postgres",t.subscriber))}t.enable=i}),Qu=O((t,e)=>{"use strict";var r=t&&t.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),w=0,m=0;m<g;m++)for(var C=arguments[m],b=0,_=C.length;b<_;b++,w++)v[w]=C[b];return v},n=require("http"),i=require("https"),o=Qt(),s=mn(),a=Ju(),c=Mee(),l=Fc(),u=Lc(),d=mm(),f=Nb(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&($ee().enable(!0,this._client),jee().enable(m,this._client),Uee().enable(m,this._client),Bee().enable(m,this._client),Hee().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,w=function(C,b){var _=!b[h.disableCollectionRequestOption]&&!C[h.alreadyAutoCollectedFlag];b.headers&&b.headers["user-agent"]&&b.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(_=!1),C[h.alreadyAutoCollectedFlag]=!0,C&&b&&_&&(l.CorrelationContextManager.wrapEmitter(C),h.trackRequest(m._client,{options:b,request:C}))};n.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var S=g.call.apply(g,r([n,C],b));return w(S,C),S},i.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var S=v.call.apply(v,r([i,C],b));return w(S,C),S},n.get=function(C){for(var b,_=[],S=1;S<arguments.length;S++)_[S-1]=arguments[S];var x=(b=n.request).call.apply(b,r([n,C],_));return x.end(),x},i.get=function(C){for(var b,_=[],S=1;S<arguments.length;S++)_[S-1]=arguments[S];var x=(b=i.request).call.apply(b,r([i,C],_));return x.end(),x}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),w=l.CorrelationContextManager.getCurrentContext(),C,b;if(w&&w.operation&&w.operation.traceparent&&d.isValidTraceId(w.operation.traceparent.traceId))w.operation.traceparent.updateSpanId(),C=w.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){var _=new d;b=_.toString(),C=_.getBackCompatRequestId()}else C=w&&w.operation&&w.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var S=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,S)}catch(A){o.warn("Request-Context header could not be set. Correlation of requests may be lost",A)}if(w&&w.operation)try{if(g.request.setHeader(a.requestIdHeader,C),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,w.operation.id),g.request.setHeader(a.rootIdHeader,C)),b||w.operation.traceparent)g.request.setHeader(a.traceparentHeader,b||w.operation.traceparent.toString());else if(u.w3cEnabled){var _=new d().toString();g.request.setHeader(a.traceparentHeader,_)}if(w.operation.tracestate){var x=w.operation.tracestate.toString();x&&g.request.setHeader(a.traceStateHeader,x)}var k=w.customProperties.serializeToHeader();k&&g.request.setHeader(a.correlationContextHeader,k)}catch(A){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",A)}}g.request.on&&(g.request.on("response",function(A){v.onResponse(A);var T=v.getDependencyTelemetry(g,C);T.contextObjects=T.contextObjects||{},T.contextObjects["http.RequestOptions"]=g.options,T.contextObjects["http.ClientRequest"]=g.request,T.contextObjects["http.ClientResponse"]=A,m.trackDependency(T)}),g.request.on("error",function(A){v.onError(A);var T=v.getDependencyTelemetry(g,C);T.contextObjects=T.contextObjects||{},T.contextObjects["http.RequestOptions"]=g.options,T.contextObjects["http.ClientRequest"]=g.request,T.contextObjects.Error=A,m.trackDependency(T)}),g.request.on("abort",function(){v.onError(new Error);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(A)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();e.exports=p}),Vee=O((t,e)=>{"use strict";var r=require("os"),n=jo(),i=mn(),o=gm(),s=Qu(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",l="format=json",u="ENETUNREACH",d=function(){function f(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",f.INSTANCE||(f.INSTANCE=this),this._isInitialized=!1,this._client=p}return f.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},f.prototype.isInitialized=function(){return this._isInitialized},f.isEnabled=function(){return f.INSTANCE&&f.INSTANCE._isEnabled},f.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},w=o.sdkVersion;v.sdk=w,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1},f.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+l,w=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),C=i.makeRequest(p,v,w,function(b){if(b.statusCode===200){g._isVM=!0;var _="";b.on("data",function(S){_+=S}),b.on("end",function(){g._vmData=g._isJSON(_)?JSON.parse(_):{},h()})}else h()});C&&(C.on("error",function(b){b&&b.message&&b.message.indexOf(u)>-1&&(g._isVM=!1),h()}),C.end())},f.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch{return!1}},f}();e.exports=d}),PF=O((t,e)=>{"use strict";var r=require("http"),n=require("https"),i=Qt(),o=mn(),s=Ju(),a=bF(),c=Fc(),l=Mb(),u=function(){function d(f){if(d.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");d.INSTANCE=this,this._client=f}return d.prototype.enable=function(f){this._isEnabled=f,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},d.prototype.useAutoCorrelation=function(f,p){f&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!f&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=f},d.prototype.isInitialized=function(){return this._isInitialized},d.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},d.prototype._generateCorrelationContext=function(f){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(f.getOperationId(this._client.context.tags),f.getRequestId(),f.getOperationName(this._client.context.tags),f.getCorrelationContextHeader(),f.getTraceparent(),f.getTracestate())},d.prototype._initialize=function(){var f=this;this._isInitialized=!0;var p=function(v){if(v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(w,C){c.CorrelationContextManager.wrapEmitter(w),c.CorrelationContextManager.wrapEmitter(C);var b=w&&!w[d.alreadyAutoCollectedFlag];if(w&&b){var _=new a(w),S=f._generateCorrelationContext(_);c.CorrelationContextManager.runWithContext(S,function(){f._isEnabled&&(w[d.alreadyAutoCollectedFlag]=!0,d.trackRequest(f._client,{request:w,response:C},_)),typeof v=="function"&&v(w,C)})}else typeof v=="function"&&v(w,C)}}},h=function(v){var w=v.addListener.bind(v);v.addListener=function(C,b){switch(C){case"request":case"checkContinue":return w(C,p(b));default:return w(C,b)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,w){if(w&&typeof w=="function"){var C=m(v,p(w));return h(C),C}else{var C=m(p(v));return h(C),C}};var g=n.createServer;n.createServer=function(v,w){var C=g(v,p(w));return h(C),C}},d.trackRequestSync=function(f,p){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!f);return}d.addResponseCorrelationIdHeader(f,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(f.context.tags)||h.operation.id,h.operation.name=m.getOperationName(f.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),d.endRequest(f,m,p,p.duration,p.error)},d.trackRequest=function(f,p,h){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!f);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(f,g.getUrl())&&d.addResponseCorrelationIdHeader(f,p.response),m&&!h&&(m.operation.id=g.getOperationId(f.context.tags)||m.operation.id,m.operation.name=g.getOperationName(f.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(f.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){d.endRequest(f,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){d.endRequest(f,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";d.endRequest(f,g,p,null,v)})},d.addResponseCorrelationIdHeader=function(f,p){if(f.config&&f.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(f,p,h)}},d.endRequest=function(f,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(f.context.tags),h.tagOverrides)for(var w in h.tagOverrides)v.tagOverrides[w]=h.tagOverrides[w];var C=p.getLegacyRootId();C&&(v.properties.ai_legacyRootId=C),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,f.trackRequest(v)},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},d.alreadyAutoCollectedFlag="_appInsightsAutoCollected",d}();e.exports=u}),Wee=O((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(u){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},r.apply(this,arguments)},n=require("os"),i=_r(),o=jo(),s=mn(),a=Qt(),c=s.w3cTraceId(),l=function(){function u(){}return u.createQuickPulseEnvelope=function(d,f,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,w={Documents:f.length>0?f:null,InstrumentationKey:p.instrumentationKey||"",Metrics:d.length>0?d:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return w},u.createQuickPulseMetric=function(d){var f;return f={Name:d.name,Value:d.value,Weight:d.count||1},f},u.telemetryEnvelopeToQuickPulseDocument=function(d){switch(d.data.baseType){case i.TelemetryTypeString.Event:return u.createQuickPulseEventDocument(d);case i.TelemetryTypeString.Exception:return u.createQuickPulseExceptionDocument(d);case i.TelemetryTypeString.Trace:return u.createQuickPulseTraceDocument(d);case i.TelemetryTypeString.Dependency:return u.createQuickPulseDependencyDocument(d);case i.TelemetryTypeString.Request:return u.createQuickPulseRequestDocument(d)}return null},u.createQuickPulseEventDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.name,h=r(r({},f),{Name:p});return h},u.createQuickPulseTraceDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.severityLevel||0,h=r(r({},f),{Message:d.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},u.createQuickPulseExceptionDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(w){h+=w.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},f),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},u.createQuickPulseRequestDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},u.createQuickPulseDependencyDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:f.OperationId,DependencyTypeName:p.type});return h},u.createQuickPulseDocument=function(d){var f,p,h,m;d.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[d.data.baseType],f=o.TelemetryTypeStringToQuickPulseDocumentType[d.data.baseType]):a.warn("Document type invalid; not sending live metric document",d.data.baseType),h=d.tags[u.keys.operationId],m=u.aggregateProperties(d);var g={DocumentType:f,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},u.aggregateProperties=function(d){var f=[],p=d.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};f.push(g)}var v=d.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};f.push(g)}return f},u.keys=new i.ContextTagKeys,u}();e.exports=l}),Gee=O((t,e)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};e.exports={getTransmissionTime:r}}),zee=O((t,e)=>{"use strict";var r=t&&t.__awaiter||function(d,f,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function w(_){try{b(h.next(_))}catch(S){v(S)}}function C(_){try{b(h.throw(_))}catch(S){v(S)}}function b(_){_.done?g(_.value):m(_.value).then(w,C)}b((h=h.apply(d,f||[])).next())})},n=t&&t.__generator||function(d,f){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(b){return function(_){return C([b,_])}}function C(b){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=b[0]&2?m.return:b[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,b[1])).done)return g;switch(m=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,m=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){p=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){p.label=b[1];break}if(b[0]===6&&p.label<g[1]){p.label=g[1],g=b;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(b);break}g[2]&&p.ops.pop(),p.trys.pop();continue}b=f.call(d,p)}catch(_){b=[6,_],m=0}finally{h=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},i=require("https"),o=Qu(),s=Qt(),a=Gee(),c=mn(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},u=function(){function d(f){this._config=f,this._consecutiveErrors=0}return d.prototype.ping=function(f,p,h){var m=[{name:l.streamId,value:f.StreamId},{name:l.machineName,value:f.MachineName},{name:l.roleName,value:f.RoleName},{name:l.instanceName,value:f.Instance},{name:l.invariantVersion,value:f.InvariantVersion.toString()}];this._submitData(f,p,h,"ping",m)},d.prototype.post=function(f,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([f],p,h,"post")];case 1:return m.sent(),[2]}})})},d.prototype._submitData=function(f,p,h,m,g){return r(this,void 0,void 0,function(){var v,w,C,b,_,S=this;return n(this,function(x){return v=JSON.stringify(f),w=(b={},b[o.disableCollectionRequestOption]=!0,b.host=p&&p.length>0?p:this._config.quickPulseHost,b.method=l.method,b.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,b.headers=(_={Expect:"100-continue"},_[l.time]=a.getTransmissionTime(),_["Content-Type"]="application/json",_["Content-Length"]=Buffer.byteLength(v),_),b),g&&g.length>0&&g.forEach(function(k){return w.headers[k.name]=k.value}),this._config.httpsAgent?w.agent=this._config.httpsAgent:w.agent=c.tlsRestrictedAgent,C=i.request(w,function(k){if(k.statusCode==200){var A=k.headers[l.subscribed]==="true",T=k.headers[l.endpointRedirect]?k.headers[l.endpointRedirect].toString():null,F=k.headers[l.pollingIntervalHint]?parseInt(k.headers[l.pollingIntervalHint].toString()):null;S._consecutiveErrors=0,h(A,k,T,F)}else S._onError("StatusCode:"+k.statusCode+" StatusMessage:"+k.statusMessage),h()}),C.on("error",function(k){S._onError(k),h()}),C.write(v),C.end(),[2]})})},d.prototype._onError=function(f){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%d.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(d.TAG,p,f)):s.info(d.TAG,p,f)},d.TAG="QuickPulseSender",d.MAX_QPS_FAILURES_BEFORE_WARN=25,d}();e.exports=u}),Kee=O((t,e)=>{"use strict";var r=t&&t.__awaiter||function(u,d,f,p){function h(m){return m instanceof f?m:new f(function(g){g(m)})}return new(f||(f=Promise))(function(m,g){function v(b){try{C(p.next(b))}catch(_){g(_)}}function w(b){try{C(p.throw(b))}catch(_){g(_)}}function C(b){b.done?m(b.value):h(b.value).then(v,w)}C((p=p.apply(u,d||[])).next())})},n=t&&t.__generator||function(u,d){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(b){return w([C,b])}}function w(C){if(p)throw new TypeError("Generator is already executing.");for(;f;)try{if(p=1,h&&(m=C[0]&2?h.return:C[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,C[1])).done)return m;switch(h=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,h=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){f.label=C[1];break}if(C[0]===6&&f.label<m[1]){f.label=m[1],m=C;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(C);break}m[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(u,f)}catch(b){C=[6,b],h=0}finally{p=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=Qt(),o=Wee(),s=zee(),a=jo(),c=gm(),l=function(){function u(d,f){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=d,this.context=f||new c,this._sender=new s(this.config),this._isEnabled=!1}return u.prototype.addCollector=function(d){this._collectors.push(d)},u.prototype.trackMetric=function(d){this._addMetric(d)},u.prototype.addDocument=function(d){var f=o.telemetryEnvelopeToQuickPulseDocument(d);f&&this._documents.push(f)},u.prototype.enable=function(d){d&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!d&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},u.prototype.enableCollectors=function(d){this._collectors.forEach(function(f){f.enable(d)})},u.prototype._addMetric=function(d){var f=d.value,p=d.count||1,h=a.PerformanceToQuickPulseCounter[d.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+f*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(d),this._metrics[h].Name=h,this._metrics[h].Weight=1))},u.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},u.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var d,f,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return d=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),f=o.createQuickPulseEnvelope(d,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(f)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(f),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:u.PING_INTERVAL,h=this._isCollectingData?u.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=u.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=u.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},u.prototype._ping=function(d){this._sender.ping(d,this._redirectedHost,this._quickPulseDone.bind(this))},u.prototype._post=function(d){return r(this,void 0,void 0,function(){return n(this,function(f){switch(f.label){case 0:return[4,this._sender.post(d,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return f.sent(),[2]}})})},u.prototype._quickPulseDone=function(d,f,p,h){d!=null?(this._isCollectingData!==d&&(i.info("Live Metrics sending data",d),this.enableCollectors(d)),this._isCollectingData=d,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),f&&f.statusCode<300&&f.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},u.MAX_POST_WAIT_TIME=2e4,u.MAX_PING_WAIT_TIME=6e4,u.FALLBACK_INTERVAL=6e4,u.PING_INTERVAL=5e3,u.POST_INTERVAL=1e3,u}();e.exports=l}),Yee=O((t,e)=>{"use strict";var r=jo(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(l,u){var d=u.split(i._FIELD_KEY_VALUE_SEPARATOR);if(d.length===2){var f=d[0].toLowerCase(),p=d[1];l[f]=p}return l},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();e.exports=n}),kF=O((t,e)=>{"use strict";var r=Lc(),n=Yee(),i=Qt(),o=jo(),s=require("url"),a=function(){function c(l){var u=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var d=process.env[c.ENV_connectionString],f=n.parse(l),p=n.parse(d),h=!f.instrumentationkey&&Object.keys(f).length>0?null:l;this.instrumentationKey=f.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(f.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return u.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=f.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=f.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var l=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},c._validateInstrumentationKey=function(l){var u="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",d=new RegExp(u);return d.test(l)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();e.exports=a}),Jee=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var r=kF(),n=gm(),i=Qt(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,l){var u=this;if(c===void 0&&(c={}),l===void 0&&(l=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var d=require("applicationinsights-native-metrics");s._emitter=new d,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return u._trackNativeMetrics()},l),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],l=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(l){var u=l.split(","),d={};if(u.length>0)for(var f=0,p=u;f<p.length;f++){var h=p[f];d[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:e(e({},a),d)}:{isEnabled:a,disabledMetrics:d}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var l in c){var u=c[l].metrics,d=l+" Garbage Collection Duration",f=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:d,value:u.total,count:u.count,max:u.max,min:u.min,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),l=c.loopUsage;if(l.count!=0){var u="Event Loop CPU Time",d=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:u,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,l;if(!this._disabledMetrics.heap){var u=process.memoryUsage(),d=u.heapUsed,f=u.heapTotal,p=u.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:d,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:f,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-f,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,l)})}},s}();t.AutoCollectNativePerformance=o}),Qee=O((t,e)=>{"use strict";var r=Qt(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();e.exports=n}),Xee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0;function e(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}t.azureRoleEnvironmentTelemetryProcessor=e}),Zee=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var e=_r();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&e.TelemetryType.Metric===e.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}t.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}t.getSamplingHashCode=n}),ete=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var e=Mb(),r=_r();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:e.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;e.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;e.countDependency(a.duration,a.success);break}return!0}t.performanceMetricsTelemetryProcessor=n}),tte=O(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var r=_r(),n=xF(),i=_r();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=e(e({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(l);break;case i.TelemetryTypeString.Trace:var u=s.data.baseData;u.properties=e(e({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var d={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[u.severity]};n.countTrace(d);break;case i.TelemetryTypeString.Request:var f=s.data.baseData;f.properties=e(e({},f.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:f.success,requestResultCode:f.responseCode};n.countRequest(f.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=e(e({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}t.preAggregatedMetricsTelemetryProcessor=o}),rte=O(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xee(),t),r(Zee(),t),r(ete(),t),r(tte(),t)}),nte=O((t,e)=>{"use strict";var r=t&&t.__awaiter||function(p,h,m,g){function v(w){return w instanceof m?w:new m(function(C){C(w)})}return new(m||(m=Promise))(function(w,C){function b(x){try{S(g.next(x))}catch(k){C(k)}}function _(x){try{S(g.throw(x))}catch(k){C(k)}}function S(x){x.done?w(x.value):v(x.value).then(b,_)}S((g=g.apply(p,h||[])).next())})},n=t&&t.__generator||function(p,h){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},g,v,w,C;return C={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function b(S){return function(x){return _([S,x])}}function _(S){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(w=S[0]&2?v.return:S[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,S[1])).done)return w;switch(v=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,v=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){m.label=S[1];break}if(S[0]===6&&m.label<w[1]){m.label=w[1],w=S;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(S);break}w[2]&&m.ops.pop(),m.trys.pop();continue}S=h.call(p,m)}catch(x){S=[6,x],v=0}finally{g=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),l=Qt(),u=Qu(),d=mn(),f=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch{}p.OS_PROVIDES_FILE_PROTECTION||l.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,w,C,b=this;return n(this,function(_){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},w="",h.forEach(function(S){var x=b._stringify(S);typeof x=="string"&&(w+=x+`
`)}),w.length>0&&(w=w.substring(0,w.length-1)),C=Buffer.from?Buffer.from(w):new Buffer(w),a.gzip(C,function(S,x){var k=x;S?(l.warn(S),k=C,v.headers["Content-Length"]=C.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=x.length.toString()),l.info(p.TAG,v),v[u.disableCollectionRequestOption]=!0;var A=function(F){F.setEncoding("utf-8");var H="";F.on("data",function(Q){H+=Q}),F.on("end",function(){if(b._numConsecutiveFailures=0,b._enableDiskRetryMode){if(F.statusCode===200)b._resendTimer||(b._resendTimer=setTimeout(function(){b._resendTimer=null,b._sendFirstFileOnDisk()},b._resendInterval),b._resendTimer.unref());else if(b._isRetriable(F.statusCode))try{var Q=JSON.parse(H),J=[];Q.errors.forEach(function(G){b._isRetriable(G.statusCode)&&J.push(h[G.index])}),J.length>0&&b._storeToDisk(J)}catch{b._storeToDisk(h)}}if(F.statusCode===307||F.statusCode===308)if(b._numConsecutiveRedirects++,b._numConsecutiveRedirects<10){var le=F.headers.location?F.headers.location.toString():null;le&&(b._redirectedHost=le,b.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else b._numConsecutiveRedirects=0,typeof m=="function"&&m(H),l.info(p.TAG,H),typeof b._onSuccess=="function"&&b._onSuccess(H)})},T=d.makeRequest(b._config,g,v,A);T.on("error",function(F){if(b._numConsecutiveFailures++,!b._enableDiskRetryMode||b._numConsecutiveFailures>0&&b._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var H="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";b._enableDiskRetryMode&&(H="Ingestion endpoint could not be reached "+b._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(p.TAG,H,d.dumpObj(F))}else{var H="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(p.TAG,H,d.dumpObj(F))}b._onErrorHelper(F),typeof m=="function"&&(F&&m(d.dumpObj(F)),m("Error sending telemetry")),b._enableDiskRetryMode&&b._storeToDisk(h)}),T.write(k),T.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,w){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,w){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,w){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,w),function(C){return p.ACLED_DIRECTORIES[h]=!C,m(C)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,w){v&&v.code==="ENOENT"?i.mkdir(h,function(C){C&&C.code!=="EEXIST"?m(C):g._applyACLRules(h,m)}):!v&&w.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var w=null,C=0,b=0;if(v.length===0){m(null,0);return}for(var _=0;_<v.length;_++)i.stat(s.join(h,v[_]),function(S,x){b++,S?w=S:x.isFile()&&(C+=x.size),b===v.length&&(w?m(w,-1):m(w,C))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){l.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,w){if(v||w<0){l.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(w>m._maxBytesOnDisk){l.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+w);return}var C=new Date().getTime()+".ai.json",b=s.join(m._tempDir,C);l.info(p.TAG,"saving data to disk at: "+b),i.writeFile(b,m._stringify(h),{mode:384},function(_){return m._onErrorHelper(_)})})})},p.prototype._storeToDiskSync=function(h){try{l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){l.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);l.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(w){l.warn(p.TAG,"Error while saving data to disk: "+(w&&w.message)),this._onErrorHelper(w)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(b){return s.basename(b).indexOf(".ai.json")>-1}),v.length>0){var w=v[0],C=s.join(h._tempDir,w);i.readFile(C,function(b,_){b?h._onErrorHelper(b):i.unlink(C,function(S){if(S)h._onErrorHelper(S);else try{var x=JSON.parse(_.toString());h.send(x)}catch(k){l.warn("Failed to read persisted file",k)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){l.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(w){return s.basename(w).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(w){var C=new Date(parseInt(w.split(".ai.json")[0])),b=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>C;if(b){var _=s.join(h._tempDir,w);i.unlink(_,function(S){S&&h._onErrorHelper(S)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();e.exports=f}),ite=O((t,e)=>{"use strict";var r=_r(),n=mn(),i=Fc(),o=function(){function a(){}return a.createEnvelope=function(c,l,u,d,f){var p=null;switch(l){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(u&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=u;else for(var h in u)p.baseData.properties[h]||(p.baseData.properties[h]=u[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=f&&f.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(d,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=f?f.samplingPercentage:100,l===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var l=new r.MessageData;l.message=c.message,l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Information:l.severityLevel=c.severity;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),u.baseData=l,u},a.createDependencyData=function(c){var l=new r.RemoteDependencyData;typeof c.name=="string"&&(l.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),l.data=c.data,l.target=c.target,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.type=c.dependencyTypeName,l.properties=c.properties,l.resultCode=c.resultCode?c.resultCode+"":"",c.id?l.id=c.id:l.id=n.w3cTraceId();var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),u.baseData=l,u},a.createEventData=function(c){var l=new r.EventData;l.name=c.name,l.properties=c.properties,l.measurements=c.measurements;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),u.baseData=l,u},a.createExceptionData=function(c){var l=new r.ExceptionData;l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Error:l.severityLevel=c.severity,l.measurements=c.measurements,l.exceptions=[];var u=c.exception.stack,d=new r.ExceptionDetails;d.message=c.exception.message,d.typeName=c.exception.name,d.parsedStack=this.parseStack(u),d.hasFullStack=n.isArray(d.parsedStack)&&d.parsedStack.length>0,l.exceptions.push(d);var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),f.baseData=l,f},a.createRequestData=function(c){var l=new r.RequestData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.url=c.url,l.source=c.source,l.duration=n.msToTimeSpan(c.duration),l.responseCode=c.resultCode?c.resultCode+"":"",l.success=c.success,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),u.baseData=l,u},a.createMetricData=function(c){var l=new r.MetricData;l.metrics=[];var u=new r.DataPoint;u.count=isNaN(c.count)?1:c.count,u.kind=r.DataPointType.Aggregation,u.max=isNaN(c.max)?c.value:c.max,u.min=isNaN(c.min)?c.value:c.min,u.name=c.name,u.stdDev=isNaN(c.stdDev)?0:c.stdDev,u.value=c.value,l.metrics.push(u),l.properties=c.properties;var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),d.baseData=l,d},a.createAvailabilityData=function(c){var l=new r.AvailabilityData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.runLocation=c.runLocation,l.message=c.message,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),u.baseData=l,u},a.createPageViewData=function(c){var l=new r.PageViewData;l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.url=c.url,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),u.baseData=l,u},a.getTags=function(c,l){var u=i.CorrelationContextManager.getCurrentContext(),d={};if(c&&c.tags)for(var f in c.tags)d[f]=c.tags[f];if(l)for(var f in l)d[f]=l[f];return u&&(d[c.keys.operationId]=d[c.keys.operationId]||u.operation.id,d[c.keys.operationName]=d[c.keys.operationName]||u.operation.name,d[c.keys.operationParentId]=d[c.keys.operationParentId]||u.operation.parentId),d},a.parseStack=function(c){var l=void 0;if(typeof c=="string"){var u=c.split(`
`);l=[];for(var d=0,f=0,p=0;p<=u.length;p++){var h=u[p];if(s.regex.test(h)){var m=new s(u[p],d++);f+=m.sizeInBytes,l.push(m)}}var g=32*1024;if(f>g)for(var v=0,w=l.length-1,C=0,b=v,_=w;v<w;){var S=l[v].sizeInBytes,x=l[w].sizeInBytes;if(C+=S+x,C>g){var k=_-b+1;l.splice(b,k);break}b=v,_=w,v++,w--}}return l},a}(),s=function(){function a(c,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=n.trim(c);var u=c.match(a.regex);u&&u.length>=5&&(this.method=n.trim(u[2])||this.method,this.fileName=n.trim(u[4])||"<no_filename>",this.line=parseInt(u[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();e.exports=o}),ote=O((t,e)=>{"use strict";var r=require("url"),n=kF(),i=gm(),o=_r(),s=Qee(),a=rte(),c=Fc(),l=nte(),u=mn(),d=Qt(),f=ite(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new l(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!u.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=f.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var w=this.runTelemetryProcessors(v,m.contextObjects);w=w&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),w&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,w=this._telemetryProcessors.length;if(w===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var C=0;C<w;++C)try{var b=this._telemetryProcessors[C];if(b&&b.apply(null,[m,g])===!1){v=!1;break}}catch(_){v=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",_,m)}return v&&(m&&m.tags&&(m.tags=u.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=u.validateStringMap(m.data.baseData.properties))),v},h}();e.exports=p}),ste=O((t,e)=>{"use strict";var r=t&&t.__extends||function(){var c=function(l,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},c(l,u)};return function(l,u){c(l,u);function d(){this.constructor=l}l.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),n=ote(),i=PF(),o=Qu(),s=Qt(),a=function(c){r(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(u){u&&u.request&&u.response&&u.duration?i.trackRequestSync(this,u):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(u){(u.duration||u.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),u&&u.request&&u.response?i.trackRequest(this,u):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(u){u&&u.request?o.trackRequest(this,u):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(n);e.exports=a}),ate=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),cte=O(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var e=Fc(),r=Oee(),n=Nee(),i=Mb(),o=xF(),s=Vee(),a=Qu(),c=PF(),l=Lc(),u=Qt(),d=Kee(),f=Jee();t.TelemetryClient=ste(),t.Contracts=_r(),t.azureFunctionsTypes=ate();var p;(function(ye){ye[ye.AI=0]="AI",ye[ye.AI_AND_W3C=1]="AI_AND_W3C"})(p=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,w=!0,C=!1,b=!0,_=!0,S=!0,x=!0,k,A=!1,T=!0,F,H=void 0,Q=void 0,J,le,G,M,L,q,V,K,ie=!1,te;function be(ye){return t.defaultClient?u.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(ye),J=new r(t.defaultClient),le=new n(t.defaultClient),G=new i(t.defaultClient),M=new o(t.defaultClient),L=new s(t.defaultClient),V=new c(t.defaultClient),K=new a(t.defaultClient),q||(q=new f.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(S,H,Q),wt}t.setup=be;function Pe(){return t.defaultClient?(ie=!0,J.enable(h,m),le.enable(g),G.enable(v),M.enable(w),L.enable(C,t.defaultClient.config),q.enable(T,F),V.useAutoCorrelation(x,k),V.enable(b),K.enable(_),t.liveMetricsClient&&A&&t.liveMetricsClient.enable(A)):u.warn("Start cannot be called before setup"),wt}t.start=Pe;function xe(){return x?e.CorrelationContextManager.getCurrentContext():null}t.getCorrelationContext=xe;function Te(ye,pe){return e.CorrelationContextManager.startOperation(ye,pe)}t.startOperation=Te;function he(ye,pe){return e.CorrelationContextManager.wrapCallback(ye,pe)}t.wrapWithCorrelationContext=he;var wt=function(){function ye(){}return ye.setDistributedTracingMode=function(pe){return l.w3cEnabled=pe===p.AI_AND_W3C,ye},ye.setAutoCollectConsole=function(pe,Ce){return Ce===void 0&&(Ce=!1),h=pe,m=Ce,ie&&J.enable(pe,Ce),ye},ye.setAutoCollectExceptions=function(pe){return g=pe,ie&&le.enable(pe),ye},ye.setAutoCollectPerformance=function(pe,Ce){Ce===void 0&&(Ce=!0),v=pe;var Ue=f.AutoCollectNativePerformance.parseEnabled(Ce);return T=Ue.isEnabled,F=Ue.disabledMetrics,ie&&(G.enable(pe),q.enable(Ue.isEnabled,Ue.disabledMetrics)),ye},ye.setAutoCollectPreAggregatedMetrics=function(pe){return w=pe,ie&&M.enable(pe),ye},ye.setAutoCollectHeartbeat=function(pe){return C=pe,ie&&L.enable(pe,t.defaultClient.config),ye},ye.setAutoCollectRequests=function(pe){return b=pe,ie&&V.enable(pe),ye},ye.setAutoCollectDependencies=function(pe){return _=pe,ie&&K.enable(pe),ye},ye.setAutoDependencyCorrelation=function(pe,Ce){return x=pe,k=Ce,ie&&V.useAutoCorrelation(pe,Ce),ye},ye.setUseDiskRetryCaching=function(pe,Ce,Ue){return S=pe,H=Ce,Q=Ue,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(pe,Ce,Ue),ye},ye.setInternalLogging=function(pe,Ce){return pe===void 0&&(pe=!1),Ce===void 0&&(Ce=!0),u.enableDebug=pe,u.disableWarnings=!Ce,ye},ye.setSendLiveMetrics=function(pe){return pe===void 0&&(pe=!1),t.defaultClient?(!t.liveMetricsClient&&pe?(t.liveMetricsClient=new d(t.defaultClient.config,null),te=new i(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(te),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(pe),A=pe,ye):(u.warn("Live metrics client cannot be setup without the default client"),ye)},ye.start=Pe,ye}();t.Configuration=wt;function At(){l.w3cEnabled=!0,t.defaultClient=null,ie=!1,J&&J.dispose(),le&&le.dispose(),G&&G.dispose(),M&&M.dispose(),L&&L.dispose(),q&&q.dispose(),V&&V.dispose(),K&&K.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),A=!1,t.liveMetricsClient=void 0)}t.dispose=At});jQ(IF,{default:()=>fte});var qb=Gu(require("os")),Mc=Gu(require("vscode")),gt=Gu(require("vscode")),$b=Gu(require("vscode")),Ln;(function(t){t.ON="on",t.OFF="off"})(Ln||(Ln={}));function vm(){let t="telemetry",e="enableTelemetry";return $b.env.isTelemetryEnabled!==void 0?$b.env.isTelemetryEnabled?Ln.ON:Ln.OFF:$b.workspace.getConfiguration(t).get(e)?Ln.ON:Ln.OFF}var lte=class{constructor(t,e,r,n,i){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),gt.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(gt.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(gt.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(gt.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=vm();this.userOptIn=t===Ln.ON,this.errorOptIn=t===Ln.ON,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{t.indexOf(`${r}+`)===0&&(e=r)}),e}get extension(){return this._extension===void 0&&(this._extension=gt.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let r={};for(let n in t)r[n]=e(n,t[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?this.cleanRemoteName(gt.env.remoteName)!=="other"?!0:!(this.extension===void 0||this.extension.extensionKind===gt.ExtensionKind.Workspace||gt.env.uiKind===gt.UIKind.Web):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,gt&&gt.env){switch(t["common.vscodemachineid"]=gt.env.machineId,t["common.vscodesessionid"]=gt.env.sessionId,t["common.vscodeversion"]=gt.version,t["common.isnewappinstall"]=gt.env.isNewAppInstall?gt.env.isNewAppInstall.toString():"false",t["common.product"]=gt.env.appHost,gt.env.uiKind){case gt.UIKind.Web:t["common.uikind"]="web";break;case gt.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(gt.env.remoteName)}return t}anonymizeFilePaths(t,e){let r;if(t==null)return"";let n=[];gt.env.appRoot!==""&&n.push(new RegExp(gt.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let l of n)for(;(r=l.exec(t))&&r;)o.push([r.index,l.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(t))&&r;)r[0]&&!s.test(r[0])&&o.every(([l,u])=>r.index<l||r.index>=u)&&(i+=t.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e=Object.create(null);for(let r of Object.keys(t)){let n=t[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/;/(key|token|sig|signature|password|passwd|pwd)[="':\s]/.test(n.toLowerCase())?e[r]="<REDACTED: secret>":i.test(n)?e[r]="<REDACTED: email>":e[r]=n}return e}sendTelemetryEvent(t,e,r){if(this.userOptIn&&t!==""){e=qo(qo({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendRawTelemetryEvent(t,e,r){this.userOptIn&&t!==""&&(e=qo(qo({},e),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:e,measurements:r}))}sendTelemetryErrorEvent(t,e,r,n){if(this.errorOptIn&&t!==""){e=qo(qo({},e),this.getCommonProperties());let i=this.cloneAndChange(e,(o,s)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(s,this.firstParty):n===void 0||n.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(t,e,r){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&t){e=qo(qo({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),this.telemetryAppender.logException(t,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},ute=class{constructor(t,e){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t,vm()!==Ln.OFF&&this.instantiateAppender()}logEvent(t,e){if(!this._telemetryClient){!this._isInstantiated&&vm()===Ln.ON&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){!this._isInstantiated&&vm()!==Ln.OFF&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._isInstantiated=!0,this._flushQueues()}).catch(t=>{console.error(t)})}},dte=async t=>{let e;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let r=await Promise.resolve().then(()=>Gu(cte()));r.defaultClient?(e=new r.TelemetryClient(t),e.channel.setUseDiskRetryCaching(!0)):(r.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),e=r.defaultClient),Mc&&Mc.env&&(e.context.tags[e.context.keys.userId]=Mc.env.machineId,e.context.tags[e.context.keys.sessionId]=Mc.env.sessionId,e.context.tags[e.context.keys.cloudRole]=Mc.env.appName,e.context.tags[e.context.keys.cloudRoleInstance]=Mc.env.appName),t&&t.indexOf("AIF-")===0&&(e.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}catch(r){return Promise.reject(r)}return{logEvent:(r,n)=>{e==null||e.trackEvent({name:r,properties:n==null?void 0:n.properties,measurements:n==null?void 0:n.measurements})},logException:(r,n)=>{e==null||e.trackException({exception:r,properties:n==null?void 0:n.properties,measurements:n==null?void 0:n.measurements})},flush:async()=>{e==null||e.flush()}}},fte=class extends lte{constructor(t,e,r,n){let i=new ute(r,dte);r&&r.indexOf("AIF-")===0&&(n=!0);super(t,e,i,{release:qb.release(),platform:qb.platform(),architecture:qb.arch()},n)}}});var jb=I(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var ym=require("vscode"),Xu=class{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case Hi.ApplicationVersion:return Xu.trimVersionSuffix(ym.version);case Hi.Build:return ym.env.appName;case Hi.ClientId:return ym.env.machineId;case Hi.ExtensionName:return this.extensionName;case Hi.ExtensionVersion:return Xu.trimVersionSuffix(this.extensionVersion);case Hi.Language:return ym.env.language;case Hi.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(Hi);for(let n of r)e.set(n,this.getFilterValue(n));return e}};ua.VSCodeFilterProvider=Xu;var Hi;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Hi=ua.Filters||(ua.Filters={}));var pte;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(pte=ua.TargetPopulation||(ua.TargetPopulation={}))});var DF=I(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});var TF=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};Ub.BaseFeatureProvider=TF});var OF=I(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});var hte=DF(),RF=class extends hte.BaseFeatureProvider{constructor(e,r){super(e);this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};Bb.FilteredFeatureProvider=RF});var LF=I(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});var mte=OF(),NF=class extends mte.FilteredFeatureProvider{constructor(e,r,n){super(r,n);this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let c=e.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};Hb.TasApiFeatureProvider=NF});var Vb=I((CEe,FF)=>{"use strict";FF.exports=function(e,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(r,i)}}});var hr=I((bEe,$F)=>{"use strict";var gte=Vb(),da=Object.prototype.toString;function Wb(t){return da.call(t)==="[object Array]"}function Gb(t){return typeof t=="undefined"}function vte(t){return t!==null&&!Gb(t)&&t.constructor!==null&&!Gb(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function yte(t){return da.call(t)==="[object ArrayBuffer]"}function wte(t){return typeof FormData!="undefined"&&t instanceof FormData}function Cte(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function bte(t){return typeof t=="string"}function Ete(t){return typeof t=="number"}function MF(t){return t!==null&&typeof t=="object"}function wm(t){if(da.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function _te(t){return da.call(t)==="[object Date]"}function Ste(t){return da.call(t)==="[object File]"}function xte(t){return da.call(t)==="[object Blob]"}function qF(t){return da.call(t)==="[object Function]"}function Pte(t){return MF(t)&&qF(t.pipe)}function kte(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Ite(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Ate(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function zb(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Wb(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Kb(){var t={};function e(i,o){wm(t[o])&&wm(i)?t[o]=Kb(t[o],i):wm(i)?t[o]=Kb({},i):Wb(i)?t[o]=i.slice():t[o]=i}for(var r=0,n=arguments.length;r<n;r++)zb(arguments[r],e);return t}function Tte(t,e,r){return zb(e,function(i,o){r&&typeof i=="function"?t[o]=gte(i,r):t[o]=i}),t}function Dte(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}$F.exports={isArray:Wb,isArrayBuffer:yte,isBuffer:vte,isFormData:wte,isArrayBufferView:Cte,isString:bte,isNumber:Ete,isObject:MF,isPlainObject:wm,isUndefined:Gb,isDate:_te,isFile:Ste,isBlob:xte,isFunction:qF,isStream:Pte,isURLSearchParams:kte,isStandardBrowserEnv:Ate,forEach:zb,merge:Kb,extend:Tte,trim:Ite,stripBOM:Dte}});var Cm=I((EEe,UF)=>{"use strict";var qc=hr();function jF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}UF.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(qc.isURLSearchParams(r))i=r.toString();else{var o=[];qc.forEach(r,function(c,l){c===null||typeof c=="undefined"||(qc.isArray(c)?l=l+"[]":c=[c],qc.forEach(c,function(d){qc.isDate(d)?d=d.toISOString():qc.isObject(d)&&(d=JSON.stringify(d)),o.push(jF(l)+"="+jF(d))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var HF=I((_Ee,BF)=>{"use strict";var Rte=hr();function bm(){this.handlers=[]}bm.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};bm.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};bm.prototype.forEach=function(e){Rte.forEach(this.handlers,function(n){n!==null&&e(n)})};BF.exports=bm});var WF=I((SEe,VF)=>{"use strict";var Ote=hr();VF.exports=function(e,r){Ote.forEach(e,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[o])})}});var Em=I((xEe,GF)=>{"use strict";GF.exports=function(e,r,n,i,o){return e.config=r,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var _m=I((PEe,zF)=>{"use strict";var Nte=Em();zF.exports=function(e,r,n,i,o){var s=new Error(e);return Nte(s,r,n,i,o)}});var Yb=I((kEe,KF)=>{"use strict";var Lte=_m();KF.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(Lte("Request failed with status code "+n.status,n.config,null,n.request,n))}});var JF=I((IEe,YF)=>{"use strict";var Sm=hr();YF.exports=Sm.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),Sm.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Sm.isString(o)&&c.push("path="+o),Sm.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var XF=I((AEe,QF)=>{"use strict";QF.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var eM=I((TEe,ZF)=>{"use strict";ZF.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var Jb=I((DEe,tM)=>{"use strict";var Fte=XF(),Mte=eM();tM.exports=function(e,r){return e&&!Fte(r)?Mte(e,r):r}});var nM=I((REe,rM)=>{"use strict";var Qb=hr(),qte=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];rM.exports=function(e){var r={},n,i,o;return e&&Qb.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),n=Qb.trim(a.substr(0,o)).toLowerCase(),i=Qb.trim(a.substr(o+1)),n){if(r[n]&&qte.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var sM=I((OEe,oM)=>{"use strict";var iM=hr();oM.exports=iM.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=iM.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var $c=I((NEe,aM)=>{"use strict";function Xb(t){this.message=t}Xb.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Xb.prototype.__CANCEL__=!0;aM.exports=Xb});var lM=I((LEe,cM)=>{"use strict";var xm=hr(),$te=Yb(),jte=JF(),Ute=Cm(),Bte=Jb(),Hte=nM(),Vte=sM(),Zb=_m(),Wte=jc(),Gte=$c();cM.exports=function(e){return new Promise(function(n,i){var o=e.data,s=e.headers,a=e.responseType,c;function l(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}xm.isFormData(o)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+f)}var p=Bte(e.baseURL,e.url);u.open(e.method.toUpperCase(),Ute(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function h(){if(!!u){var g="getAllResponseHeaders"in u?Hte(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,w={data:v,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};$te(function(b){n(b),l()},function(b){i(b),l()},w),u=null}}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){!u||(i(Zb("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(Zb("Network Error",e,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+e.timeout+"ms exceeded",w=e.transitional||Wte.transitional;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(Zb(v,e,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},xm.isStandardBrowserEnv()){var m=(e.withCredentials||Vte(p))&&e.xsrfCookieName?jte.read(e.xsrfCookieName):void 0;m&&(s[e.xsrfHeaderName]=m)}"setRequestHeader"in u&&xm.forEach(s,function(v,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete s[w]:u.setRequestHeader(w,v)}),xm.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&a!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(g){!u||(i(!g||g&&g.type?new Gte("canceled"):g),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null),u.send(o)})}});var Pm=I((FEe,uM)=>{uM.exports={version:"0.22.0"}});var gM=I((MEe,mM)=>{"use strict";var Zu=hr(),dM=Yb(),zte=Jb(),Kte=Cm(),Yte=require("http"),Jte=require("https"),Qte=ec().http,Xte=ec().https,fM=require("url"),Zte=require("zlib"),ere=Pm().version,km=_m(),eE=Em(),tre=jc(),rre=$c(),pM=/https:?/;function hM(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(o){o.headers.host=o.host,hM(o,e,o.href)}}mM.exports=function(e){return new Promise(function(n,i){var o;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}var a=function(K){s(),n(K)},c=function(K){s(),i(K)},l=e.data,u=e.headers,d={};if(Object.keys(u).forEach(function(K){d[K.toLowerCase()]=K}),"user-agent"in d?u[d["user-agent"]]||delete u[d["user-agent"]]:u["User-Agent"]="axios/"+ere,l&&!Zu.isStream(l)){if(!Buffer.isBuffer(l))if(Zu.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Zu.isString(l))l=Buffer.from(l,"utf-8");else return c(km("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));d["content-length"]||(u["Content-Length"]=l.length)}var f=void 0;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";f=p+":"+h}var m=zte(e.baseURL,e.url),g=fM.parse(m),v=g.protocol||"http:";if(!f&&g.auth){var w=g.auth.split(":"),C=w[0]||"",b=w[1]||"";f=C+":"+b}f&&d.authorization&&delete u[d.authorization];var _=pM.test(v),S=_?e.httpsAgent:e.httpAgent,x={path:Kte(g.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:u,agent:S,agents:{http:e.httpAgent,https:e.httpsAgent},auth:f};e.socketPath?x.socketPath=e.socketPath:(x.hostname=g.hostname,x.port=g.port);var k=e.proxy;if(!k&&k!==!1){var A=v.slice(0,-1)+"_proxy",T=process.env[A]||process.env[A.toUpperCase()];if(T){var F=fM.parse(T),H=process.env.no_proxy||process.env.NO_PROXY,Q=!0;if(H){var J=H.split(",").map(function(K){return K.trim()});Q=!J.some(function(K){return K?K==="*"||K[0]==="."&&g.hostname.substr(g.hostname.length-K.length)===K?!0:g.hostname===K:!1})}if(Q&&(k={host:F.hostname,port:F.port,protocol:F.protocol},F.auth)){var le=F.auth.split(":");k.auth={username:le[0],password:le[1]}}}}k&&(x.headers.host=g.hostname+(g.port?":"+g.port:""),hM(x,k,v+"//"+g.hostname+(g.port?":"+g.port:"")+x.path));var G,M=_&&(k?pM.test(k.protocol):!0);e.transport?G=e.transport:e.maxRedirects===0?G=M?Jte:Yte:(e.maxRedirects&&(x.maxRedirects=e.maxRedirects),G=M?Xte:Qte),e.maxBodyLength>-1&&(x.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(x.insecureHTTPParser=e.insecureHTTPParser);var L=G.request(x,function(K){if(!L.aborted){var ie=K,te=K.req||L;if(K.statusCode!==204&&te.method!=="HEAD"&&e.decompress!==!1)switch(K.headers["content-encoding"]){case"gzip":case"compress":case"deflate":ie=ie.pipe(Zte.createUnzip()),delete K.headers["content-encoding"];break}var be={status:K.statusCode,statusText:K.statusMessage,headers:K.headers,config:e,request:te};if(e.responseType==="stream")be.data=ie,dM(a,c,be);else{var Pe=[],xe=0;ie.on("data",function(he){Pe.push(he),xe+=he.length,e.maxContentLength>-1&&xe>e.maxContentLength&&(ie.destroy(),c(km("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,te)))}),ie.on("error",function(he){L.aborted||c(eE(he,e,null,te))}),ie.on("end",function(){var he=Buffer.concat(Pe);e.responseType!=="arraybuffer"&&(he=he.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(he=Zu.stripBOM(he))),be.data=he,dM(a,c,be)})}}});if(L.on("error",function(K){L.aborted&&K.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(eE(K,e,null,L))}),e.timeout){var q=parseInt(e.timeout,10);if(isNaN(q)){c(km("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",L));return}L.setTimeout(q,function(){L.abort();var K=e.transitional||tre.transitional;c(km("timeout of "+q+"ms exceeded",e,K.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",L))})}(e.cancelToken||e.signal)&&(o=function(V){L.aborted||(L.abort(),c(!V||V&&V.type?new rre("canceled"):V))},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),Zu.isStream(l)?l.on("error",function(K){c(eE(K,e,null,L))}).pipe(L):L.end(l)})}});var jc=I((qEe,wM)=>{"use strict";var Xt=hr(),vM=WF(),nre=Em(),ire={"Content-Type":"application/x-www-form-urlencoded"};function yM(t,e){!Xt.isUndefined(t)&&Xt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function ore(){var t;return typeof XMLHttpRequest!="undefined"?t=lM():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=gM()),t}function sre(t,e,r){if(Xt.isString(t))try{return(e||JSON.parse)(t),Xt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Im={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ore(),transformRequest:[function(e,r){return vM(r,"Accept"),vM(r,"Content-Type"),Xt.isFormData(e)||Xt.isArrayBuffer(e)||Xt.isBuffer(e)||Xt.isStream(e)||Xt.isFile(e)||Xt.isBlob(e)?e:Xt.isArrayBufferView(e)?e.buffer:Xt.isURLSearchParams(e)?(yM(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Xt.isObject(e)||r&&r["Content-Type"]==="application/json"?(yM(r,"application/json"),sre(e)):e}],transformResponse:[function(e){var r=this.transitional||Im.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Xt.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?nre(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Xt.forEach(["delete","get","head"],function(e){Im.headers[e]={}});Xt.forEach(["post","put","patch"],function(e){Im.headers[e]=Xt.merge(ire)});wM.exports=Im});var bM=I(($Ee,CM)=>{"use strict";var are=hr(),cre=jc();CM.exports=function(e,r,n){var i=this||cre;return are.forEach(n,function(s){e=s.call(i,e,r)}),e}});var tE=I((jEe,EM)=>{"use strict";EM.exports=function(e){return!!(e&&e.__CANCEL__)}});var xM=I((UEe,SM)=>{"use strict";var _M=hr(),rE=bM(),lre=tE(),ure=jc(),dre=$c();function nE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dre("canceled")}SM.exports=function(e){nE(e),e.headers=e.headers||{},e.data=rE.call(e,e.data,e.headers,e.transformRequest),e.headers=_M.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),_M.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||ure.adapter;return r(e).then(function(i){return nE(e),i.data=rE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return lre(i)||(nE(e),i&&i.response&&(i.response.data=rE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var iE=I((BEe,PM)=>{"use strict";var Hr=hr();PM.exports=function(e,r){r=r||{};var n={};function i(u,d){return Hr.isPlainObject(u)&&Hr.isPlainObject(d)?Hr.merge(u,d):Hr.isPlainObject(d)?Hr.merge({},d):Hr.isArray(d)?d.slice():d}function o(u){if(Hr.isUndefined(r[u])){if(!Hr.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function s(u){if(!Hr.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Hr.isUndefined(r[u])){if(!Hr.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Hr.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var f=l[d]||o,p=f(d);Hr.isUndefined(p)&&f!==c||(n[d]=p)}),n}});var AM=I((HEe,IM)=>{"use strict";var fre=Pm().version,oE={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){oE[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var kM={};oE.transitional=function(e,r,n){function i(o,s){return"[Axios v"+fre+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(e===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!kM[s]&&(kM[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function pre(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}IM.exports={assertOptions:pre,validators:oE}});var LM=I((VEe,NM)=>{"use strict";var TM=hr(),hre=Cm(),DM=HF(),RM=xM(),Am=iE(),OM=AM(),Uc=OM.validators;function ed(t){this.defaults=t,this.interceptors={request:new DM,response:new DM}}ed.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Am(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&OM.assertOptions(r,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(i=i&&f.synchronous,n.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var s;if(!i){var a=[RM,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(e);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(d){u(d);break}}try{s=RM(c)}catch(d){return Promise.reject(d)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};ed.prototype.getUri=function(e){return e=Am(this.defaults,e),hre(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};TM.forEach(["delete","get","head","options"],function(e){ed.prototype[e]=function(r,n){return this.request(Am(n||{},{method:e,url:r,data:(n||{}).data}))}});TM.forEach(["post","put","patch"],function(e){ed.prototype[e]=function(r,n,i){return this.request(Am(i||{},{method:e,url:r,data:n}))}});NM.exports=ed});var MM=I((WEe,FM)=>{"use strict";var mre=$c();function Bc(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(s){r.subscribe(s),i=s}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i){r.reason||(r.reason=new mre(i),e(r.reason))})}Bc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Bc.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Bc.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};Bc.source=function(){var e,r=new Bc(function(i){e=i});return{token:r,cancel:e}};FM.exports=Bc});var $M=I((GEe,qM)=>{"use strict";qM.exports=function(e){return function(n){return e.apply(null,n)}}});var UM=I((zEe,jM)=>{"use strict";jM.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var VM=I((KEe,sE)=>{"use strict";var BM=hr(),gre=Vb(),Tm=LM(),vre=iE(),yre=jc();function HM(t){var e=new Tm(t),r=gre(Tm.prototype.request,e);return BM.extend(r,Tm.prototype,e),BM.extend(r,e),r.create=function(i){return HM(vre(t,i))},r}var pi=HM(yre);pi.Axios=Tm;pi.Cancel=$c();pi.CancelToken=MM();pi.isCancel=tE();pi.VERSION=Pm().version;pi.all=function(e){return Promise.all(e)};pi.spread=$M();pi.isAxiosError=UM();sE.exports=pi;sE.exports.default=pi});var GM=I((YEe,WM)=>{WM.exports=VM()});var KM=I(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});var wre=GM(),zM=class{constructor(e){this.endpoint=e}get(e){return wre.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};aE.AxiosHttpClient=zM});var JM=I(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});var YM=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};cE.MemoryKeyValueStorage=YM});var XM=I(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});var Cre=JM(),QM=class{constructor(e,r,n,i,o,s){this.telemetry=e,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new Cre.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`),(n=this.features.configs.find(o=>o.Id===e))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};lE.ExperimentationServiceBase=QM});var eq=I(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});var ZM=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};uE.PollingService=ZM});var rq=I(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var bre=XM(),Ere=eq(),tq=class extends bre.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a,c){super(e,i,o,s,a,c);if(this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new Ere.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};dE.ExperimentationServiceAutoPolling=tq});var nq=I(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var _re=LF(),Sre=KM(),xre=rq(),fE=class extends xre.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage);this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new _re.TasApiFeatureProvider(new Sre.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};pE.ExperimentationService=fE;fE.REFRESH_RATE_IN_MINUTES=30});var iq=I(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});var Pre=nq();hE.ExperimentationService=Pre.ExperimentationService});var sq=I(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});var oq=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};mE.MementoKeyValueStorage=oq});var cq=I(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});var aq=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};gE.default=aq});var uq=I(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});var kre=jb(),Ire=iq(),vE=require("vscode"),Are=sq(),Tre=cq(),Dre="https://default.exp-tas.com/vscode/ab",Rre="query-expfeature",Ore="VSCode.ABExp.Features",Nre="abexp.assignmentcontext",Lre="VSCode.ABExp.FeatureData",Fre=1e3*60*30;function lq(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=vE.workspace.getConfiguration("telemetry");if(!(vE.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):vE.env.isTelemetryEnabled))return new Tre.default;let l=[new kre.VSCodeFilterProvider(t,e,r),...o],u=new Are.MementoKeyValueStorage(i);return new Ire.ExperimentationService({filterProviders:l,telemetry:n,storageKey:Lre,keyValueStorage:u,featuresTelemetryPropertyName:Ore,assignmentContextTelemetryPropertyName:Nre,telemetryEventName:Rre,endpoint:Dre,refetchInterval:Fre})}Dm.getExperimentationService=lq;async function Mre(t,e,r,n,i,...o){let s=lq(t,e,r,n,i,...o);return await s.initializePromise,s}Dm.getExperimentationServiceAsync=Mre});var fq=I(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var dq=uq();td.getExperimentationService=dq.getExperimentationService;td.getExperimentationServiceAsync=dq.getExperimentationServiceAsync;var qre=jb();td.TargetPopulation=qre.TargetPopulation});var Ke=I(Ut=>{"use strict";var DE=Symbol.for("yaml.alias"),Mq=Symbol.for("yaml.document"),Um=Symbol.for("yaml.map"),qq=Symbol.for("yaml.pair"),RE=Symbol.for("yaml.scalar"),Bm=Symbol.for("yaml.seq"),yi=Symbol.for("yaml.node.type"),lne=t=>!!t&&typeof t=="object"&&t[yi]===DE,une=t=>!!t&&typeof t=="object"&&t[yi]===Mq,dne=t=>!!t&&typeof t=="object"&&t[yi]===Um,fne=t=>!!t&&typeof t=="object"&&t[yi]===qq,$q=t=>!!t&&typeof t=="object"&&t[yi]===RE,pne=t=>!!t&&typeof t=="object"&&t[yi]===Bm;function jq(t){if(t&&typeof t=="object")switch(t[yi]){case Um:case Bm:return!0}return!1}function hne(t){if(t&&typeof t=="object")switch(t[yi]){case DE:case Um:case RE:case Bm:return!0}return!1}var mne=t=>($q(t)||jq(t))&&!!t.anchor,Uq=class{constructor(e){Object.defineProperty(this,yi,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}};Ut.ALIAS=DE;Ut.DOC=Mq;Ut.MAP=Um;Ut.NODE_TYPE=yi;Ut.NodeBase=Uq;Ut.PAIR=qq;Ut.SCALAR=RE;Ut.SEQ=Bm;Ut.hasAnchor=mne;Ut.isAlias=lne;Ut.isCollection=jq;Ut.isDocument=une;Ut.isMap=dne;Ut.isNode=hne;Ut.isPair=fne;Ut.isScalar=$q;Ut.isSeq=pne});var fd=I(Bq=>{"use strict";var Sr=Ke(),ha=Symbol("break visit"),gne=Symbol("skip children"),dd=Symbol("remove node");function Hm(t,e){typeof e=="object"&&(e.Collection||e.Node||e.Value)&&(e=Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e)),Sr.isDocument(t)?zc(null,t.contents,e,Object.freeze([t]))===dd&&(t.contents=null):zc(null,t,e,Object.freeze([]))}Hm.BREAK=ha;Hm.SKIP=gne;Hm.REMOVE=dd;function zc(t,e,r,n){let i;if(typeof r=="function"?i=r(t,e,n):Sr.isMap(e)?r.Map&&(i=r.Map(t,e,n)):Sr.isSeq(e)?r.Seq&&(i=r.Seq(t,e,n)):Sr.isPair(e)?r.Pair&&(i=r.Pair(t,e,n)):Sr.isScalar(e)?r.Scalar&&(i=r.Scalar(t,e,n)):Sr.isAlias(e)&&r.Alias&&(i=r.Alias(t,e,n)),Sr.isNode(i)||Sr.isPair(i)){let o=n[n.length-1];if(Sr.isCollection(o))o.items[t]=i;else if(Sr.isPair(o))t==="key"?o.key=i:o.value=i;else if(Sr.isDocument(o))o.contents=i;else{let s=Sr.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}return zc(t,i,r,n)}if(typeof i!="symbol"){if(Sr.isCollection(e)){n=Object.freeze(n.concat(e));for(let o=0;o<e.items.length;++o){let s=zc(o,e.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ha)return ha;s===dd&&(e.items.splice(o,1),o-=1)}}}else if(Sr.isPair(e)){n=Object.freeze(n.concat(e));let o=zc("key",e.key,r,n);if(o===ha)return ha;o===dd&&(e.key=null);let s=zc("value",e.value,r,n);if(s===ha)return ha;s===dd&&(e.value=null)}}return i}Bq.visit=Hm});var OE=I(Vq=>{"use strict";var Hq=Ke(),vne=fd(),yne={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},wne=t=>t.replace(/[!,[\]{}]/g,e=>yne[e]),Vr=class{constructor(e,r){this.marker=null,this.yaml=Object.assign({},Vr.defaultYaml,e),this.tags=Object.assign({},Vr.defaultTags,r)}clone(){let e=new Vr(this.yaml,this.tags);return e.marker=this.marker,e}atDocument(){let e=new Vr(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Vr.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Vr.defaultTags);break}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:Vr.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Vr.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length<1)return r(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;return o==="1.1"||o==="1.2"?(this.yaml.version=o,!0):(r(6,`Unsupported YAML version ${o}`,!0),!1)}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")return r(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let s=e.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}let[,n,i]=e.match(/^(.*!)([^!]*)$/);i||r(`The ${e} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?e:(r(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[r,n]of Object.entries(this.tags))if(e.startsWith(n))return r+wne(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(e&&n.length>0&&Hq.isNode(e.contents)){let o={};vne.visit(e.contents,(s,a)=>{Hq.isNode(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}};Vr.defaultYaml={explicit:!1,version:"1.2"};Vr.defaultTags={"!!":"tag:yaml.org,2002:"};Vq.Directives=Vr});var Vm=I(pd=>{"use strict";var Wq=Ke(),Cne=fd();function bne(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(r)}return!0}function Gq(t){let e=new Set;return Cne.visit(t,{Value(r,n){n.anchor&&e.add(n.anchor)}}),e}function zq(t,e){for(let r=1;;++r){let n=`${t}${r}`;if(!e.has(n))return n}}function Ene(t,e){let r=[],n=new Map,i=null;return{onAnchor(o){r.push(o),i||(i=Gq(t));let s=zq(e,i);return i.add(s),s},setAnchors(){for(let o of r){let s=n.get(o);if(typeof s=="object"&&s.anchor&&(Wq.isScalar(s.node)||Wq.isCollection(s.node)))s.node.anchor=s.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}pd.anchorIsValid=bne;pd.anchorNames=Gq;pd.createNodeAnchors=Ene;pd.findNewAnchor=zq});var md=I(Jq=>{"use strict";var _ne=Vm(),Kq=fd(),hd=Ke(),Yq=class extends hd.NodeBase{constructor(e){super(hd.ALIAS);this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let r;return Kq.visit(e,{Node:(n,i)=>{if(i===this)return Kq.visit.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(e,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=n.get(s);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Wm(i,s,n)),a.count*a.aliasCount>o)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,r,n){let i=`*${this.source}`;if(e){if(_ne.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(e.implicitKey)return`${i} `}return i}};function Wm(t,e,r){if(hd.isAlias(e)){let n=e.resolve(t),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(hd.isCollection(e)){let n=0;for(let i of e.items){let o=Wm(t,i,r);o>n&&(n=o)}return n}else if(hd.isPair(e)){let n=Wm(t,e.key,r),i=Wm(t,e.value,r);return Math.max(n,i)}return 1}Jq.Alias=Yq});var Kc=I(Xq=>{"use strict";var Sne=Ke();function Qq(t,e,r){if(Array.isArray(t))return t.map((n,i)=>Qq(n,String(i),r));if(t&&typeof t.toJSON=="function"){if(!r||!Sne.hasAnchor(t))return t.toJSON(e,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(t,n),r.onCreate=o=>{n.res=o,delete r.onCreate};let i=t.toJSON(e,r);return r.onCreate&&r.onCreate(i),i}return typeof t=="bigint"&&!(r&&r.keep)?Number(t):t}Xq.toJS=Qq});var It=I(NE=>{"use strict";var Zq=Ke(),xne=Kc(),Pne=t=>!t||typeof t!="function"&&typeof t!="object",ma=class extends Zq.NodeBase{constructor(e){super(Zq.SCALAR);this.value=e}toJSON(e,r){return r&&r.keep?this.value:xne.toJS(this.value,e,r)}toString(){return String(this.value)}};ma.BLOCK_FOLDED="BLOCK_FOLDED";ma.BLOCK_LITERAL="BLOCK_LITERAL";ma.PLAIN="PLAIN";ma.QUOTE_DOUBLE="QUOTE_DOUBLE";ma.QUOTE_SINGLE="QUOTE_SINGLE";NE.Scalar=ma;NE.isScalarValue=Pne});var gd=I(t$=>{"use strict";var kne=md(),ga=Ke(),e$=It(),Ine="tag:yaml.org,2002:";function Ane(t,e,r){if(e){let n=r.filter(o=>o.tag===e),i=n.find(o=>!o.format)||n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return r.find(n=>n.identify&&n.identify(t)&&!n.format)}function Tne(t,e,r){var n,i;if(ga.isDocument(t)&&(t=t.contents),ga.isNode(t))return t;if(ga.isPair(t)){let p=(i=(n=r.schema[ga.MAP]).createNode)===null||i===void 0?void 0:i.call(n,r.schema,null,r);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt=="function"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=r,u;if(o&&t&&typeof t=="object"){if(u=l.get(t),u)return u.anchor||(u.anchor=s(t)),new kne.Alias(u.anchor);u={anchor:null,node:null},l.set(t,u)}e&&e.startsWith("!!")&&(e=Ine+e.slice(2));let d=Ane(t,e,c.tags);if(!d){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let p=new e$.Scalar(t);return u&&(u.node=p),p}d=t instanceof Map?c[ga.MAP]:Symbol.iterator in Object(t)?c[ga.SEQ]:c[ga.MAP]}a&&(a(d),delete r.onTagObj);let f=(d==null?void 0:d.createNode)?d.createNode(r.schema,t,r):new e$.Scalar(t);return e&&(f.tag=e),u&&(u.node=f),f}t$.createNode=Tne});var vd=I(Gm=>{"use strict";var Dne=gd(),qn=Ke();function LE(t,e,r){let n=r;for(let i=e.length-1;i>=0;--i){let o=e[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return Dne.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var r$=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,FE=class extends qn.NodeBase{constructor(e,r){super(e);Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(n=>qn.isNode(n)||qn.isPair(n)?n.clone(e):n),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(r$(e))this.add(r);else{let[n,...i]=e,o=this.get(n,!0);if(qn.isCollection(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,LE(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){let[r,...n]=e;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(qn.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(e,r){let[n,...i]=e,o=this.get(n,!0);return i.length===0?!r&&qn.isScalar(o)?o.value:o:qn.isCollection(o)?o.getIn(i,r):void 0}hasAllNullValues(e){return this.items.every(r=>{if(!qn.isPair(r))return!1;let n=r.value;return n==null||e&&qn.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[r,...n]=e;if(n.length===0)return this.has(r);let i=this.get(r,!0);return qn.isCollection(i)?i.hasIn(n):!1}setIn(e,r){let[n,...i]=e;if(i.length===0)this.set(n,r);else{let o=this.get(n,!0);if(qn.isCollection(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,LE(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};FE.maxFlowStringSingleLineLength=60;Gm.Collection=FE;Gm.collectionFromPath=LE;Gm.isEmptyPath=r$});var yd=I(zm=>{"use strict";var Rne=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function n$(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var One=(t,e,r)=>r.includes(`
`)?`
`+n$(r,e):(t.endsWith(" ")?"":" ")+r;zm.indentComment=n$;zm.lineComment=One;zm.stringifyComment=Rne});var o$=I(wd=>{"use strict";var Nne="flow",ME="block",Km="quoted";function Lne(t,e,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return t;let c=Math.max(1+o,1+i-e.length);if(t.length<=c)return t;let l=[],u={},d=i-e.length;typeof n=="number"&&(n>i-Math.max(2,o)?l.push(0):d=i-n);let f,p,h=!1,m=-1,g=-1,v=-1;r===ME&&(m=i$(t,m),m!==-1&&(d=m+c));for(let C;C=t[m+=1];){if(r===Km&&C==="\\"){switch(g=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(C===`
`)r===ME&&(m=i$(t,m)),d=m+c,f=void 0;else{if(C===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let b=t[m+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(f=m)}if(m>=d)if(f)l.push(f),d=f+c,f=void 0;else if(r===Km){for(;p===" "||p==="	";)p=C,C=t[m+=1],h=!0;let b=m>v+1?m-2:g-1;if(u[b])return t;l.push(b),u[b]=!0,d=b+c,f=void 0}else h=!0}p=C}if(h&&a&&a(),l.length===0)return t;s&&s();let w=t.slice(0,l[0]);for(let C=0;C<l.length;++C){let b=l[C],_=l[C+1]||t.length;b===0?w=`
${e}${t.slice(0,_)}`:(r===Km&&u[b]&&(w+=`${t[b]}\\`),w+=`
${e}${t.slice(b+1,_)}`)}return w}function i$(t,e){let r=t[e+1];for(;r===" "||r==="	";){do r=t[e+=1];while(r&&r!==`
`);r=t[e+1]}return e}wd.FOLD_BLOCK=ME;wd.FOLD_FLOW=Nne;wd.FOLD_QUOTED=Km;wd.foldFlowLines=Lne});var Ed=I(s$=>{"use strict";var wi=It(),Ho=o$(),Ym=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Jm=t=>/^(%|---|\.\.\.)/m.test(t);function Fne(t,e,r){if(!e||e<0)return!1;let n=e-r,i=t.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(t[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function Cd(t,e){let r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(Jm(t)?"  ":""),s="",a=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(s+=r.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{s+=r.slice(a,c);let u=r.substr(c+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(c,6)}c+=5,a=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<i)c+=1;else{for(s+=r.slice(a,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)s+=`
`,c+=2;s+=o,r[c+2]===" "&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+r.slice(a):r,n?s:Ho.foldFlowLines(s,o,Ho.FOLD_QUOTED,Ym(e))}function qE(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Cd(t,e);let r=e.indent||(Jm(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:Ho.foldFlowLines(n,r,Ho.FOLD_FLOW,Ym(e))}function bd(t,e){let{singleQuote:r}=e.options,n;if(r===!1)n=Cd;else{let i=t.includes('"'),o=t.includes("'");i&&!o?n=qE:o&&!i?n=Cd:n=r?qE:Cd}return n(t,e)}function Qm({comment:t,type:e,value:r},n,i,o){let{blockQuote:s,commentString:a,lineWidth:c}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return bd(r,n);let l=n.indent||(n.forceBlockIndent||Jm(r)?"  ":""),u=s==="literal"?!0:s==="folded"||e===wi.Scalar.BLOCK_FOLDED?!1:e===wi.Scalar.BLOCK_LITERAL?!0:!Fne(r,c,l.length);if(!r)return u?`|
`:`>
`;let d,f;for(f=r.length;f>0;--f){let S=r[f-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let p=r.substring(f),h=p.indexOf(`
`);h===-1?d="-":r===p||h!==p.length-1?(d="+",o&&o()):d="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m=!1,g,v=-1;for(g=0;g<r.length;++g){let S=r[g];if(S===" ")m=!0;else if(S===`
`)v=g;else break}let w=r.substring(0,v<g?v+1:g);w&&(r=r.substring(w.length),w=w.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(m?l?"2":"1":"")+d;if(t&&(b+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return r=r.replace(/\n+/g,`$&${l}`),`${b}
${l}${w}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let _=Ho.foldFlowLines(`${w}${r}${p}`,l,Ho.FOLD_BLOCK,Ym(n));return`${b}
${l}${_}`}function Mne(t,e,r,n){let{type:i,value:o}=t,{actualString:s,implicitKey:a,indent:c,inFlow:l}=e;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return bd(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||o.indexOf(`
`)===-1?bd(o,e):Qm(t,e,r,n);if(!a&&!l&&i!==wi.Scalar.PLAIN&&o.indexOf(`
`)!==-1)return Qm(t,e,r,n);if(c===""&&Jm(o))return e.forceBlockIndent=!0,Qm(t,e,r,n);let u=o.replace(/\n+/g,`$&
${c}`);if(s){let d=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)===null||m===void 0?void 0:m.test(u))},{compat:f,tags:p}=e.doc.schema;if(p.some(d)||(f==null?void 0:f.some(d)))return bd(o,e)}return a?u:Ho.foldFlowLines(u,c,Ho.FOLD_FLOW,Ym(e))}function qne(t,e,r,n){let{implicitKey:i,inFlow:o}=e,s=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==wi.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=wi.Scalar.QUOTE_DOUBLE);let c=u=>{switch(u){case wi.Scalar.BLOCK_FOLDED:case wi.Scalar.BLOCK_LITERAL:return i||o?bd(s.value,e):Qm(s,e,r,n);case wi.Scalar.QUOTE_DOUBLE:return Cd(s.value,e);case wi.Scalar.QUOTE_SINGLE:return qE(s.value,e);case wi.Scalar.PLAIN:return Mne(s,e,r,n);default:return null}},l=c(a);if(l===null){let{defaultKeyType:u,defaultStringType:d}=e.options,f=i&&u||d;if(l=c(f),l===null)throw new Error(`Unsupported default string type ${f}`)}return l}s$.stringifyString=qne});var Yc=I($E=>{"use strict";var $ne=Vm(),Vo=Ke(),jne=yd(),Une=Ed();function Bne(t,e){let r=Object.assign({blockQuote:!0,commentString:jne.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function Hne(t,e){if(e.tag){let i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)||i[0]}let r,n;if(Vo.isScalar(e)){n=e.value;let i=t.filter(o=>o.identify&&o.identify(n));r=i.find(o=>o.format===e.format)||i.find(o=>!o.format)}else n=e,r=t.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function Vne(t,e,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],o=(Vo.isScalar(t)||Vo.isCollection(t))&&t.anchor;o&&$ne.anchorIsValid(o)&&(r.add(o),i.push(`&${o}`));let s=t.tag||(e.default?null:e.tag);return s&&i.push(n.directives.tagString(s)),i.join(" ")}function Wne(t,e,r,n){var i;if(Vo.isPair(t))return t.toString(e,r,n);if(Vo.isAlias(t)){if(e.doc.directives)return t.toString(e);if((i=e.resolvedAliases)===null||i===void 0?void 0:i.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o,s=Vo.isNode(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o||(o=Hne(e.doc.schema.tags,s));let a=Vne(s,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(s,e,r,n):Vo.isScalar(s)?Une.stringifyString(s,e,r,n):s.toString(e,r,n);return a?Vo.isScalar(s)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${e.indent}${c}`:c}$E.createStringifyContext=Bne;$E.stringify=Wne});var u$=I(l$=>{"use strict";var Wo=Ke(),a$=It(),c$=Yc(),_d=yd();function Gne({key:t,value:e},r,n,i){let{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:d}}=r,f=Wo.isNode(t)&&t.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Wo.isCollection(t)){let S="With simple keys, collection cannot be used as a key value";throw new Error(S)}}let p=!d&&(!t||f&&e==null&&!r.inFlow||Wo.isCollection(t)||(Wo.isScalar(t)?t.type===a$.Scalar.BLOCK_FOLDED||t.type===a$.Scalar.BLOCK_LITERAL:typeof t=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(d||!o),indent:a+c});let h=!1,m=!1,g=c$.stringify(t,r,()=>h=!0,()=>m=!0);if(!p&&!r.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(o||e==null)return h&&n&&n(),p?`? ${g}`:g}else if(o&&!d||e==null&&p)return g=`? ${g}`,f&&!h?g+=_d.lineComment(g,r.indent,l(f)):m&&i&&i(),g;h&&(f=null),p?(f&&(g+=_d.lineComment(g,r.indent,l(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=_d.lineComment(g,r.indent,l(f))));let v="",w=null;if(Wo.isNode(e)){if(e.spaceBefore&&(v=`
`),e.commentBefore){let S=l(e.commentBefore);v+=`
${_d.indentComment(S,r.indent)}`}w=e.comment}else e&&typeof e=="object"&&(e=s.createNode(e));r.implicitKey=!1,!p&&!f&&Wo.isScalar(e)&&(r.indentAtStart=g.length+1),m=!1,!u&&c.length>=2&&!r.inFlow&&!p&&Wo.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(r.indent=r.indent.substr(2));let C=!1,b=c$.stringify(e,r,()=>C=!0,()=>m=!0),_=" ";return v||f?_=b===""&&!r.inFlow?v:`${v}
${r.indent}`:!p&&Wo.isCollection(e)?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(_=`
${r.indent}`):(b===""||b[0]===`
`)&&(_=""),g+=_+b,r.inFlow?C&&n&&n():w&&!C?g+=_d.lineComment(g,r.indent,l(w)):m&&i&&i(),g}l$.stringifyPair=Gne});var UE=I(jE=>{"use strict";function zne(t,...e){t==="debug"&&console.log(...e)}function Kne(t,e){(t==="debug"||t==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}jE.debug=zne;jE.warn=Kne});var VE=I(f$=>{"use strict";var Yne=UE(),Jne=Yc(),Jc=Ke(),Qne=It(),BE=Kc(),d$="<<";function Xne(t,e,{key:r,value:n}){if(t&&t.doc.schema.merge&&Zne(r))if(n=Jc.isAlias(n)?n.resolve(t.doc):n,Jc.isSeq(n))for(let i of n.items)HE(t,e,i);else if(Array.isArray(n))for(let i of n)HE(t,e,i);else HE(t,e,n);else{let i=BE.toJS(r,"",t);if(e instanceof Map)e.set(i,BE.toJS(n,i,t));else if(e instanceof Set)e.add(i);else{let o=eie(r,i,t),s=BE.toJS(n,o,t);o in e?Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):e[o]=s}}return e}var Zne=t=>t===d$||Jc.isScalar(t)&&t.value===d$&&(!t.type||t.type===Qne.Scalar.PLAIN);function HE(t,e,r){let n=t&&Jc.isAlias(r)?r.resolve(t.doc):r;if(!Jc.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,t,Map);for(let[o,s]of i)e instanceof Map?e.has(o)||e.set(o,s):e instanceof Set?e.add(o):Object.prototype.hasOwnProperty.call(e,o)||Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return e}function eie(t,e,r){if(e===null)return"";if(typeof e!="object")return String(e);if(Jc.isNode(t)&&r&&r.doc){let n=Jne.createStringifyContext(r.doc,{});n.anchors=new Set;for(let o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=t.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),Yne.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(e)}f$.addPairToJSMap=Xne});var zi=I(WE=>{"use strict";var p$=gd(),tie=u$(),rie=VE(),Xm=Ke();function nie(t,e,r){let n=p$.createNode(t,void 0,r),i=p$.createNode(e,void 0,r);return new Sd(n,i)}var Sd=class{constructor(e,r=null){Object.defineProperty(this,Xm.NODE_TYPE,{value:Xm.PAIR}),this.key=e,this.value=r}clone(e){let{key:r,value:n}=this;return Xm.isNode(r)&&(r=r.clone(e)),Xm.isNode(n)&&(n=n.clone(e)),new Sd(r,n)}toJSON(e,r){let n=r&&r.mapAsMap?new Map:{};return rie.addPairToJSMap(r,n,this)}toString(e,r,n){return e&&e.doc?tie.stringifyPair(this,e,r,n):JSON.stringify(this)}};WE.Pair=Sd;WE.createPair=nie});var Zm=I(h$=>{"use strict";var iie={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};h$.defaultOptions=iie});var GE=I(g$=>{"use strict";var oie=vd(),va=Ke(),m$=Yc(),xd=yd();function sie(t,e,r){var n;return(((n=e.inFlow)!==null&&n!==void 0?n:t.flow)?cie:aie)(t,e,r)}function aie({comment:t,items:e},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){let{indent:c,options:{commentString:l}}=r,u=Object.assign({},r,{indent:o,type:null}),d=!1,f=[];for(let h=0;h<e.length;++h){let m=e[h],g=null;if(va.isNode(m))!d&&m.spaceBefore&&f.push(""),eg(r,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(va.isPair(m)){let w=va.isNode(m.key)?m.key:null;w&&(!d&&w.spaceBefore&&f.push(""),eg(r,f,w.commentBefore,d))}d=!1;let v=m$.stringify(m,u,()=>g=null,()=>d=!0);g&&(v+=xd.lineComment(v,o,l(g))),d&&g&&(d=!1),f.push(n+v)}let p;if(f.length===0)p=i.start+i.end;else{p=f[0];for(let h=1;h<f.length;++h){let m=f[h];p+=m?`
${c}${m}`:`
`}}return t?(p+=`
`+xd.indentComment(l(t),c),a&&a()):d&&s&&s(),p}function cie({comment:t,items:e},r,{flowChars:n,itemIndent:i,onComment:o}){let{indent:s,indentStep:a,options:{commentString:c}}=r;i+=a;let l=Object.assign({},r,{indent:i,inFlow:!0,type:null}),u=!1,d=0,f=[];for(let g=0;g<e.length;++g){let v=e[g],w=null;if(va.isNode(v))v.spaceBefore&&f.push(""),eg(r,f,v.commentBefore,!1),v.comment&&(w=v.comment);else if(va.isPair(v)){let b=va.isNode(v.key)?v.key:null;b&&(b.spaceBefore&&f.push(""),eg(r,f,b.commentBefore,!1),b.comment&&(u=!0));let _=va.isNode(v.value)?v.value:null;_?(_.comment&&(w=_.comment),_.commentBefore&&(u=!0)):v.value==null&&b&&b.comment&&(w=b.comment)}w&&(u=!0);let C=m$.stringify(v,l,()=>w=null);g<e.length-1&&(C+=","),w&&(C+=xd.lineComment(C,i,c(w))),!u&&(f.length>d||C.includes(`
`))&&(u=!0),f.push(C),d=f.length}let p,{start:h,end:m}=n;if(f.length===0)p=h+m;else if(u||(u=f.reduce((v,w)=>v+w.length+2,2)>oie.Collection.maxFlowStringSingleLineLength),u){p=h;for(let g of f)p+=g?`
${a}${s}${g}`:`
`;p+=`
${s}${m}`}else p=`${h} ${f.join(" ")} ${m}`;return t&&(p+=xd.lineComment(p,c(t),s),o&&o()),p}function eg({indent:t,options:{commentString:e}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let o=xd.indentComment(e(n),t);r.push(o.trimStart())}}g$.stringifyCollection=sie});var ya=I(KE=>{"use strict";var lie=GE(),uie=VE(),die=vd(),Go=Ke(),zE=zi(),fie=It();function Pd(t,e){let r=Go.isScalar(e)?e.value:e;for(let n of t)if(Go.isPair(n)&&(n.key===e||n.key===r||Go.isScalar(n.key)&&n.key.value===r))return n}var v$=class extends die.Collection{constructor(e){super(Go.MAP,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,r){let n;Go.isPair(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new zE.Pair(e,e.value):n=new zE.Pair(e.key,e.value);let i=Pd(this.items,n.key),o=this.schema&&this.schema.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Go.isScalar(i.value)&&fie.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(o){let s=this.items.findIndex(a=>o(n,a)<0);s===-1?this.items.push(n):this.items.splice(s,0,n)}else this.items.push(n)}delete(e){let r=Pd(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){let n=Pd(this.items,e),i=n&&n.value;return!r&&Go.isScalar(i)?i.value:i}has(e){return!!Pd(this.items,e)}set(e,r){this.add(new zE.Pair(e,r),!0)}toJSON(e,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let o of this.items)uie.addPairToJSMap(r,i,o);return i}toString(e,r,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!Go.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),lie.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:r})}};KE.YAMLMap=v$;KE.findPair=Pd});var Qc=I(w$=>{"use strict";var pie=Ke(),hie=zi(),y$=ya();function mie(t,e,r){let{keepUndefined:n,replacer:i}=r,o=new y$.YAMLMap(t),s=(a,c)=>{if(typeof i=="function")c=i.call(e,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||n)&&o.items.push(hie.createPair(a,c,r))};if(e instanceof Map)for(let[a,c]of e)s(a,c);else if(e&&typeof e=="object")for(let a of Object.keys(e))s(a,e[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}var gie={collection:"map",createNode:mie,default:!0,nodeClass:y$.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return pie.isMap(t)||e("Expected a mapping for this tag"),t}};w$.map=gie});var wa=I(b$=>{"use strict";var vie=GE(),yie=vd(),tg=Ke(),wie=It(),Cie=Kc(),C$=class extends yie.Collection{constructor(e){super(tg.SEQ,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){let r=rg(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=rg(e);if(typeof n!="number")return;let i=this.items[n];return!r&&tg.isScalar(i)?i.value:i}has(e){let r=rg(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=rg(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[n];tg.isScalar(i)&&wie.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(e,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let o of this.items)n.push(Cie.toJS(o,String(i++),r));return n}toString(e,r,n){return e?vie.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}};function rg(t){let e=tg.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}b$.YAMLSeq=C$});var Xc=I(_$=>{"use strict";var bie=gd(),Eie=Ke(),E$=wa();function _ie(t,e,r){let{replacer:n}=r,i=new E$.YAMLSeq(t);if(e&&Symbol.iterator in Object(e)){let o=0;for(let s of e){if(typeof n=="function"){let a=e instanceof Set?s:String(o++);s=n.call(e,a,s)}i.items.push(bie.createNode(s,void 0,r))}}return i}var Sie={collection:"seq",createNode:_ie,default:!0,nodeClass:E$.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Eie.isSeq(t)||e("Expected a sequence for this tag"),t}};_$.seq=Sie});var kd=I(S$=>{"use strict";var xie=Ed(),Pie={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),xie.stringifyString(t,e,r,n)}};S$.string=Pie});var ng=I(k$=>{"use strict";var x$=It(),P$={identify:t=>t==null,createNode:()=>new x$.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new x$.Scalar(null),stringify:({source:t},e)=>t&&P$.test.test(t)?t:e.options.nullStr};k$.nullTag=P$});var YE=I(A$=>{"use strict";var kie=It(),I$={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new kie.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){if(t&&I$.test.test(t)){let n=t[0]==="t"||t[0]==="T";if(e===n)return t}return e?r.options.trueStr:r.options.falseStr}};A$.boolTag=I$});var Zc=I(T$=>{"use strict";function Iie({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=e-(o.length-s-1);for(;a-- >0;)o+="0"}return o}T$.stringifyNumber=Iie});var QE=I(ig=>{"use strict";var Aie=It(),JE=Zc(),Tie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:JE.stringifyNumber},Die={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():JE.stringifyNumber(t)}},Rie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new Aie.Scalar(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:JE.stringifyNumber};ig.float=Rie;ig.floatExp=Die;ig.floatNaN=Tie});var ZE=I(sg=>{"use strict";var D$=Zc(),og=t=>typeof t=="bigint"||Number.isInteger(t),XE=(t,e,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),r);function R$(t,e,r){let{value:n}=t;return og(n)&&n>=0?r+n.toString(e):D$.stringifyNumber(t)}var Oie={identify:t=>og(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>XE(t,2,8,r),stringify:t=>R$(t,8,"0o")},Nie={identify:og,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>XE(t,0,10,r),stringify:D$.stringifyNumber},Lie={identify:t=>og(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>XE(t,2,16,r),stringify:t=>R$(t,16,"0x")};sg.int=Nie;sg.intHex=Lie;sg.intOct=Oie});var N$=I(O$=>{"use strict";var Fie=Qc(),Mie=ng(),qie=Xc(),$ie=kd(),jie=YE(),e0=QE(),t0=ZE(),Uie=[Fie.map,qie.seq,$ie.string,Mie.nullTag,jie.boolTag,t0.intOct,t0.int,t0.intHex,e0.floatNaN,e0.floatExp,e0.float];O$.schema=Uie});var M$=I(F$=>{"use strict";var Bie=It(),Hie=Qc(),Vie=Xc();function L$(t){return typeof t=="bigint"||Number.isInteger(t)}var ag=({value:t})=>JSON.stringify(t),Wie=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:ag},{identify:t=>t==null,createNode:()=>new Bie.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ag},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:ag},{identify:L$,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>L$(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:ag}],Gie={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},zie=[Hie.map,Vie.seq].concat(Wie,Gie);F$.schema=zie});var n0=I(q$=>{"use strict";var r0=It(),Kie=Ed(),Yie={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:r},n,i,o){let s=r,a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=r0.Scalar.BLOCK_LITERAL),e!==r0.Scalar.QUOTE_DOUBLE){let c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(a.length/c),u=new Array(l);for(let d=0,f=0;d<l;++d,f+=c)u[d]=a.substr(f,c);a=u.join(e===r0.Scalar.BLOCK_LITERAL?`
`:" ")}return Kie.stringifyString({comment:t,type:e,value:a},n,i,o)}};q$.binary=Yie});var ug=I(lg=>{"use strict";var cg=Ke(),i0=zi(),Jie=It(),Qie=wa();function $$(t,e){if(cg.isSeq(t))for(let r=0;r<t.items.length;++r){let n=t.items[r];if(!cg.isPair(n)){if(cg.isMap(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");let i=n.items[0]||new i0.Pair(new Jie.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let o=i.value||i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}t.items[r]=cg.isPair(n)?n:new i0.Pair(n)}}else e("Expected a sequence for this tag");return t}function j$(t,e,r){let{replacer:n}=r,i=new Qie.YAMLSeq(t);i.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let s of e){typeof n=="function"&&(s=n.call(e,String(o++),s));let a,c;if(Array.isArray(s))if(s.length===2)a=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let l=Object.keys(s);if(l.length===1)a=l[0],c=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(i0.createPair(a,c,r))}return i}var Xie={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:$$,createNode:j$};lg.createPairs=j$;lg.pairs=Xie;lg.resolvePairs=$$});var a0=I(s0=>{"use strict";var Zie=wa(),o0=Kc(),U$=Ke(),Id=ya(),B$=ug(),zo=class extends Zie.YAMLSeq{constructor(){super();this.add=Id.YAMLMap.prototype.add.bind(this),this.delete=Id.YAMLMap.prototype.delete.bind(this),this.get=Id.YAMLMap.prototype.get.bind(this),this.has=Id.YAMLMap.prototype.has.bind(this),this.set=Id.YAMLMap.prototype.set.bind(this),this.tag=zo.tag}toJSON(e,r){if(!r)return super.toJSON(e);let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let o,s;if(U$.isPair(i)?(o=o0.toJS(i.key,"",r),s=o0.toJS(i.value,o,r)):o=o0.toJS(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}};zo.tag="tag:yaml.org,2002:omap";var eoe={collection:"seq",identify:t=>t instanceof Map,nodeClass:zo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let r=B$.resolvePairs(t,e),n=[];for(let{key:i}of r.items)U$.isScalar(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new zo,r)},createNode(t,e,r){let n=B$.createPairs(t,e,r),i=new zo;return i.items=n.items,i}};s0.YAMLOMap=zo;s0.omap=eoe});var z$=I(c0=>{"use strict";var H$=It();function V$({value:t,source:e},r){return e&&(t?W$:G$).test.test(e)?e:t?r.options.trueStr:r.options.falseStr}var W$={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new H$.Scalar(!0),stringify:V$},G$={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new H$.Scalar(!1),stringify:V$};c0.falseTag=G$;c0.trueTag=W$});var K$=I(dg=>{"use strict";var toe=It(),l0=Zc(),roe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:l0.stringifyNumber},noe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():l0.stringifyNumber(t)}},ioe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new toe.Scalar(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");if(r!==-1){let n=t.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:l0.stringifyNumber};dg.float=ioe;dg.floatExp=noe;dg.floatNaN=roe});var J$=I(Td=>{"use strict";var Y$=Zc(),Ad=t=>typeof t=="bigint"||Number.isInteger(t);function fg(t,e,r,{intAsBigInt:n}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(r){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let s=BigInt(t);return i==="-"?BigInt(-1)*s:s}let o=parseInt(t,r);return i==="-"?-1*o:o}function u0(t,e,r){let{value:n}=t;if(Ad(n)){let i=n.toString(e);return n<0?"-"+r+i.substr(1):r+i}return Y$.stringifyNumber(t)}var ooe={identify:Ad,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>fg(t,2,2,r),stringify:t=>u0(t,2,"0b")},soe={identify:Ad,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>fg(t,1,8,r),stringify:t=>u0(t,8,"0")},aoe={identify:Ad,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>fg(t,0,10,r),stringify:Y$.stringifyNumber},coe={identify:Ad,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>fg(t,2,16,r),stringify:t=>u0(t,16,"0x")};Td.int=aoe;Td.intBin=ooe;Td.intHex=coe;Td.intOct=soe});var f0=I(d0=>{"use strict";var pg=Ke(),hg=zi(),mg=ya(),Ko=class extends mg.YAMLMap{constructor(e){super(e);this.tag=Ko.tag}add(e){let r;pg.isPair(e)?r=e:typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?r=new hg.Pair(e.key,null):r=new hg.Pair(e,null),mg.findPair(this.items,r.key)||this.items.push(r)}get(e,r){let n=mg.findPair(this.items,e);return!r&&pg.isPair(n)?pg.isScalar(n.key)?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=mg.findPair(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new hg.Pair(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}};Ko.tag="tag:yaml.org,2002:set";var loe={collection:"map",identify:t=>t instanceof Set,nodeClass:Ko,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(pg.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ko,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,r){let{replacer:n}=r,i=new Ko(t);if(e&&Symbol.iterator in Object(e))for(let o of e)typeof n=="function"&&(o=n.call(e,o,o)),i.items.push(hg.createPair(o,null,r));return i}};d0.YAMLSet=Ko;d0.set=loe});var h0=I(gg=>{"use strict";var uoe=Zc();function p0(t,e){let r=t[0],n=r==="-"||r==="+"?t.substring(1):t,i=s=>e?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function Q$(t){let{value:e}=t,r=s=>s;if(typeof e=="bigint")r=s=>BigInt(s);else if(isNaN(e)||!isFinite(e))return uoe.stringifyNumber(t);let n="";e<0&&(n="-",e*=r(-1));let i=r(60),o=[e%i];return e<60?o.unshift(0):(e=(e-o[0])/i,o.unshift(e%i),e>=60&&(e=(e-o[0])/i,o.unshift(e))),n+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}var doe={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>p0(t,r),stringify:Q$},foe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>p0(t,!1),stringify:Q$},X$={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(X$.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,o,s,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,l=Date.UTC(r,n-1,i,o||0,s||0,a||0,c),u=e[8];if(u&&u!=="Z"){let d=p0(u,!1);Math.abs(d)<30&&(d*=60),l-=6e4*d}return new Date(l)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};gg.floatTime=foe;gg.intTime=doe;gg.timestamp=X$});var tj=I(ej=>{"use strict";var poe=Qc(),hoe=ng(),moe=Xc(),goe=kd(),voe=n0(),Z$=z$(),m0=K$(),vg=J$(),yoe=a0(),woe=ug(),Coe=f0(),g0=h0(),boe=[poe.map,moe.seq,goe.string,hoe.nullTag,Z$.trueTag,Z$.falseTag,vg.intBin,vg.intOct,vg.int,vg.intHex,m0.floatNaN,m0.floatExp,m0.float,voe.binary,yoe.omap,woe.pairs,Coe.set,g0.intTime,g0.floatTime,g0.timestamp];ej.schema=boe});var dj=I(w0=>{"use strict";var rj=Qc(),Eoe=ng(),nj=Xc(),_oe=kd(),Soe=YE(),v0=QE(),y0=ZE(),xoe=N$(),Poe=M$(),ij=n0(),oj=a0(),sj=ug(),aj=tj(),cj=f0(),yg=h0(),lj=new Map([["core",xoe.schema],["failsafe",[rj.map,nj.seq,_oe.string]],["json",Poe.schema],["yaml11",aj.schema],["yaml-1.1",aj.schema]]),uj={binary:ij.binary,bool:Soe.boolTag,float:v0.float,floatExp:v0.floatExp,floatNaN:v0.floatNaN,floatTime:yg.floatTime,int:y0.int,intHex:y0.intHex,intOct:y0.intOct,intTime:yg.intTime,map:rj.map,null:Eoe.nullTag,omap:oj.omap,pairs:sj.pairs,seq:nj.seq,set:cj.set,timestamp:yg.timestamp},koe={"tag:yaml.org,2002:binary":ij.binary,"tag:yaml.org,2002:omap":oj.omap,"tag:yaml.org,2002:pairs":sj.pairs,"tag:yaml.org,2002:set":cj.set,"tag:yaml.org,2002:timestamp":yg.timestamp};function Ioe(t,e){let r=lj.get(e);if(!r)if(Array.isArray(t))r=[];else{let n=Array.from(lj.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(t))for(let n of t)r=r.concat(n);else typeof t=="function"&&(r=t(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=uj[n];if(i)return i;let o=Object.keys(uj).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}w0.coreKnownTags=koe;w0.getTags=Ioe});var b0=I(fj=>{"use strict";var C0=Ke(),Aoe=Qc(),Toe=Xc(),Doe=kd(),wg=dj(),Roe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Cg=class{constructor({compat:e,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(e)?wg.getTags(e,"compat"):e?wg.getTags(null,e):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?wg.coreKnownTags:{},this.tags=wg.getTags(r,this.name),this.toStringOptions=a||null,Object.defineProperty(this,C0.MAP,{value:Aoe.map}),Object.defineProperty(this,C0.SCALAR,{value:Doe.string}),Object.defineProperty(this,C0.SEQ,{value:Toe.seq}),this.sortMapEntries=s===!0?Roe:s||null}clone(){let e=Object.create(Cg.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};fj.Schema=Cg});var hj=I(pj=>{"use strict";var Ooe=Ke(),E0=Yc(),bg=yd();function Noe(t,e){let r=[],n=e.directives===!0;if(e.directives!==!1&&t.directives){let l=t.directives.toString(t);l?(r.push(l),n=!0):t.directives.marker&&(n=!0)}n&&r.push("---");let i=E0.createStringifyContext(t,e),{commentString:o}=i.options;if(t.commentBefore){r.length!==1&&r.unshift("");let l=o(t.commentBefore);r.unshift(bg.indentComment(l,""))}let s=!1,a=null;if(t.contents){if(Ooe.isNode(t.contents)){if(t.contents.spaceBefore&&n&&r.push(""),t.contents.commentBefore){let d=o(t.contents.commentBefore);r.push(bg.indentComment(d,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}let l=a?void 0:()=>s=!0,u=E0.stringify(t.contents,i,()=>a=null,l);a&&(u+=bg.lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(E0.stringify(t.contents,i));let c=t.comment;return c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(bg.indentComment(o(c),""))),r.join(`
`)+`
`}pj.stringifyDocument=Noe});var gj=I(mj=>{"use strict";function Dd(t,e,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){let s=n[i],a=Dd(t,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let o=n.get(i),s=Dd(t,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(let i of Array.from(n)){let o=Dd(t,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(let[i,o]of Object.entries(n)){let s=Dd(t,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return t.call(e,r,n)}mj.applyReviver=Dd});var Rd=I(vj=>{"use strict";var Loe=md(),el=vd(),gn=Ke(),Foe=zi(),Moe=Kc(),qoe=Zm(),$oe=b0(),joe=Yc(),Uoe=hj(),_0=Vm(),Boe=gj(),Hoe=gd(),S0=OE(),Eg=class{constructor(e,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,gn.NODE_TYPE,{value:gn.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let o=Object.assign({},qoe.defaultOptions,n);this.options=o;let{version:s}=o;(n==null?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new S0.Directives({version:s}),this.setSchema(s,n),e===void 0?this.contents=null:this.contents=this.createNode(e,i,n)}clone(){let e=Object.create(Eg.prototype,{[gn.NODE_TYPE]:{value:gn.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=gn.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){tl(this.contents)&&this.contents.add(e)}addIn(e,r){tl(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){if(!e.anchor){let n=_0.anchorNames(this);e.anchor=!r||n.has(r)?_0.findNewAnchor(r||"a",n):r}return new Loe.Alias(e.anchor)}createNode(e,r,n){let i;if(typeof r=="function")e=r.call({"":e},"",e),i=r;else if(Array.isArray(r)){let g=w=>typeof w=="number"||w instanceof String||w instanceof Number,v=r.filter(g).map(String);v.length>0&&(r=r.concat(v)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n||{},{onAnchor:d,setAnchors:f,sourceObjects:p}=_0.createNodeAnchors(this,s||"a"),h={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:c!=null?c:!1,onAnchor:d,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:p},m=Hoe.createNode(e,u,h);return a&&gn.isCollection(m)&&(m.flow=!0),f(),m}createPair(e,r,n={}){let i=this.createNode(e,null,n),o=this.createNode(r,null,n);return new Foe.Pair(i,o)}delete(e){return tl(this.contents)?this.contents.delete(e):!1}deleteIn(e){return el.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):tl(this.contents)?this.contents.deleteIn(e):!1}get(e,r){return gn.isCollection(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return el.isEmptyPath(e)?!r&&gn.isScalar(this.contents)?this.contents.value:this.contents:gn.isCollection(this.contents)?this.contents.getIn(e,r):void 0}has(e){return gn.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return el.isEmptyPath(e)?this.contents!==void 0:gn.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,r){this.contents==null?this.contents=el.collectionFromPath(this.schema,[e],r):tl(this.contents)&&this.contents.set(e,r)}setIn(e,r){el.isEmptyPath(e)?this.contents=r:this.contents==null?this.contents=el.collectionFromPath(this.schema,Array.from(e),r):tl(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new S0.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new S0.Directives({version:"1.2"}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new $oe.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:joe.stringify},c=Moe.toJS(this.contents,r||"",a);if(typeof o=="function")for(let{count:l,res:u}of a.anchors.values())o(u,l);return typeof s=="function"?Boe.applyReviver(s,{"":c},"",c):c}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let r=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Uoe.stringifyDocument(this,e)}};function tl(t){if(gn.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}vj.Document=Eg});var Nd=I(Od=>{"use strict";var _g=class extends Error{constructor(e,r,n,i){super();this.name=e,this.code=n,this.message=i,this.pos=r}},yj=class extends _g{constructor(e,r,n){super("YAMLParseError",e,r,n)}},wj=class extends _g{constructor(e,r,n){super("YAMLWarning",e,r,n)}},Voe=(t,e)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>e.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(s.substring(0,o))){let a=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),s=a+s}if(/[^ ]/.test(s)){let a=1,c=r.linePos[1];c&&c.line===n&&c.col>i&&(a=Math.min(c.col-i,80-o));let l=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${l}
`}};Od.YAMLError=_g;Od.YAMLParseError=yj;Od.YAMLWarning=wj;Od.prettifyError=Voe});var Ld=I(Cj=>{"use strict";function Woe(t,{flow:e,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,u="",d="",f=!1,p=!1,h=null,m=null,g=null,v=null,w=null;for(let _ of t)switch(p&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&o(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),_.type){case"space":!e&&c&&r!=="doc-start"&&_.source[0]==="	"&&o(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let S=_.source.substring(1)||" ";u?u+=d+S:u=S,d="",c=!1;break}case"newline":c?u?u+=_.source:a=!0:d+=_.source,c=!0,f=!0,l=!0;break;case"anchor":h&&o(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),h=_,w===null&&(w=_.offset),c=!1,l=!1,p=!0;break;case"tag":{m&&o(_,"MULTIPLE_TAGS","A node can have at most one tag"),m=_,w===null&&(w=_.offset),c=!1,l=!1,p=!0;break}case r:(h||m)&&o(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),v&&o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${e||"collection"}`),v=_,c=!1,l=!1;break;case"comma":if(e){g&&o(_,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),g=_,c=!1,l=!1;break}default:o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),c=!1,l=!1}let C=t[t.length-1],b=C?C.offset+C.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:f,anchor:h,tag:m,end:b,start:w!=null?w:b}}Cj.resolveProps=Woe});var Sg=I(bj=>{"use strict";function x0(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let r of e.start)if(r.type==="newline")return!0;if(e.sep){for(let r of e.sep)if(r.type==="newline")return!0}if(x0(e.key)||x0(e.value))return!0}return!1;default:return!0}}bj.containsNewline=x0});var P0=I(Ej=>{"use strict";var Goe=Sg();function zoe(t,e,r){if((e==null?void 0:e.type)==="flow-collection"){let n=e.end[0];n.indent===t&&(n.source==="]"||n.source==="}")&&Goe.containsNewline(e)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}Ej.flowIndentCheck=zoe});var k0=I(Sj=>{"use strict";var _j=Ke();function Koe(t,e,r){let{uniqueKeys:n}=t.options;if(n===!1)return!1;let i=typeof n=="function"?n:(o,s)=>o===s||_j.isScalar(o)&&_j.isScalar(s)&&o.value===s.value&&!(o.value==="<<"&&t.schema.merge);return e.some(o=>i(o.key,r))}Sj.mapIncludes=Koe});var Tj=I(Aj=>{"use strict";var xj=zi(),Yoe=ya(),Pj=Ld(),Joe=Sg(),kj=P0(),Qoe=k0(),Ij="All mapping items must start at the same column";function Xoe({composeNode:t,composeEmptyNode:e},r,n,i){var o;let s=new Yoe.YAMLMap(r.schema);r.atRoot&&(r.atRoot=!1);let a=n.offset;for(let c of n.items){let{start:l,key:u,sep:d,value:f}=c,p=Pj.resolveProps(l,{indicator:"explicit-key-ind",next:u||(d==null?void 0:d[0]),offset:a,onError:i,startOnNewline:!0}),h=!p.found;if(h){if(u&&(u.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(a,"BAD_INDENT",Ij)),!p.anchor&&!p.tag&&!d){p.comment&&(s.comment?s.comment+=`
`+p.comment:s.comment=p.comment);continue}}else((o=p.found)===null||o===void 0?void 0:o.indent)!==n.indent&&i(a,"BAD_INDENT",Ij);h&&Joe.containsNewline(u)&&i(u,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");let m=p.end,g=u?t(r,u,p,i):e(r,m,l,null,p,i);r.schema.compat&&kj.flowIndentCheck(n.indent,u,i),Qoe.mapIncludes(r,s.items,g)&&i(m,"DUPLICATE_KEY","Map keys must be unique");let v=Pj.resolveProps(d||[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(a=v.end,v.found){h&&((f==null?void 0:f.type)==="block-map"&&!v.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&p.start<v.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let w=f?t(r,f,v,i):e(r,a,d,null,v,i);r.schema.compat&&kj.flowIndentCheck(n.indent,f,i),a=w.range[2];let C=new xj.Pair(g,w);r.options.keepSourceTokens&&(C.srcToken=c),s.items.push(C)}else{h&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+=`
`+v.comment:g.comment=v.comment);let w=new xj.Pair(g);r.options.keepSourceTokens&&(w.srcToken=c),s.items.push(w)}}return s.range=[n.offset,a,a],s}Aj.resolveBlockMap=Xoe});var Rj=I(Dj=>{"use strict";var Zoe=wa(),ese=Ld(),tse=P0();function rse({composeNode:t,composeEmptyNode:e},r,n,i){let o=new Zoe.YAMLSeq(r.schema);r.atRoot&&(r.atRoot=!1);let s=n.offset;for(let{start:a,value:c}of n.items){let l=ese.resolveProps(a,{indicator:"seq-item-ind",next:c,offset:s,onError:i,startOnNewline:!0});if(s=l.end,!l.found)if(l.anchor||l.tag||c)c&&c.type==="block-seq"?i(s,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l.comment&&(o.comment=l.comment);continue}let u=c?t(r,c,l,i):e(r,s,a,null,l,i);r.schema.compat&&tse.flowIndentCheck(n.indent,c,i),s=u.range[2],o.items.push(u)}return o.range=[n.offset,s,s],o}Dj.resolveBlockSeq=rse});var rl=I(Oj=>{"use strict";function nse(t,e,r,n){let i="";if(t){let o=!1,s="";for(let a of t){let{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=c.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=c),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=c.length}}return{comment:i,offset:e}}Oj.resolveEnd=nse});var Mj=I(Fj=>{"use strict";var ise=Ke(),ose=zi(),Nj=ya(),sse=wa(),ase=rl(),Lj=Ld(),cse=Sg(),lse=k0(),I0="Block collections are not allowed within flow collections",A0=t=>t&&(t.type==="block-map"||t.type==="block-seq");function use({composeNode:t,composeEmptyNode:e},r,n,i){let o=n.start.source==="{",s=o?"flow map":"flow sequence",a=o?new Nj.YAMLMap(r.schema):new sse.YAMLSeq(r.schema);a.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let l=n.offset+n.start.source.length;for(let h=0;h<n.items.length;++h){let m=n.items[h],{start:g,key:v,sep:w,value:C}=m,b=Lj.resolveProps(g,{flow:s,indicator:"explicit-key-ind",next:v||(w==null?void 0:w[0]),offset:l,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!w&&!C){h===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):h<n.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment),l=b.end;continue}!o&&r.options.strict&&cse.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(h===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${s} items`),b.comment){let _="";e:for(let S of g)switch(S.type){case"comma":case"space":break;case"comment":_=S.source.substring(1);break e;default:break e}if(_){let S=a.items[a.items.length-1];ise.isPair(S)&&(S=S.value||S.key),S.comment?S.comment+=`
`+_:S.comment=_,b.comment=b.comment.substring(_.length+1)}}if(!o&&!w&&!b.found){let _=C?t(r,C,b,i):e(r,b.end,w,null,b,i);a.items.push(_),l=_.range[2],A0(C)&&i(_.range,"BLOCK_IN_FLOW",I0)}else{let _=b.end,S=v?t(r,v,b,i):e(r,_,g,null,b,i);A0(v)&&i(S.range,"BLOCK_IN_FLOW",I0);let x=Lj.resolveProps(w||[],{flow:s,indicator:"map-value-ind",next:C,offset:S.range[2],onError:i,startOnNewline:!1});if(x.found){if(!o&&!b.found&&r.options.strict){if(w)for(let T of w){if(T===x.found)break;if(T.type==="newline"){i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<x.found.offset-1024&&i(x.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${s}`):i(x.start,"MISSING_CHAR",`Missing , or : between ${s} items`));let k=C?t(r,C,x,i):x.found?e(r,x.end,w,null,x,i):null;k?A0(C)&&i(k.range,"BLOCK_IN_FLOW",I0):x.comment&&(S.comment?S.comment+=`
`+x.comment:S.comment=x.comment);let A=new ose.Pair(S,k);if(r.options.keepSourceTokens&&(A.srcToken=m),o){let T=a;lse.mapIncludes(r,T.items,S)&&i(_,"DUPLICATE_KEY","Map keys must be unique"),T.items.push(A)}else{let T=new Nj.YAMLMap(r.schema);T.flow=!0,T.items.push(A),a.items.push(T)}l=k?k.range[2]:x.end}}let u=o?"}":"]",[d,...f]=n.end,p=l;if(d&&d.source===u)p=d.offset+d.source.length;else{let h=s[0].toUpperCase()+s.substring(1),m=c?`${h} must end with a ${u}`:`${h} in block collection must be sufficiently indented and end with a ${u}`;i(l,c?"MISSING_CHAR":"BAD_INDENT",m),d&&d.source.length!==1&&f.unshift(d)}if(f.length>0){let h=ase.resolveEnd(f,p,r.options.strict,i);h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment),a.range=[n.offset,p,h.offset]}else a.range=[n.offset,p,p];return a}Fj.resolveFlowCollection=use});var jj=I($j=>{"use strict";var qj=Ke(),dse=It(),fse=Tj(),pse=Rj(),hse=Mj();function mse(t,e,r,n,i){let o;switch(r.type){case"block-map":{o=fse.resolveBlockMap(t,e,r,i);break}case"block-seq":{o=pse.resolveBlockSeq(t,e,r,i);break}case"flow-collection":{o=hse.resolveFlowCollection(t,e,r,i);break}}if(!n)return o;let s=e.directives.tagName(n.source,f=>i(n,"TAG_RESOLVE_FAILED",f));if(!s)return o;let a=o.constructor;if(s==="!"||s===a.tagName)return o.tag=a.tagName,o;let c=qj.isMap(o)?"map":"seq",l=e.schema.tags.find(f=>f.collection===c&&f.tag===s);if(!l){let f=e.schema.knownTags[s];if(f&&f.collection===c)e.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o}let u=l.resolve(o,f=>i(n,"TAG_RESOLVE_FAILED",f),e.options),d=qj.isNode(u)?u:new dse.Scalar(u);return d.range=o.range,d.tag=s,(l==null?void 0:l.format)&&(d.format=l.format),d}$j.composeCollection=mse});var D0=I(Uj=>{"use strict";var T0=It();function gse(t,e,r){let n=t.offset,i=vse(t,e,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let o=i.mode===">"?T0.Scalar.BLOCK_FOLDED:T0.Scalar.BLOCK_LITERAL,s=t.source?yse(t.source):[],a=s.length;for(let m=s.length-1;m>=0;--m){let g=s[m][1];if(g===""||g==="\r")a=m;else break}if(!t.source||a===0){let m=i.chomp==="+"?`
`.repeat(Math.max(0,s.length-1)):"",g=n+i.length;return t.source&&(g+=t.source.length),{value:m,type:o,comment:i.comment,range:[n,g,g]}}let c=t.indent+i.indent,l=t.offset+i.length,u=0;for(let m=0;m<a;++m){let[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>c&&(c=g.length);else{if(g.length<c){let w="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(l+g.length,"MISSING_CHAR",w)}i.indent===0&&(c=g.length),u=m;break}l+=g.length+v.length+1}let d="",f="",p=!1;for(let m=0;m<u;++m)d+=s[m][0].slice(c)+`
`;for(let m=u;m<a;++m){let[g,v]=s[m];l+=g.length+v.length+1;let w=v[v.length-1]==="\r";if(w&&(v=v.slice(0,-1)),v&&g.length<c){let b=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(l-v.length-(w?2:1),"BAD_INDENT",b),g=""}o===T0.Scalar.BLOCK_LITERAL?(d+=f+g.slice(c)+v,f=`
`):g.length>c||v[0]==="	"?(f===" "?f=`
`:!p&&f===`
`&&(f=`

`),d+=f+g.slice(c)+v,f=`
`,p=!0):v===""?f===`
`?d+=`
`:f=`
`:(d+=f+v,f=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)d+=`
`+s[m][0].slice(c);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}let h=n+i.length+t.source.length;return{value:d,type:o,comment:i.comment,range:[n,h,h]}}function vse({offset:t,props:e},r,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],o=i[0],s=0,a="",c=-1;for(let f=1;f<i.length;++f){let p=i[f];if(!a&&(p==="-"||p==="+"))a=p;else{let h=Number(p);!s&&h?s=h:c===-1&&(c=t+f)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,u="",d=i.length;for(let f=1;f<e.length;++f){let p=e[f];switch(p.type){case"space":l=!0;case"newline":d+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=p.source.length,u=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),d+=p.source.length;break;default:{let h=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",h);let m=p.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:d}}function yse(t){let e=t.split(/\n( *)/),r=e[0],n=r.match(/^( *)/),o=[n&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<e.length;s+=2)o.push([e[s],e[s+1]]);return o}Uj.resolveBlockScalar=gse});var O0=I(Hj=>{"use strict";var R0=It(),wse=rl();function Cse(t,e,r){let{offset:n,type:i,source:o,end:s}=t,a,c,l=(f,p,h)=>r(n+f,p,h);switch(i){case"scalar":a=R0.Scalar.PLAIN,c=bse(o,l);break;case"single-quoted-scalar":a=R0.Scalar.QUOTE_SINGLE,c=Ese(o,l);break;case"double-quoted-scalar":a=R0.Scalar.QUOTE_DOUBLE,c=_se(o,l);break;default:return r(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let u=n+o.length,d=wse.resolveEnd(s,u,e,r);return{value:c,type:a,comment:d.comment,range:[n,u,d.offset]}}function bse(t,e){let r="";switch(t[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${t[0]}`;break}case"@":case"`":{r=`reserved character ${t[0]}`;break}}return r&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),Bj(t)}function Ese(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Bj(t.slice(1,-1)).replace(/''/g,"'")}function Bj(t){let e,r;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let i=n[1],o=" ",s=e.lastIndex;for(r.lastIndex=s;n=r.exec(t);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(t),i+o+(n&&n[1]||"")}function _se(t,e){let r="";for(let n=1;n<t.length-1;++n){let i=t[n];if(!(i==="\r"&&t[n+1]===`
`))if(i===`
`){let{fold:o,offset:s}=Sse(t,n);r+=o,n=s}else if(i==="\\"){let o=t[++n],s=xse[o];if(s)r+=s;else if(o===`
`)for(o=t[n+1];o===" "||o==="	";)o=t[++n+1];else if(o==="\r"&&t[n+1]===`
`)for(o=t[++n+1];o===" "||o==="	";)o=t[++n+1];else if(o==="x"||o==="u"||o==="U"){let a={x:2,u:4,U:8}[o];r+=Pse(t,n+1,a,e),n+=a}else{let a=t.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let o=n,s=t[n+1];for(;s===" "||s==="	";)s=t[++n+1];s!==`
`&&!(s==="\r"&&t[n+2]===`
`)&&(r+=n>o?t.slice(o,n+1):i)}else r+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),r}function Sse(t,e){let r="",n=t[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&t[e+2]!==`
`);)n===`
`&&(r+=`
`),e+=1,n=t[e+1];return r||(r=" "),{fold:r,offset:e}}var xse={"0":"\0",a:"\x07",b:"\b",e:"",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Pse(t,e,r,n){let i=t.substr(e,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){let a=t.substr(e-2,r+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}Hj.resolveFlowScalar=Cse});var Gj=I(Wj=>{"use strict";var nl=Ke(),Vj=It(),kse=D0(),Ise=O0();function Ase(t,e,r,n){let{value:i,type:o,comment:s,range:a}=e.type==="block-scalar"?kse.resolveBlockScalar(e,t.options.strict,n):Ise.resolveFlowScalar(e,t.options.strict,n),c=r?t.directives.tagName(r.source,d=>n(r,"TAG_RESOLVE_FAILED",d)):null,l=r&&c?Tse(t.schema,i,c,r,n):e.type==="scalar"?Dse(t,i,e,n):t.schema[nl.SCALAR],u;try{let d=l.resolve(i,f=>n(r||e,"TAG_RESOLVE_FAILED",f),t.options);u=nl.isScalar(d)?d:new Vj.Scalar(d)}catch(d){let f=d instanceof Error?d.message:String(d);n(r||e,"TAG_RESOLVE_FAILED",f),u=new Vj.Scalar(i)}return u.range=a,u.source=i,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function Tse(t,e,r,n,i){var o;if(r==="!")return t[nl.SCALAR];let s=[];for(let c of t.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(let c of s)if((o=c.test)===null||o===void 0?void 0:o.test(e))return c;let a=t.knownTags[r];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),t[nl.SCALAR])}function Dse({directives:t,schema:e},r,n,i){let o=e.tags.find(s=>{var a;return s.default&&((a=s.test)===null||a===void 0?void 0:a.test(r))})||e[nl.SCALAR];if(e.compat){let s=e.compat.find(a=>{var c;return a.default&&((c=a.test)===null||c===void 0?void 0:c.test(r))})||e[nl.SCALAR];if(o.tag!==s.tag){let a=t.tagString(o.tag),c=t.tagString(s.tag),l=`Value may be parsed as either ${a} or ${c}`;i(n,"TAG_RESOLVE_FAILED",l,!0)}}return o}Wj.composeScalar=Ase});var Kj=I(zj=>{"use strict";function Rse(t,e,r){if(e){r===null&&(r=e.length);for(let n=r-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++n];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++n];break}}return t}zj.emptyScalarPosition=Rse});var Xj=I(N0=>{"use strict";var Ose=md(),Nse=jj(),Yj=Gj(),Lse=rl(),Fse=Kj(),Mse={composeNode:Jj,composeEmptyNode:Qj};function Jj(t,e,r,n){let{spaceBefore:i,comment:o,anchor:s,tag:a}=r,c;switch(e.type){case"alias":c=qse(t,e,n),(s||a)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Yj.composeScalar(t,e,a,n),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Nse.composeCollection(Mse,t,e,a,n),s&&(c.anchor=s.source.substring(1));break;default:throw console.log(e),new Error(`Unsupporten token type: ${e.type}`)}return s&&c.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&(c.srcToken=e),c}function Qj(t,e,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a},c){let l={type:"scalar",offset:Fse.emptyScalarPosition(e,r,n),indent:-1,source:""},u=Yj.composeScalar(t,l,a,c);return s&&(u.anchor=s.source.substring(1),u.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),o&&(u.comment=o),u}function qse({options:t},{offset:e,source:r,end:n},i){let o=new Ose.Alias(r.substring(1));o.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string");let s=e+r.length,a=Lse.resolveEnd(n,s,t.strict,i);return o.range=[e,s,a.offset],a.comment&&(o.comment=a.comment),o}N0.composeEmptyNode=Qj;N0.composeNode=Jj});var tU=I(eU=>{"use strict";var $se=Rd(),Zj=Xj(),jse=rl(),Use=Ld();function Bse(t,e,{offset:r,start:n,value:i,end:o},s){let a=Object.assign({directives:e},t),c=new $se.Document(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Use.resolveProps(n,{indicator:"doc-start",next:i||(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(c.directives.marker=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?Zj.composeNode(l,i,u,s):Zj.composeEmptyNode(l,u.end,n,null,u,s);let d=c.contents.range[2],f=jse.resolveEnd(o,d,!1,s);return f.comment&&(c.comment=f.comment),c.range=[r,d,f.offset],c}eU.composeDoc=Bse});var L0=I(oU=>{"use strict";var Hse=OE(),Vse=Rd(),Fd=Nd(),rU=Ke(),Wse=Zm(),Gse=tU(),zse=rl();function Md(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:r}=t;return[e,e+(typeof r=="string"?r.length:1)]}function nU(t){var e;let r="",n=!1,i=!1;for(let o=0;o<t.length;++o){let s=t[o];switch(s[0]){case"#":r+=(r===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":((e=t[o+1])===null||e===void 0?void 0:e[0])!=="#"&&(o+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:r,afterEmptyLine:i}}var iU=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{let s=Md(r);o?this.warnings.push(new Fd.YAMLWarning(s,n,i)):this.errors.push(new Fd.YAMLParseError(s,n,i))},this.directives=new Hse.Directives({version:e.version||Wse.defaultOptions.version}),this.options=e}decorate(e,r){let{comment:n,afterEmptyLine:i}=nU(this.prelude);if(n){let o=e.contents;if(r)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.marker||!o)e.commentBefore=n;else if(rU.isCollection(o)&&!o.flow&&o.items.length>0){let s=o.items[0];rU.isPair(s)&&(s=s.key);let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{let s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:nU(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,r=!1,n=-1){for(let i of e)yield*this.next(i);yield*this.end(r,n)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(r,n,i)=>{let o=Md(e);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let r=Gse.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!r.directives.marker&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let r=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Fd.YAMLParseError(Md(e),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Fd.YAMLParseError(Md(e),"UNEXPECTED_TOKEN",n));break}let r=zse.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Fd.YAMLParseError(Md(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({directives:this.directives},this.options),i=new Vse.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};oU.Composer=iU});var cU=I(xg=>{"use strict";var Kse=D0(),Yse=O0(),Jse=Nd(),sU=Ed();function Qse(t,e=!0,r){if(t){let n=(i,o,s)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new Jse.YAMLParseError([a,a+1],o,s)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Yse.resolveFlowScalar(t,e,n);case"block-scalar":return Kse.resolveBlockScalar(t,e,n)}}return null}function Xse(t,e){var r;let{implicitKey:n=!1,indent:i,inFlow:o=!1,offset:s=-1,type:a="PLAIN"}=e,c=sU.stringifyString({type:a,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=(r=e.end)!==null&&r!==void 0?r:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(c[0]){case"|":case">":{let u=c.indexOf(`
`),d=c.substring(0,u),f=c.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:d}];return aU(p,l)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:f}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:c,end:l};default:return{type:"scalar",offset:s,indent:i,source:c,end:l}}}function Zse(t,e,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in t?t.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(t.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{let l=t.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}let c=sU.stringifyString({type:s,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":eae(t,c);break;case'"':F0(t,c,"double-quoted-scalar");break;case"'":F0(t,c,"single-quoted-scalar");break;default:F0(t,c,"scalar")}}function eae(t,e){let r=e.indexOf(`
`),n=e.substring(0,r),i=e.substring(r+1)+`
`;if(t.type==="block-scalar"){let o=t.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,t.source=i}else{let{offset:o}=t,s="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];aU(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:s,props:a,source:i})}}function aU(t,e){if(e)for(let r of e)switch(r.type){case"space":case"comment":t.push(r);break;case"newline":return t.push(r),!0}return!1}function F0(t,e,r){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=r,t.source=e;break;case"block-scalar":{let n=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let o of n)o.offset+=i;delete t.props,Object.assign(t,{type:r,source:e,end:n});break}case"block-map":case"block-seq":{let n=t.offset+e.length,i={type:"newline",offset:n,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:r,source:e,end:[i]});break}default:{let n="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(t))o!=="type"&&o!=="offset"&&delete t[o];Object.assign(t,{type:r,indent:n,source:e,end:i})}}}xg.createScalarToken=Xse;xg.resolveAsScalar=Qse;xg.setScalarValue=Zse});var uU=I(lU=>{"use strict";var tae=t=>"type"in t?Pg(t):kg(t);function Pg(t){switch(t.type){case"block-scalar":{let e="";for(let r of t.props)e+=Pg(r);return e+t.source}case"block-map":case"block-seq":{let e="";for(let r of t.items)e+=kg(r);return e}case"flow-collection":{let e=t.start.source;for(let r of t.items)e+=kg(r);for(let r of t.end)e+=r.source;return e}case"document":{let e=kg(t);if(t.end)for(let r of t.end)e+=r.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let r of t.end)e+=r.source;return e}}}function kg({start:t,key:e,sep:r,value:n}){let i="";for(let o of t)i+=o.source;if(e&&(i+=Pg(e)),r)for(let o of r)i+=o.source;return n&&(i+=Pg(n)),i}lU.stringify=tae});var hU=I(pU=>{"use strict";var M0=Symbol("break visit"),rae=Symbol("skip children"),dU=Symbol("remove item");function Ca(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),fU(Object.freeze([]),t,e)}Ca.BREAK=M0;Ca.SKIP=rae;Ca.REMOVE=dU;Ca.itemAtPath=(t,e)=>{let r=t;for(let[n,i]of e){let o=r&&r[n];if(o&&"items"in o)r=o.items[i];else return}return r};Ca.parentCollection=(t,e)=>{let r=Ca.itemAtPath(t,e.slice(0,-1)),n=e[e.length-1][0],i=r&&r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function fU(t,e,r){let n=r(e,t);if(typeof n=="symbol")return n;for(let i of["key","value"]){let o=e[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){let a=fU(Object.freeze(t.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===M0)return M0;a===dU&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,t))}}return typeof n=="function"?n(e,t):n}pU.visit=Ca});var Ig=I(xr=>{"use strict";var q0=cU(),nae=uU(),iae=hU(),$0="\uFEFF",j0="",U0="",B0="",oae=t=>!!t&&"items"in t,sae=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function aae(t){switch(t){case $0:return"<BOM>";case j0:return"<DOC>";case U0:return"<FLOW_END>";case B0:return"<SCALAR>";default:return JSON.stringify(t)}}function cae(t){switch(t){case $0:return"byte-order-mark";case j0:return"doc-mode";case U0:return"flow-error-end";case B0:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}xr.createScalarToken=q0.createScalarToken;xr.resolveAsScalar=q0.resolveAsScalar;xr.setScalarValue=q0.setScalarValue;xr.stringify=nae.stringify;xr.visit=iae.visit;xr.BOM=$0;xr.DOCUMENT=j0;xr.FLOW_END=U0;xr.SCALAR=B0;xr.isCollection=oae;xr.isScalar=sae;xr.prettyToken=aae;xr.tokenType=cae});var V0=I(yU=>{"use strict";var qd=Ig();function vn(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var mU="0123456789ABCDEFabcdef".split(""),lae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),gU=",[]{}".split(""),uae=` ,[]{}
\r	`.split(""),H0=t=>!t||uae.includes(t),vU=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,r=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!r;let n=this.next||"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,r=this.buffer[e];for(;r===" "||r==="	";)r=this.buffer[++e];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let r=this.buffer[e];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+e];if(r==="\r"){let i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?e+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&vn(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===qd.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let r=e.length,n=e.indexOf("#");if(n!==-1){let o=e[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){let o=e[r-1];if(o===" "||o==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-r),yield*this.pushNewline(),"stream"}return yield qd.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&vn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&vn(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!vn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&vn(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(e[r]){case"#":yield*this.pushCount(e.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(H0),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,n=-1;do e=yield*this.pushNewline(),r=yield*this.pushSpaces(!0),e>0&&(this.indentValue=n=r);while(e+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&vn(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield qd.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(H0),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let s=this.charAt(1);if(this.flowKey||vn(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),r=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2==0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let r=this.buffer[++e];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>vn(r)||r==="#")}*parseBlockScalar(){let e=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:e=i,r=0;break;case"\r":{let o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];for(o==="\r"&&(o=this.buffer[--i]);o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos)e=i;else break}while(!0);return yield qd.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let o=this.buffer[n+1];if(vn(o)||e&&o===",")break;r=n}else if(vn(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||e&&gU.includes(o))break;if(i===`
`){let s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(e&&gU.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield qd.SCALAR,yield*this.pushToIndex(r+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,r){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(H0))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case":":case"?":case"-":if(vn(this.charAt(1)))return this.flowLevel===0?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,r=this.buffer[e];for(;!vn(r)&&r!==">";)r=this.buffer[++e];return yield*this.pushToIndex(r===">"?e+1:e,!1)}else{let e=this.pos+1,r=this.buffer[e];for(;r;)if(lae.includes(r))r=this.buffer[++e];else if(r==="%"&&mU.includes(this.buffer[e+1])&&mU.includes(this.buffer[e+2]))r=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||e&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(e){let r=this.pos,n=this.buffer[r];for(;!e(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};yU.Lexer=vU});var W0=I(CU=>{"use strict";var wU=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let r=0,n=this.lineStarts.length;for(;r<n;){let o=r+n>>1;this.lineStarts[o]<e?r=o+1:n=o}if(this.lineStarts[r]===e)return{line:r+1,col:1};if(r===0)return{line:0,col:e};let i=this.lineStarts[r-1];return{line:r,col:e-i+1}}}};CU.LineCounter=wU});var z0=I(xU=>{"use strict";var bU=Ig(),dae=V0();function Ci(t,e){for(let r=0;r<t.length;++r)if(t[r].type===e)return!0;return!1}function G0(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function EU(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ag(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep||e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function $d(t){var e;if(t.length===0)return[];let r=t.length;e:for(;--r>=0;)switch(t[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=t[++r])===null||e===void 0?void 0:e.type)==="space";);return t.splice(r,t.length)}function _U(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!Ci(e.start,"explicit-key-ind")&&!Ci(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,EU(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var SU=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new dae.Lexer,this.onNewLine=e}*parse(e,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,r))yield*this.next(n);r||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",bU.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let r=bU.tokenType(e);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let r=e||this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&_U(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Ci(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&!G0(i.start)&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{G0(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let r=Ag(this.peek(2)),n=$d(r),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent&&(n.sep||G0(n.start));switch(this.type){case"anchor":case"tag":i||n.value?(e.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Ci(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?e.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(!n.sep)Object.assign(n,{key:null,sep:[this.sourceToken]});else if(n.value||i&&!Ci(n.start,"explicit-key-ind"))e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ci(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else if(Ci(n.start,"explicit-key-ind")&&EU(n.key)&&!Ci(n.sep,"newline")){let o=$d(n.start),s=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else n.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(e.items.push({start:[],key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&Ci(n.start,"explicit-key-ind")&&e.items.push({start:[]}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Ci(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let r=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?e.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?e.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=Ag(n),o=$d(i);_U(e);let s=e.end.splice(1,e.end.length);s.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:o,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=Ag(e),n=$d(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=Ag(e),n=$d(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,r){return this.type!=="comment"||this.indent<=r?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};xU.Parser=SU});var TU=I(Ud=>{"use strict";var PU=L0(),fae=Rd(),jd=Nd(),pae=UE(),hae=W0(),kU=z0();function IU(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new hae.LineCounter||null,prettyErrors:e}}function mae(t,e={}){let{lineCounter:r,prettyErrors:n}=IU(e),i=new kU.Parser(r==null?void 0:r.addNewLine),o=new PU.Composer(e),s=Array.from(o.compose(i.parse(t)));if(n&&r)for(let a of s)a.errors.forEach(jd.prettifyError(t,r)),a.warnings.forEach(jd.prettifyError(t,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function AU(t,e={}){let{lineCounter:r,prettyErrors:n}=IU(e),i=new kU.Parser(r==null?void 0:r.addNewLine),o=new PU.Composer(e),s=null;for(let a of o.compose(i.parse(t),!0,t.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new jd.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(jd.prettifyError(t,r)),s.warnings.forEach(jd.prettifyError(t,r))),s}function gae(t,e,r){let n;typeof e=="function"?n=e:r===void 0&&e&&typeof e=="object"&&(r=e);let i=AU(t,r);if(!i)return null;if(i.warnings.forEach(o=>pae.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function vae(t,e,r){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:r===void 0&&e&&(r=e),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=r||e||{};if(!i)return}return new fae.Document(t,n,r).toString(r)}Ud.parse=gae;Ud.parseAllDocuments=mae;Ud.parseDocument=AU;Ud.stringify=vae});var DU=I(Ye=>{"use strict";var yae=L0(),wae=Rd(),Cae=b0(),K0=Nd(),bae=md(),Yo=Ke(),Eae=zi(),_ae=It(),Sae=ya(),xae=wa(),Pae=Zm(),kae=Ig(),Iae=V0(),Aae=W0(),Tae=z0(),Tg=TU(),Dae=fd();Ye.Composer=yae.Composer;Ye.Document=wae.Document;Ye.Schema=Cae.Schema;Ye.YAMLError=K0.YAMLError;Ye.YAMLParseError=K0.YAMLParseError;Ye.YAMLWarning=K0.YAMLWarning;Ye.Alias=bae.Alias;Ye.isAlias=Yo.isAlias;Ye.isCollection=Yo.isCollection;Ye.isDocument=Yo.isDocument;Ye.isMap=Yo.isMap;Ye.isNode=Yo.isNode;Ye.isPair=Yo.isPair;Ye.isScalar=Yo.isScalar;Ye.isSeq=Yo.isSeq;Ye.Pair=Eae.Pair;Ye.Scalar=_ae.Scalar;Ye.YAMLMap=Sae.YAMLMap;Ye.YAMLSeq=xae.YAMLSeq;Ye.defaultOptions=Pae.defaultOptions;Ye.CST=kae;Ye.Lexer=Iae.Lexer;Ye.LineCounter=Aae.LineCounter;Ye.Parser=Tae.Parser;Ye.parse=Tg.parse;Ye.parseAllDocuments=Tg.parseAllDocuments;Ye.parseDocument=Tg.parseDocument;Ye.stringify=Tg.stringify;Ye.visit=Dae.visit});var RU=I((lSe,Rae)=>{Rae.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var Y0=I((uSe,OU)=>{"use strict";OU.exports=RU()});var Dg=I((dSe,NU)=>{NU.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var MU=I((fSe,FU)=>{"use strict";var LU={};function Oae(t){var e,r,n=LU[t];if(n)return n;for(n=LU[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function Rg(t,e,r){var n,i,o,s,a,c="";for(typeof e!="string"&&(r=e,e=Rg.defaultChars),typeof r=="undefined"&&(r=!0),a=Oae(e),n=0,i=t.length;n<i;n++){if(o=t.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){c+=t.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(t[n])}return c}Rg.defaultChars=";/?:@&=+$,-_.!~*'()#";Rg.componentChars="-_.!~*'()";FU.exports=Rg});var jU=I((pSe,$U)=>{"use strict";var qU={};function Nae(t){var e,r,n=qU[t];if(n)return n;for(n=qU[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),n.push(r);for(e=0;e<t.length;e++)r=t.charCodeAt(e),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function Og(t,e){var r;return typeof e!="string"&&(e=Og.defaultChars),r=Nae(e),t.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,l,u,d="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){d+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){u=s<<6&1984|a&63,u<128?d+="\uFFFD\uFFFD":d+=String.fromCharCode(u),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){u=s<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?d+="\uFFFD\uFFFD\uFFFD":d+=String.fromCharCode(u),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(l&192)==128)){u=s<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?d+="\uFFFD\uFFFD\uFFFD\uFFFD":(u-=65536,d+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}d+="\uFFFD"}return d})}Og.defaultChars=";/?:@&=+$,#";Og.componentChars="";$U.exports=Og});var BU=I((hSe,UU)=>{"use strict";UU.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||"",r}});var YU=I((mSe,KU)=>{"use strict";function Ng(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Lae=/^([a-z0-9.+-]+:)/i,Fae=/:[0-9]*$/,Mae=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qae=["<",">",'"',"`"," ","\r",`
`,"	"],$ae=["{","}","|","\\","^","`"].concat(qae),jae=["'"].concat($ae),HU=["%","/","?",";","#"].concat(jae),VU=["/","?","#"],Uae=255,WU=/^[+a-z0-9A-Z_-]{0,63}$/,Bae=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,GU={javascript:!0,"javascript:":!0},zU={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Hae(t,e){if(t&&t instanceof Ng)return t;var r=new Ng;return r.parse(t,e),r}Ng.prototype.parse=function(t,e){var r,n,i,o,s,a=t;if(a=a.trim(),!e&&t.split("#").length===1){var c=Mae.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=Lae.exec(a);if(l&&(l=l[0],i=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(e||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&GU[l])&&(a=a.substr(2),this.slashes=!0)),!GU[l]&&(s||l&&!zU[l])){var u=-1;for(r=0;r<VU.length;r++)o=a.indexOf(VU[r]),o!==-1&&(u===-1||o<u)&&(u=o);var d,f;for(u===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",u),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),u=-1,r=0;r<HU.length;r++)o=a.indexOf(HU[r]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(WU)){for(var v="",w=0,C=g.length;w<C;w++)g.charCodeAt(w)>127?v+="x":v+=g[w];if(!v.match(WU)){var b=m.slice(0,r),_=m.slice(r+1),S=g.match(Bae);S&&(b.push(S[1]),_.unshift(S[2])),_.length&&(a=_.join(".")+a),this.hostname=b.join(".");break}}}}this.hostname.length>Uae&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var x=a.indexOf("#");x!==-1&&(this.hash=a.substr(x),a=a.slice(0,x));var k=a.indexOf("?");return k!==-1&&(this.search=a.substr(k),a=a.slice(0,k)),a&&(this.pathname=a),zU[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ng.prototype.parseHost=function(t){var e=Fae.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};KU.exports=Hae});var J0=I((gSe,Bd)=>{"use strict";Bd.exports.encode=MU();Bd.exports.decode=jU();Bd.exports.format=BU();Bd.exports.parse=YU()});var Q0=I((vSe,JU)=>{JU.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var X0=I((ySe,QU)=>{QU.exports=/[\0-\x1F\x7F-\x9F]/});var ZU=I((wSe,XU)=>{XU.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var Z0=I((CSe,e2)=>{e2.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var t2=I(il=>{"use strict";il.Any=Q0();il.Cc=X0();il.Cf=ZU();il.P=Dg();il.Z=Z0()});var ze=I(Lt=>{"use strict";function Vae(t){return Object.prototype.toString.call(t)}function Wae(t){return Vae(t)==="[object String]"}var Gae=Object.prototype.hasOwnProperty;function r2(t,e){return Gae.call(t,e)}function zae(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){t[n]=r[n]})}}),t}function Kae(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function n2(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)==65535||(t&65535)==65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function i2(t){if(t>65535){t-=65536;var e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}var o2=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,Yae=/&([a-z#][a-z0-9]{1,31});/gi,Jae=new RegExp(o2.source+"|"+Yae.source,"gi"),Qae=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,s2=Y0();function Xae(t,e){var r=0;return r2(s2,e)?s2[e]:e.charCodeAt(0)===35&&Qae.test(e)&&(r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10),n2(r))?i2(r):t}function Zae(t){return t.indexOf("\\")<0?t:t.replace(o2,"$1")}function ece(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Jae,function(e,r,n){return r||Xae(e,n)})}var tce=/[&<>"]/,rce=/[&<>"]/g,nce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ice(t){return nce[t]}function oce(t){return tce.test(t)?t.replace(rce,ice):t}var sce=/[.?*+^$[\]\\(){}|-]/g;function ace(t){return t.replace(sce,"\\$&")}function cce(t){switch(t){case 9:case 32:return!0}return!1}function lce(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var uce=Dg();function dce(t){return uce.test(t)}function fce(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function pce(t){return t=t.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(t=t.replace(/ẞ/g,"\xDF")),t.toLowerCase().toUpperCase()}Lt.lib={};Lt.lib.mdurl=J0();Lt.lib.ucmicro=t2();Lt.assign=zae;Lt.isString=Wae;Lt.has=r2;Lt.unescapeMd=Zae;Lt.unescapeAll=ece;Lt.isValidEntityCode=n2;Lt.fromCodePoint=i2;Lt.escapeHtml=oce;Lt.arrayReplaceAt=Kae;Lt.isSpace=cce;Lt.isWhiteSpace=lce;Lt.isMdAsciiPunct=fce;Lt.isPunctChar=dce;Lt.escapeRE=ace;Lt.normalizeReference=pce});var c2=I((_Se,a2)=>{"use strict";a2.exports=function(e,r,n){var i,o,s,a,c=-1,l=e.posMax,u=e.pos;for(e.pos=r+1,i=1;e.pos<l;){if(s=e.src.charCodeAt(e.pos),s===93&&(i--,i===0)){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),s===91){if(a===e.pos-1)i++;else if(n)return e.pos=u,-1}}return o&&(c=e.pos),e.pos=u,c}});var d2=I((SSe,u2)=>{"use strict";var l2=ze().unescapeAll;u2.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(i=e.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=l2(e.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=e.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=l2(e.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var p2=I((xSe,f2)=>{"use strict";var hce=ze().unescapeAll;f2.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=e.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=e.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=hce(e.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,e.charCodeAt(r)===10&&s++),r++}return c}});var h2=I(Lg=>{"use strict";Lg.parseLinkLabel=c2();Lg.parseLinkDestination=d2();Lg.parseLinkTitle=p2()});var g2=I((kSe,m2)=>{"use strict";var mce=ze().assign,gce=ze().unescapeAll,ba=ze().escapeHtml,bi={};bi.code_inline=function(t,e,r,n,i){var o=t[e];return"<code"+i.renderAttrs(o)+">"+ba(t[e].content)+"</code>"};bi.code_block=function(t,e,r,n,i){var o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+ba(t[e].content)+`</code></pre>
`};bi.fence=function(t,e,r,n,i){var o=t[e],s=o.info?gce(o.info).trim():"",a="",c="",l,u,d,f,p;return s&&(d=s.split(/(\s+)/g),a=d[0],c=d.slice(2).join("")),r.highlight?l=r.highlight(o.content,a,c)||ba(o.content):l=ba(o.content),l.indexOf("<pre")===0?l+`
`:s?(u=o.attrIndex("class"),f=o.attrs?o.attrs.slice():[],u<0?f.push(["class",r.langPrefix+a]):(f[u]=f[u].slice(),f[u][1]+=" "+r.langPrefix+a),p={attrs:f},"<pre><code"+i.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+l+`</code></pre>
`};bi.image=function(t,e,r,n,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)};bi.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};bi.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};bi.text=function(t,e){return ba(t[e].content)};bi.html_block=function(t,e){return t[e].content};bi.html_inline=function(t,e){return t[e].content};function ol(){this.rules=mce({},bi)}ol.prototype.renderAttrs=function(e){var r,n,i;if(!e.attrs)return"";for(i="",r=0,n=e.attrs.length;r<n;r++)i+=" "+ba(e.attrs[r][0])+'="'+ba(e.attrs[r][1])+'"';return i};ol.prototype.renderToken=function(e,r,n){var i,o="",s=!1,a=e[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&e[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<e.length&&(i=e[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};ol.prototype.renderInline=function(t,e,r){for(var n,i="",o=this.rules,s=0,a=t.length;s<a;s++)n=t[s].type,typeof o[n]!="undefined"?i+=o[n](t,s,e,r,this):i+=this.renderToken(t,s,e);return i};ol.prototype.renderInlineAsText=function(t,e,r){for(var n="",i=0,o=t.length;i<o;i++)t[i].type==="text"?n+=t[i].content:t[i].type==="image"?n+=this.renderInlineAsText(t[i].children,e,r):t[i].type==="softbreak"&&(n+=`
`);return n};ol.prototype.render=function(t,e,r){var n,i,o,s="",a=this.rules;for(n=0,i=t.length;n<i;n++)o=t[n].type,o==="inline"?s+=this.renderInline(t[n].children,e,r):typeof a[o]!="undefined"?s+=a[t[n].type](t,n,e,r,this):s+=this.renderToken(t,n,e,r);return s};m2.exports=ol});var Fg=I((ISe,v2)=>{"use strict";function $n(){this.__rules__=[],this.__cache__=null}$n.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};$n.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){e.indexOf(n)<0&&e.push(n)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||t.__cache__[r].push(n.fn)})})};$n.prototype.at=function(t,e,r){var n=this.__find__(t),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null};$n.prototype.before=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};$n.prototype.after=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};$n.prototype.push=function(t,e,r){var n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null};$n.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};$n.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};$n.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};$n.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};v2.exports=$n});var w2=I((ASe,y2)=>{"use strict";var vce=/\r\n?|\n/g,yce=/\0/g;y2.exports=function(e){var r;r=e.src.replace(vce,`
`),r=r.replace(yce,"\uFFFD"),e.src=r}});var b2=I((TSe,C2)=>{"use strict";C2.exports=function(e){var r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}});var _2=I((DSe,E2)=>{"use strict";E2.exports=function(e){var r=e.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}});var x2=I((RSe,S2)=>{"use strict";var wce=ze().arrayReplaceAt;function Cce(t){return/^<a[>\s]/i.test(t)}function bce(t){return/^<\/a\s*>/i.test(t)}S2.exports=function(e){var r,n,i,o,s,a,c,l,u,d,f,p,h,m,g,v,w=e.tokens,C;if(!!e.md.options.linkify){for(n=0,i=w.length;n<i;n++)if(!(w[n].type!=="inline"||!e.md.linkify.pretest(w[n].content)))for(o=w[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(Cce(a.content)&&h>0&&h--,bce(a.content)&&h++),!(h>0)&&a.type==="text"&&e.md.linkify.test(a.content)){for(u=a.content,C=e.md.linkify.match(u),c=[],p=a.level,f=0,l=0;l<C.length;l++)m=C[l].url,g=e.md.normalizeLink(m),!!e.md.validateLink(g)&&(v=C[l].text,C[l].schema?C[l].schema==="mailto:"&&!/^mailto:/i.test(v)?v=e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=e.md.normalizeLinkText(v):v=e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),d=C[l].index,d>f&&(s=new e.Token("text","",0),s.content=u.slice(f,d),s.level=p,c.push(s)),s=new e.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new e.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new e.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),f=C[l].lastIndex);f<u.length&&(s=new e.Token("text","",0),s.content=u.slice(f),s.level=p,c.push(s)),w[n].children=o=wce(o,r,c)}}}}});var I2=I((OSe,k2)=>{"use strict";var P2=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Ece=/\((c|tm|r|p)\)/i,_ce=/\((c|tm|r|p)\)/ig,Sce={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function xce(t,e){return Sce[e.toLowerCase()]}function Pce(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&(r.content=r.content.replace(_ce,xce)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function kce(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&P2.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}k2.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type==="inline"&&(Ece.test(e.tokens[r].content)&&Pce(e.tokens[r].children),P2.test(e.tokens[r].content)&&kce(e.tokens[r].children))}});var L2=I((NSe,N2)=>{"use strict";var A2=ze().isWhiteSpace,T2=ze().isPunctChar,D2=ze().isMdAsciiPunct,Ice=/['"]/,R2=/['"]/g,O2="\u2019";function Mg(t,e,r){return t.substr(0,e)+r+t.substr(e+1)}function Ace(t,e){var r,n,i,o,s,a,c,l,u,d,f,p,h,m,g,v,w,C,b,_,S;for(b=[],r=0;r<t.length;r++){for(n=t[r],c=t[r].level,w=b.length-1;w>=0&&!(b[w].level<=c);w--);if(b.length=w+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(R2.lastIndex=s,o=R2.exec(i),!!o);){if(g=v=!0,s=o.index+1,C=o[0]==="'",u=32,o.index-1>=0)u=i.charCodeAt(o.index-1);else for(w=r-1;w>=0&&!(t[w].type==="softbreak"||t[w].type==="hardbreak");w--)if(!!t[w].content){u=t[w].content.charCodeAt(t[w].content.length-1);break}if(d=32,s<a)d=i.charCodeAt(s);else for(w=r+1;w<t.length&&!(t[w].type==="softbreak"||t[w].type==="hardbreak");w++)if(!!t[w].content){d=t[w].content.charCodeAt(0);break}if(f=D2(u)||T2(String.fromCharCode(u)),p=D2(d)||T2(String.fromCharCode(d)),h=A2(u),m=A2(d),m?g=!1:p&&(h||f||(g=!1)),h?v=!1:f&&(m||p||(v=!1)),d===34&&o[0]==='"'&&u>=48&&u<=57&&(v=g=!1),g&&v&&(g=f,v=p),!g&&!v){C&&(n.content=Mg(n.content,o.index,O2));continue}if(v){for(w=b.length-1;w>=0&&(l=b[w],!(b[w].level<c));w--)if(l.single===C&&b[w].level===c){l=b[w],C?(_=e.md.options.quotes[2],S=e.md.options.quotes[3]):(_=e.md.options.quotes[0],S=e.md.options.quotes[1]),n.content=Mg(n.content,o.index,S),t[l.token].content=Mg(t[l.token].content,l.pos,_),s+=S.length-1,l.token===r&&(s+=_.length-1),i=n.content,a=i.length,b.length=w;continue e}}g?b.push({token:r,pos:o.index,single:C,level:c}):v&&C&&(n.content=Mg(n.content,o.index,O2))}}}N2.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type!=="inline"||!Ice.test(e.tokens[r].content)||Ace(e.tokens[r].children,e)}});var qg=I((LSe,F2)=>{"use strict";function sl(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}sl.prototype.attrIndex=function(e){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===e)return n;return-1};sl.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};sl.prototype.attrSet=function(e,r){var n=this.attrIndex(e),i=[e,r];n<0?this.attrPush(i):this.attrs[n]=i};sl.prototype.attrGet=function(e){var r=this.attrIndex(e),n=null;return r>=0&&(n=this.attrs[r][1]),n};sl.prototype.attrJoin=function(e,r){var n=this.attrIndex(e);n<0?this.attrPush([e,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};F2.exports=sl});var $2=I((FSe,q2)=>{"use strict";var Tce=qg();function M2(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}M2.prototype.Token=Tce;q2.exports=M2});var U2=I((MSe,j2)=>{"use strict";var Dce=Fg(),e_=[["normalize",w2()],["block",b2()],["inline",_2()],["linkify",x2()],["replacements",I2()],["smartquotes",L2()]];function t_(){this.ruler=new Dce;for(var t=0;t<e_.length;t++)this.ruler.push(e_[t][0],e_[t][1])}t_.prototype.process=function(t){var e,r,n;for(n=this.ruler.getRules(""),e=0,r=n.length;e<r;e++)n[e](t)};t_.prototype.State=$2();j2.exports=t_});var V2=I((qSe,H2)=>{"use strict";var r_=ze().isSpace;function n_(t,e){var r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.substr(r,n-r)}function B2(t){var e=[],r=0,n=t.length,i,o=!1,s=0,a="";for(i=t.charCodeAt(r);r<n;)i===124&&(o?(a+=t.substring(s,r-1),s=r):(e.push(a+t.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(s)),e}H2.exports=function(e,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,w,C,b,_,S;if(r+2>n||(u=r+1,e.sCount[u]<e.blkIndent)||e.sCount[u]-e.blkIndent>=4||(a=e.bMarks[u]+e.tShift[u],a>=e.eMarks[u])||(_=e.src.charCodeAt(a++),_!==124&&_!==45&&_!==58)||a>=e.eMarks[u]||(S=e.src.charCodeAt(a++),S!==124&&S!==45&&S!==58&&!r_(S))||_===45&&r_(S))return!1;for(;a<e.eMarks[u];){if(o=e.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!r_(o))return!1;a++}for(s=n_(e,r+1),d=s.split("|"),h=[],c=0;c<d.length;c++){if(m=d[c].trim(),!m){if(c===0||c===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=n_(e,r).trim(),s.indexOf("|")===-1||e.sCount[r]-e.blkIndent>=4||(d=B2(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),f=d.length,f===0||f!==h.length))return!1;if(i)return!0;for(w=e.parentType,e.parentType="table",b=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),p.map=g=[r,0],p=e.push("thead_open","thead",1),p.map=[r,r+1],p=e.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<d.length;c++)p=e.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=d[c].trim(),p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),u=r+2;u<n&&!(e.sCount[u]<e.blkIndent);u++){for(C=!1,c=0,l=b.length;c<l;c++)if(b[c](e,u,n,!0)){C=!0;break}if(C||(s=n_(e,u).trim(),!s)||e.sCount[u]-e.blkIndent>=4)break;for(d=B2(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),u===r+2&&(p=e.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=e.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<f;c++)p=e.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=d[c]?d[c].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return v&&(p=e.push("tbody_close","tbody",-1),v[1]=u),p=e.push("table_close","table",-1),g[1]=u,e.parentType=w,e.line=u,!0}});var G2=I(($Se,W2)=>{"use strict";W2.exports=function(e,r,n){var i,o,s;if(e.sCount[r]-e.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=o,s=e.push("code_block","code",0),s.content=e.getLines(r,o,4+e.blkIndent,!1)+`
`,s.map=[r,e.line],!0}});var K2=I((jSe,z2)=>{"use strict";z2.exports=function(e,r,n,i){var o,s,a,c,l,u,d,f=!1,p=e.bMarks[r]+e.tShift[r],h=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||p+3>h||(o=e.src.charCodeAt(p),o!==126&&o!==96)||(l=p,p=e.skipChars(p,o),s=p-l,s<3)||(d=e.src.slice(l,p),a=e.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=l=e.bMarks[c]+e.tShift[c],h=e.eMarks[c],p<h&&e.sCount[c]<e.blkIndent));)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4)&&(p=e.skipChars(p,o),!(p-l<s)&&(p=e.skipSpaces(p),!(p<h)))){f=!0;break}return s=e.sCount[r],e.line=c+(f?1:0),u=e.push("fence","code",0),u.info=a,u.content=e.getLines(r+1,c,s,!0),u.markup=d,u.map=[r,e.line],!0}});var Q2=I((USe,J2)=>{"use strict";var Y2=ze().isSpace;J2.exports=function(e,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,w,C,b,_,S,x,k,A=e.lineMax,T=e.bMarks[r]+e.tShift[r],F=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(T++)!==62)return!1;if(i)return!0;for(c=p=e.sCount[r]+1,e.src.charCodeAt(T)===32?(T++,c++,p++,o=!1,b=!0):e.src.charCodeAt(T)===9?(b=!0,(e.bsCount[r]+p)%4==3?(T++,c++,p++,o=!1):o=!0):b=!1,h=[e.bMarks[r]],e.bMarks[r]=T;T<F&&(s=e.src.charCodeAt(T),Y2(s));){s===9?p+=4-(p+e.bsCount[r]+(o?1:0))%4:p++;T++}for(m=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(b?1:0),u=T>=F,w=[e.sCount[r]],e.sCount[r]=p-c,C=[e.tShift[r]],e.tShift[r]=T-e.bMarks[r],S=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",f=r+1;f<n&&(k=e.sCount[f]<e.blkIndent,T=e.bMarks[f]+e.tShift[f],F=e.eMarks[f],!(T>=F));f++){if(e.src.charCodeAt(T++)===62&&!k){for(c=p=e.sCount[f]+1,e.src.charCodeAt(T)===32?(T++,c++,p++,o=!1,b=!0):e.src.charCodeAt(T)===9?(b=!0,(e.bsCount[f]+p)%4==3?(T++,c++,p++,o=!1):o=!0):b=!1,h.push(e.bMarks[f]),e.bMarks[f]=T;T<F&&(s=e.src.charCodeAt(T),Y2(s));){s===9?p+=4-(p+e.bsCount[f]+(o?1:0))%4:p++;T++}u=T>=F,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(b?1:0),w.push(e.sCount[f]),e.sCount[f]=p-c,C.push(e.tShift[f]),e.tShift[f]=T-e.bMarks[f];continue}if(u)break;for(_=!1,a=0,l=S.length;a<l;a++)if(S[a](e,f,n,!0)){_=!0;break}if(_){e.lineMax=f,e.blkIndent!==0&&(h.push(e.bMarks[f]),m.push(e.bsCount[f]),C.push(e.tShift[f]),w.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),m.push(e.bsCount[f]),C.push(e.tShift[f]),w.push(e.sCount[f]),e.sCount[f]=-1}for(g=e.blkIndent,e.blkIndent=0,x=e.push("blockquote_open","blockquote",1),x.markup=">",x.map=d=[r,0],e.md.block.tokenize(e,r,f),x=e.push("blockquote_close","blockquote",-1),x.markup=">",e.lineMax=A,e.parentType=v,d[1]=e.line,a=0;a<C.length;a++)e.bMarks[a+r]=h[a],e.tShift[a+r]=C[a],e.sCount[a+r]=w[a],e.bsCount[a+r]=m[a];return e.blkIndent=g,!0}});var Z2=I((BSe,X2)=>{"use strict";var Rce=ze().isSpace;X2.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(l++),o!==42&&o!==45&&o!==95))return!1;for(s=1;l<u;){if(a=e.src.charCodeAt(l++),a!==o&&!Rce(a))return!1;a===o&&s++}return s<3?!1:(i||(e.line=r+1,c=e.push("hr","hr",0),c.map=[r,e.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var iB=I((HSe,nB)=>{"use strict";var eB=ze().isSpace;function tB(t,e){var r,n,i,o;return n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],r=t.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=t.src.charCodeAt(n),!eB(o))?-1:n}function rB(t,e){var r,n=t.bMarks[e]+t.tShift[e],i=n,o=t.eMarks[e];if(i+1>=o||(r=t.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=t.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=t.src.charCodeAt(i),!eB(r))?-1:i}function Oce(t,e){var r,n,i=t.level+2;for(r=e+2,n=t.tokens.length-2;r<n;r++)t.tokens[r].level===i&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}nB.exports=function(e,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,w,C,b,_,S,x,k,A,T,F,H,Q,J,le,G,M=!1,L=!0;if(e.sCount[r]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[r]-e.listIndent>=4&&e.sCount[r]<e.blkIndent)return!1;if(i&&e.parentType==="paragraph"&&e.sCount[r]>=e.blkIndent&&(M=!0),(F=rB(e,r))>=0){if(d=!0,Q=e.bMarks[r]+e.tShift[r],v=Number(e.src.slice(Q,F-1)),M&&v!==1)return!1}else if((F=tB(e,r))>=0)d=!1;else return!1;if(M&&e.skipSpaces(F)>=e.eMarks[r])return!1;if(g=e.src.charCodeAt(F-1),i)return!0;for(m=e.tokens.length,d?(G=e.push("ordered_list_open","ol",1),v!==1&&(G.attrs=[["start",v]])):G=e.push("bullet_list_open","ul",1),G.map=h=[r,0],G.markup=String.fromCharCode(g),C=r,H=!1,le=e.md.block.ruler.getRules("list"),S=e.parentType,e.parentType="list";C<n;){for(T=F,w=e.eMarks[C],u=b=e.sCount[C]+F-(e.bMarks[r]+e.tShift[r]);T<w;){if(o=e.src.charCodeAt(T),o===9)b+=4-(b+e.bsCount[C])%4;else if(o===32)b++;else break;T++}if(s=T,s>=w?l=1:l=b-u,l>4&&(l=1),c=u+l,G=e.push("list_item_open","li",1),G.markup=String.fromCharCode(g),G.map=f=[r,0],d&&(G.info=e.src.slice(Q,F-1)),A=e.tight,k=e.tShift[r],x=e.sCount[r],_=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[r]=s-e.bMarks[r],e.sCount[r]=b,s>=w&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,r,n,!0),(!e.tight||H)&&(L=!1),H=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_,e.tShift[r]=k,e.sCount[r]=x,e.tight=A,G=e.push("list_item_close","li",-1),G.markup=String.fromCharCode(g),C=r=e.line,f[1]=C,s=e.bMarks[r],C>=n||e.sCount[C]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)break;for(J=!1,a=0,p=le.length;a<p;a++)if(le[a](e,C,n,!0)){J=!0;break}if(J)break;if(d){if(F=rB(e,C),F<0)break;Q=e.bMarks[C]+e.tShift[C]}else if(F=tB(e,C),F<0)break;if(g!==e.src.charCodeAt(F-1))break}return d?G=e.push("ordered_list_close","ol",-1):G=e.push("bullet_list_close","ul",-1),G.markup=String.fromCharCode(g),h[1]=C,e.line=C,e.parentType=S,L&&Oce(e,m),!0}});var sB=I((VSe,oB)=>{"use strict";var Nce=ze().normalizeReference,$g=ze().isSpace;oB.exports=function(e,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,w,C,b,_=0,S=e.bMarks[r]+e.tShift[r],x=e.eMarks[r],k=r+1;if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(S)!==91)return!1;for(;++S<x;)if(e.src.charCodeAt(S)===93&&e.src.charCodeAt(S-1)!==92){if(S+1===x||e.src.charCodeAt(S+1)!==58)return!1;break}for(c=e.lineMax,C=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";k<c&&!e.isEmpty(k);k++)if(!(e.sCount[k]-e.blkIndent>3)&&!(e.sCount[k]<0)){for(w=!1,u=0,d=C.length;u<d;u++)if(C[u](e,k,c,!0)){w=!0;break}if(w)break}for(v=e.getLines(r,k,e.blkIndent,!1).trim(),x=v.length,S=1;S<x;S++){if(o=v.charCodeAt(S),o===91)return!1;if(o===93){p=S;break}else o===10?_++:o===92&&(S++,S<x&&v.charCodeAt(S)===10&&_++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(S=p+2;S<x;S++)if(o=v.charCodeAt(S),o===10)_++;else if(!$g(o))break;if(m=e.md.helpers.parseLinkDestination(v,S,x),!m.ok||(l=e.md.normalizeLink(m.str),!e.md.validateLink(l)))return!1;for(S=m.pos,_+=m.lines,s=S,a=_,g=S;S<x;S++)if(o=v.charCodeAt(S),o===10)_++;else if(!$g(o))break;for(m=e.md.helpers.parseLinkTitle(v,S,x),S<x&&g!==S&&m.ok?(b=m.str,S=m.pos,_+=m.lines):(b="",S=s,_=a);S<x&&(o=v.charCodeAt(S),!!$g(o));)S++;if(S<x&&v.charCodeAt(S)!==10&&b)for(b="",S=s,_=a;S<x&&(o=v.charCodeAt(S),!!$g(o));)S++;return S<x&&v.charCodeAt(S)!==10||(f=Nce(v.slice(1,p)),!f)?!1:(i||(typeof e.env.references=="undefined"&&(e.env.references={}),typeof e.env.references[f]=="undefined"&&(e.env.references[f]={title:b,href:l}),e.parentType=h,e.line=r+_+1),!0)}});var cB=I((WSe,aB)=>{"use strict";aB.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var o_=I((GSe,i_)=>{"use strict";var Lce="[a-zA-Z_:][a-zA-Z0-9:._-]*",Fce="[^\"'=<>`\\x00-\\x20]+",Mce="'[^']*'",qce='"[^"]*"',$ce="(?:"+Fce+"|"+Mce+"|"+qce+")",jce="(?:\\s+"+Lce+"(?:\\s*=\\s*"+$ce+")?)",lB="<[A-Za-z][A-Za-z0-9\\-]*"+jce+"*\\s*\\/?>",uB="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Uce="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Bce="<[?][\\s\\S]*?[?]>",Hce="<![A-Z]+\\s+[^>]*>",Vce="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Wce=new RegExp("^(?:"+lB+"|"+uB+"|"+Uce+"|"+Bce+"|"+Hce+"|"+Vce+")"),Gce=new RegExp("^(?:"+lB+"|"+uB+")");i_.exports.HTML_TAG_RE=Wce;i_.exports.HTML_OPEN_CLOSE_TAG_RE=Gce});var fB=I((zSe,dB)=>{"use strict";var zce=cB(),Kce=o_().HTML_OPEN_CLOSE_TAG_RE,al=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+zce.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Kce.source+"\\s*$"),/^$/,!1]];dB.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(l)!==60)return!1;for(c=e.src.slice(l,u),o=0;o<al.length&&!al[o][0].test(c);o++);if(o===al.length)return!1;if(i)return al[o][2];if(s=r+1,!al[o][1].test(c)){for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],u=e.eMarks[s],c=e.src.slice(l,u),al[o][1].test(c)){c.length!==0&&s++;break}}return e.line=s,a=e.push("html_block","",0),a.map=[r,s],a.content=e.getLines(r,s,e.blkIndent,!0),!0}});var mB=I((KSe,hB)=>{"use strict";var pB=ze().isSpace;hB.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(l),o!==35||l>=u))return!1;for(s=1,o=e.src.charCodeAt(++l);o===35&&l<u&&s<=6;)s++,o=e.src.charCodeAt(++l);return s>6||l<u&&!pB(o)?!1:(i||(u=e.skipSpacesBack(u,l),a=e.skipCharsBack(u,35,l),a>l&&pB(e.src.charCodeAt(a-1))&&(u=a),e.line=r+1,c=e.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,e.line],c=e.push("inline","",0),c.content=e.src.slice(l,u).trim(),c.map=[r,e.line],c.children=[],c=e.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var vB=I((YSe,gB)=>{"use strict";gB.exports=function(e,r,n){var i,o,s,a,c,l,u,d,f,p=r+1,h,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[r]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(l=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],l<u&&(f=e.src.charCodeAt(l),(f===45||f===61)&&(l=e.skipChars(l,f),l=e.skipSpaces(l),l>=u)))){d=f===61?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](e,p,n,!0)){o=!0;break}if(o)break}}return d?(i=e.getLines(r,p,e.blkIndent,!1).trim(),e.line=p+1,c=e.push("heading_open","h"+String(d),1),c.markup=String.fromCharCode(f),c.map=[r,e.line],c=e.push("inline","",0),c.content=i,c.map=[r,e.line-1],c.children=[],c=e.push("heading_close","h"+String(d),-1),c.markup=String.fromCharCode(f),e.parentType=h,!0):!1}});var wB=I((JSe,yB)=>{"use strict";yB.exports=function(e,r){var n,i,o,s,a,c,l=r+1,u=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(c=e.parentType,e.parentType="paragraph";l<d&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(i=!1,o=0,s=u.length;o<s;o++)if(u[o](e,l,d,!0)){i=!0;break}if(i)break}return n=e.getLines(r,l,e.blkIndent,!1).trim(),e.line=l,a=e.push("paragraph_open","p",1),a.map=[r,e.line],a=e.push("inline","",0),a.content=n,a.map=[r,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}});var EB=I((QSe,bB)=>{"use strict";var CB=qg(),jg=ze().isSpace;function Ei(t,e,r,n){var i,o,s,a,c,l,u,d;for(this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,d=!1,s=a=l=u=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!d)if(jg(i)){l++,i===9?u+=4-u%4:u++;continue}else d=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),d=!1,l=0,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ei.prototype.push=function(t,e,r){var n=new CB(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Ei.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ei.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ei.prototype.skipSpaces=function(e){for(var r,n=this.src.length;e<n&&(r=this.src.charCodeAt(e),!!jg(r));e++);return e};Ei.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!jg(this.src.charCodeAt(--e)))return e+1;return e};Ei.prototype.skipChars=function(e,r){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===r;e++);return e};Ei.prototype.skipCharsBack=function(e,r,n){if(e<=n)return e;for(;e>n;)if(r!==this.src.charCodeAt(--e))return e+1;return e};Ei.prototype.getLines=function(e,r,n,i){var o,s,a,c,l,u,d,f=e;if(e>=r)return"";for(u=new Array(r-e),o=0;f<r;f++,o++){for(s=0,d=c=this.bMarks[f],f+1<r||i?l=this.eMarks[f]+1:l=this.eMarks[f];c<l&&s<n;){if(a=this.src.charCodeAt(c),jg(a))a===9?s+=4-(s+this.bsCount[f])%4:s++;else if(c-d<this.tShift[f])s++;else break;c++}s>n?u[o]=new Array(s-n+1).join(" ")+this.src.slice(c,l):u[o]=this.src.slice(c,l)}return u.join("")};Ei.prototype.Token=CB;bB.exports=Ei});var SB=I((XSe,_B)=>{"use strict";var Yce=Fg(),Ug=[["table",V2(),["paragraph","reference"]],["code",G2()],["fence",K2(),["paragraph","reference","blockquote","list"]],["blockquote",Q2(),["paragraph","reference","blockquote","list"]],["hr",Z2(),["paragraph","reference","blockquote","list"]],["list",iB(),["paragraph","reference","blockquote"]],["reference",sB()],["html_block",fB(),["paragraph","reference","blockquote"]],["heading",mB(),["paragraph","reference","blockquote"]],["lheading",vB()],["paragraph",wB()]];function Bg(){this.ruler=new Yce;for(var t=0;t<Ug.length;t++)this.ruler.push(Ug[t][0],Ug[t][1],{alt:(Ug[t][2]||[]).slice()})}Bg.prototype.tokenize=function(t,e,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=e,c=!1,l=t.md.options.maxNesting;a<r&&(t.line=a=t.skipEmptyLines(a),!(a>=r||t.sCount[a]<t.blkIndent));){if(t.level>=l){t.line=r;break}for(i=0;i<s&&(n=o[i](t,a,r,!1),!n);i++);t.tight=!c,t.isEmpty(t.line-1)&&(c=!0),a=t.line,a<r&&t.isEmpty(a)&&(c=!0,a++,t.line=a)}};Bg.prototype.parse=function(t,e,r,n){var i;!t||(i=new this.State(t,e,r,n),this.tokenize(i,i.line,i.lineMax))};Bg.prototype.State=EB();_B.exports=Bg});var PB=I((ZSe,xB)=>{"use strict";function Jce(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}xB.exports=function(e,r){for(var n=e.pos;n<e.posMax&&!Jce(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(r||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}});var IB=I((exe,kB)=>{"use strict";var Qce=ze().isSpace;kB.exports=function(e,r){var n,i,o,s=e.pos;if(e.src.charCodeAt(s)!==10)return!1;if(n=e.pending.length-1,i=e.posMax,!r)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){for(o=n-1;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(s++;s<i&&Qce(e.src.charCodeAt(s));)s++;return e.pos=s,!0}});var TB=I((txe,AB)=>{"use strict";var Xce=ze().isSpace,s_=[];for(a_=0;a_<256;a_++)s_.push(0);var a_;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){s_[t.charCodeAt(0)]=1});AB.exports=function(e,r){var n,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=e.src.charCodeAt(i),n<256&&s_[n]!==0)return r||(e.pending+=e.src[i]),e.pos+=2,!0;if(n===10){for(r||e.push("hardbreak","br",0),i++;i<o&&(n=e.src.charCodeAt(i),!!Xce(n));)i++;return e.pos=i,!0}}return r||(e.pending+="\\"),e.pos++,!0}});var RB=I((rxe,DB)=>{"use strict";DB.exports=function(e,r){var n,i,o,s,a,c,l,u,d=e.pos,f=e.src.charCodeAt(d);if(f!==96)return!1;for(n=d,d++,i=e.posMax;d<i&&e.src.charCodeAt(d)===96;)d++;if(o=e.src.slice(n,d),l=o.length,e.backticksScanned&&(e.backticks[l]||0)<=n)return r||(e.pending+=o),e.pos+=l,!0;for(a=c=d;(a=e.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&e.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return r||(s=e.push("code_inline","code",0),s.markup=o,s.content=e.src.slice(d,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[u]=a}return e.backticksScanned=!0,r||(e.pending+=o),e.pos+=l,!0}});var l_=I((nxe,c_)=>{"use strict";c_.exports.tokenize=function(e,r){var n,i,o,s,a,c=e.pos,l=e.src.charCodeAt(c);if(r||l!==126||(i=e.scanDelims(e.pos,!0),s=i.length,a=String.fromCharCode(l),s<2))return!1;for(s%2&&(o=e.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=e.push("text","",0),o.content=a+a,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function OB(t,e){var r,n,i,o,s,a=[],c=e.length;for(r=0;r<c;r++)i=e[r],i.marker===126&&i.end!==-1&&(o=e[i.end],s=t.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=t.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<t.tokens.length&&t.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=t.tokens[n],t.tokens[n]=t.tokens[r],t.tokens[r]=s)}}c_.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(OB(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&OB(e,n[r].delimiters)}});var d_=I((ixe,u_)=>{"use strict";u_.exports.tokenize=function(e,r){var n,i,o,s=e.pos,a=e.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=e.scanDelims(e.pos,a===42),n=0;n<i.length;n++)o=e.push("text","",0),o.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function NB(t,e){var r,n,i,o,s,a,c=e.length;for(r=c-1;r>=0;r--)n=e[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=e[n.end],a=r>0&&e[r-1].end===n.end+1&&e[r-1].marker===n.marker&&e[r-1].token===n.token-1&&e[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=t.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=t.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[n.end+1].token].content="",r--))}u_.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(NB(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&NB(e,n[r].delimiters)}});var FB=I((oxe,LB)=>{"use strict";var Zce=ze().normalizeReference,f_=ze().isSpace;LB.exports=function(e,r){var n,i,o,s,a,c,l,u,d,f="",p="",h=e.pos,m=e.posMax,g=e.pos,v=!0;if(e.src.charCodeAt(e.pos)!==91||(a=e.pos+1,s=e.md.helpers.parseLinkLabel(e,e.pos,!0),s<0))return!1;if(c=s+1,c<m&&e.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=e.src.charCodeAt(c),!(!f_(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,l=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),l.ok){for(f=e.md.normalizeLink(l.str),e.md.validateLink(f)?c=l.pos:f="",g=c;c<m&&(i=e.src.charCodeAt(c),!(!f_(i)&&i!==10));c++);if(l=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&l.ok)for(p=l.str,c=l.pos;c<m&&(i=e.src.charCodeAt(c),!(!f_(i)&&i!==10));c++);}(c>=m||e.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof e.env.references=="undefined")return!1;if(c<m&&e.src.charCodeAt(c)===91?(g=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?o=e.src.slice(g,c++):c=s+1):c=s+1,o||(o=e.src.slice(a,s)),u=e.env.references[Zce(o)],!u)return e.pos=h,!1;f=u.href,p=u.title}return r||(e.pos=a,e.posMax=s,d=e.push("link_open","a",1),d.attrs=n=[["href",f]],p&&n.push(["title",p]),e.md.inline.tokenize(e),d=e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}});var qB=I((sxe,MB)=>{"use strict";var ele=ze().normalizeReference,p_=ze().isSpace;MB.exports=function(e,r){var n,i,o,s,a,c,l,u,d,f,p,h,m,g="",v=e.pos,w=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(c=e.pos+2,a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),a<0))return!1;if(l=a+1,l<w&&e.src.charCodeAt(l)===40){for(l++;l<w&&(i=e.src.charCodeAt(l),!(!p_(i)&&i!==10));l++);if(l>=w)return!1;for(m=l,d=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),d.ok&&(g=e.md.normalizeLink(d.str),e.md.validateLink(g)?l=d.pos:g=""),m=l;l<w&&(i=e.src.charCodeAt(l),!(!p_(i)&&i!==10));l++);if(d=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<w&&m!==l&&d.ok)for(f=d.str,l=d.pos;l<w&&(i=e.src.charCodeAt(l),!(!p_(i)&&i!==10));l++);else f="";if(l>=w||e.src.charCodeAt(l)!==41)return e.pos=v,!1;l++}else{if(typeof e.env.references=="undefined")return!1;if(l<w&&e.src.charCodeAt(l)===91?(m=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?s=e.src.slice(m,l++):l=a+1):l=a+1,s||(s=e.src.slice(c,a)),u=e.env.references[ele(s)],!u)return e.pos=v,!1;g=u.href,f=u.title}return r||(o=e.src.slice(c,a),e.md.inline.parse(o,e.md,e.env,h=[]),p=e.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,f&&n.push(["title",f])),e.pos=l,e.posMax=w,!0}});var jB=I((axe,$B)=>{"use strict";var tle=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,rle=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;$B.exports=function(e,r){var n,i,o,s,a,c,l=e.pos;if(e.src.charCodeAt(l)!==60)return!1;for(a=e.pos,c=e.posMax;;){if(++l>=c||(s=e.src.charCodeAt(l),s===60))return!1;if(s===62)break}return n=e.src.slice(a+1,l),rle.test(n)?(i=e.md.normalizeLink(n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):tle.test(n)?(i=e.md.normalizeLink("mailto:"+n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):!1}});var BB=I((cxe,UB)=>{"use strict";var nle=o_().HTML_TAG_RE;function ile(t){var e=t|32;return e>=97&&e<=122}UB.exports=function(e,r){var n,i,o,s,a=e.pos;return!e.md.options.html||(o=e.posMax,e.src.charCodeAt(a)!==60||a+2>=o)||(n=e.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!ile(n))||(i=e.src.slice(a).match(nle),!i)?!1:(r||(s=e.push("html_inline","",0),s.content=e.src.slice(a,a+i[0].length)),e.pos+=i[0].length,!0)}});var GB=I((lxe,WB)=>{"use strict";var HB=Y0(),ole=ze().has,sle=ze().isValidEntityCode,VB=ze().fromCodePoint,ale=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,cle=/^&([a-z][a-z0-9]{1,31});/i;WB.exports=function(e,r){var n,i,o,s=e.pos,a=e.posMax;if(e.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=e.src.charCodeAt(s+1),n===35){if(o=e.src.slice(s).match(ale),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=sle(i)?VB(i):VB(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(s).match(cle),o&&ole(HB,o[1]))return r||(e.pending+=HB[o[1]]),e.pos+=o[0].length,!0}return r||(e.pending+="&"),e.pos++,!0}});var YB=I((uxe,KB)=>{"use strict";function zB(t,e){var r,n,i,o,s,a,c,l,u={},d=e.length;if(!!d){var f=0,p=-2,h=[];for(r=0;r<d;r++)if(i=e[r],h.push(0),(e[f].marker!==i.marker||p!==i.token-1)&&(f=r),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),s=u[i.marker][(i.open?3:0)+i.length%3],n=f-h[f]-1,a=n;n>s;n-=h[n]+1)if(o=e[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){l=n>0&&!e[n-1].open?h[n-1]+1:0,h[r]=r-n+l,h[n]=l,i.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}KB.exports=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(zB(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&zB(e,n[r].delimiters)}});var QB=I((dxe,JB)=>{"use strict";JB.exports=function(e){var r,n,i=0,o=e.tokens,s=e.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var rH=I((fxe,tH)=>{"use strict";var h_=qg(),XB=ze().isWhiteSpace,ZB=ze().isPunctChar,eH=ze().isMdAsciiPunct;function Hd(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}Hd.prototype.pushPending=function(){var t=new h_("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Hd.prototype.push=function(t,e,r){this.pending&&this.pushPending();var n=new h_(t,e,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};Hd.prototype.scanDelims=function(t,e){var r=t,n,i,o,s,a,c,l,u,d,f=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-t,i=r<h?this.src.charCodeAt(r):32,l=eH(n)||ZB(String.fromCharCode(n)),d=eH(i)||ZB(String.fromCharCode(i)),c=XB(n),u=XB(i),u?f=!1:d&&(c||l||(f=!1)),c?p=!1:l&&(u||d||(p=!1)),e?(s=f,a=p):(s=f&&(!p||l),a=p&&(!f||d)),{can_open:s,can_close:a,length:o}};Hd.prototype.Token=h_;tH.exports=Hd});var oH=I((pxe,iH)=>{"use strict";var nH=Fg(),m_=[["text",PB()],["newline",IB()],["escape",TB()],["backticks",RB()],["strikethrough",l_().tokenize],["emphasis",d_().tokenize],["link",FB()],["image",qB()],["autolink",jB()],["html_inline",BB()],["entity",GB()]],g_=[["balance_pairs",YB()],["strikethrough",l_().postProcess],["emphasis",d_().postProcess],["text_collapse",QB()]];function Vd(){var t;for(this.ruler=new nH,t=0;t<m_.length;t++)this.ruler.push(m_[t][0],m_[t][1]);for(this.ruler2=new nH,t=0;t<g_.length;t++)this.ruler2.push(g_[t][0],g_[t][1])}Vd.prototype.skipToken=function(t){var e,r,n=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(typeof a[n]!="undefined"){t.pos=a[n];return}if(t.level<s)for(r=0;r<o&&(t.level++,e=i[r](t,!0),t.level--,!e);r++);else t.pos=t.posMax;e||t.pos++,a[n]=t.pos};Vd.prototype.tokenize=function(t){for(var e,r,n=this.ruler.getRules(""),i=n.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(r=0;r<i&&(e=n[r](t,!1),!e);r++);if(e){if(t.pos>=o)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Vd.prototype.parse=function(t,e,r,n){var i,o,s,a=new this.State(t,e,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};Vd.prototype.State=rH();iH.exports=Vd});var aH=I((hxe,sH)=>{"use strict";sH.exports=function(t){var e={};e.src_Any=Q0().source,e.src_Cc=X0().source,e.src_Z=Z0().source,e.src_P=Dg().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var r="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}});var pH=I((mxe,fH)=>{"use strict";function v_(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){!r||Object.keys(r).forEach(function(n){t[n]=r[n]})}),t}function Hg(t){return Object.prototype.toString.call(t)}function lle(t){return Hg(t)==="[object String]"}function ule(t){return Hg(t)==="[object Object]"}function dle(t){return Hg(t)==="[object RegExp]"}function cH(t){return Hg(t)==="[object Function]"}function fle(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var lH={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function ple(t){return Object.keys(t||{}).reduce(function(e,r){return e||lH.hasOwnProperty(r)},!1)}var hle={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},mle="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",gle="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function vle(t){t.__index__=-1,t.__text_cache__=""}function yle(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}function uH(){return function(t,e){e.normalize(t)}}function Vg(t){var e=t.re=aH()(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(mle),r.push(e.src_xn),e.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");var i=[];t.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(t.__schemas__).forEach(function(a){var c=t.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(t.__compiled__[a]=l,ule(c)){dle(c.validate)?l.validate=yle(c.validate):cH(c.validate)?l.validate=c.validate:o(a,c),cH(c.normalize)?l.normalize=c.normalize:c.normalize?o(a,c):l.normalize=uH();return}if(lle(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!t.__compiled__[t.__schemas__[a]]||(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:uH()};var s=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(fle).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),vle(t)}function wle(t,e){var r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}function dH(t,e){var r=new wle(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function yn(t,e){if(!(this instanceof yn))return new yn(t,e);e||ple(t)&&(e=t,t={}),this.__opts__=v_({},lH,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=v_({},hle,t),this.__compiled__={},this.__tlds__=gle,this.__tlds_replaced__=!1,this.re={},Vg(this)}yn.prototype.add=function(e,r){return this.__schemas__[e]=r,Vg(this),this};yn.prototype.set=function(e){return this.__opts__=v_(this.__opts__,e),this};yn.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,n,i,o,s,a,c,l,u;if(this.re.schema_test.test(e)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(e))!==null;)if(o=this.testSchemaAt(e,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};yn.prototype.pretest=function(e){return this.re.pretest.test(e)};yn.prototype.testSchemaAt=function(e,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,n,this):0};yn.prototype.match=function(e){var r=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(dH(this,r)),r=this.__last_index__);for(var i=r?e.slice(r):e;this.test(i);)n.push(dH(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};yn.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),Vg(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Vg(this),this)};yn.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};yn.prototype.onCompile=function(){};fH.exports=yn});var mH=I((gxe,hH)=>{"use strict";hH.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var vH=I((vxe,gH)=>{"use strict";gH.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var wH=I((yxe,yH)=>{"use strict";yH.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var _H=I((wxe,EH)=>{"use strict";var Wd=ze(),Cle=h2(),ble=g2(),Ele=U2(),_le=SB(),Sle=oH(),xle=pH(),Ea=J0(),CH=require("punycode"),Ple={default:mH(),zero:vH(),commonmark:wH()},kle=/^(vbscript|javascript|file|data):/,Ile=/^data:image\/(gif|png|jpeg|webp);/;function Ale(t){var e=t.trim().toLowerCase();return kle.test(e)?!!Ile.test(e):!0}var bH=["http:","https:","mailto:"];function Tle(t){var e=Ea.parse(t,!0);if(e.hostname&&(!e.protocol||bH.indexOf(e.protocol)>=0))try{e.hostname=CH.toASCII(e.hostname)}catch{}return Ea.encode(Ea.format(e))}function Dle(t){var e=Ea.parse(t,!0);if(e.hostname&&(!e.protocol||bH.indexOf(e.protocol)>=0))try{e.hostname=CH.toUnicode(e.hostname)}catch{}return Ea.decode(Ea.format(e),Ea.decode.defaultChars+"%")}function wn(t,e){if(!(this instanceof wn))return new wn(t,e);e||Wd.isString(t)||(e=t||{},t="default"),this.inline=new Sle,this.block=new _le,this.core=new Ele,this.renderer=new ble,this.linkify=new xle,this.validateLink=Ale,this.normalizeLink=Tle,this.normalizeLinkText=Dle,this.utils=Wd,this.helpers=Wd.assign({},Cle),this.options={},this.configure(t),e&&this.set(e)}wn.prototype.set=function(t){return Wd.assign(this.options,t),this};wn.prototype.configure=function(t){var e=this,r;if(Wd.isString(t)&&(r=t,t=Ple[r],!t))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};wn.prototype.enable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};wn.prototype.disable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};wn.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};wn.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};wn.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};wn.prototype.parseInline=function(t,e){var r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};wn.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};EH.exports=wn});var xH=I((Cxe,SH)=>{"use strict";SH.exports=_H()});var GV=I((FIe,Nue)=>{Nue.exports={name:"remote-containers",displayName:"Remote - Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.224.3",preview:!0,publisher:"ms-vscode-remote",icon:"resources/remote-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.64.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.reopenInWSL","onCommand:remote-containers.reopenInSSH","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHub","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","workspaceTrust","terminalDimensions","contribViewsRemote"],contributes:{virtualWorkspaces:{menus:{continueOn:[{command:"remote-containers.openRepositoryFromRemoteHub",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}]}},languages:[{id:"jsonc",filenames:["devcontainer-features.json"]}],jsonValidation:[{fileMatch:"devcontainer-features.json",url:"./schemas/devcontainer-features.schema.json"}],configuration:{title:"Remote - Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"remote.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#remote.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository for DevContainers. This overrides the common setting for the dotfiles repository."},"remote.containers.dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository for DevContainers. This overrides the common setting for the dotfiles install command."},"remote.containers.dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to for DevContainers. This overrides the common setting for the dotfiles target path."},"remote.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Remote-Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Remote-Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Remote-Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Remote-Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openRepositoryFromRemoteHub",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Remote-Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Development Container...",category:"Remote-Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Remote-Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Remote-Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Remote-Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Development Container Configuration Files...",category:"Remote-Containers"},{command:"remote-containers.settings",title:"Settings for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getHelp",title:"Help for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.trySample",title:"Try a Development Container Sample...",category:"Remote-Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Remote-Containers...",category:"Remote-Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Remote-Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Remote-Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Remote-Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Remote-Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Remote-Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Remote-Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Remote-Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Remote-Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Remote-Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Remote-Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Remote-Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Remote-Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Remote-Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Remote-Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Remote-Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Remote-Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Remote-Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Remote-Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Remote-Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Remote-Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Remote-Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Remote-Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Remote-Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHub",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_1_actions@1",when:"canReopenInSSH"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"canReopenLocally"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npm-run-all clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npm-run-all clean-dist definitions compile-dev",watch:"npm-run-all clean-dist definitions compile-watch",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npm-run-all definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npm-run-all clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npm-run-all clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npm-run-all clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npm-run-all compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.* "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npm-run-all dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npm-run-all dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npm-run-all clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.* "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npm-run-all clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts","test-container-features":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/src/container-features/**/*.test.ts","test-container-features-offline":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/src/container-features/**/*.offline.test.ts","test-container-features-online":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/src/container-features/**/*.online.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.3.0","@types/follow-redirects":"^1.13.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^9.1.0","@types/node":"^16.11.7","@types/pull-stream":"^3.6.2","@types/semver":"^7.3.9","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.1","@types/uuid":"^8.3.4","@types/vscode":"^1.63.1","@types/yargs":"^17.0.8","@typescript-eslint/eslint-plugin":"^4.31.2","@typescript-eslint/parser":"^4.31.2",ajv:"^8.9.0",chai:"^4.3.4",copyfiles:"^2.4.1",esbuild:"^0.13.14",eslint:"^7.32.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^7.0.4",jsonc:"^2.0.0",mocha:"^9.2.1","mocha-junit-reporter":"^2.0.2","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.4.0",typescript:"^4.5.5","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^2.6.7"},dependencies:{applicationinsights:"^2.2.0","find-process":"^1.4.7","follow-redirects":"^1.14.8","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.3.2",minimist:"^1.2.5",muxrpc:"^6.5.4","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","shell-quote":"^1.7.3","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.11",uuid:"^8.3.2","vscode-dev-containers":"https://github.com/microsoft/vscode-dev-containers/releases/download/v0.224.3/vscode-dev-containers-0.224.3.tgz","vscode-extension-telemetry":"^0.4.5","vscode-tas-client":"^0.1.27","vscode-uri":"^3.0.3",yaml:"^2.0.0-10",yargs:"~17.0.1"}}});H3(exports,{activate:()=>Lue,attachToContainer:()=>iv,deactivate:()=>$ue});var U=Y(require("vscode")),zV=Y(require("os")),av=Y(require("fs")),Ft=Y(require("path")),KV=Y(require("querystring"));var pt=Y(require("fs")),_i=Y(require("util"));function ht(t){return new Promise(e=>pt.stat(t,(r,n)=>e(!r&&n.isFile())))}function yl(t){return new Promise(e=>pt.stat(t,(r,n)=>e(!r&&n.isDirectory())))}var Le=(0,_i.promisify)(pt.readFile),Ia=(0,_i.promisify)(pt.writeFile),cde=(0,_i.promisify)(pt.appendFile),Si=(0,_i.promisify)(pt.rename),Yr=(0,_i.promisify)(pt.readdir),sS=(0,_i.promisify)(pt.unlink),Rr=t=>new Promise((e,r)=>pt.mkdir(t,{recursive:!0},n=>n?r(n):e())),Cv=(0,_i.promisify)(pt.rmdir),aS=(t,e=!1,r=!1)=>new Promise((n,i)=>pt.rm(t,{recursive:e,force:r},o=>o?i(o):n())),lde=(0,_i.promisify)(pt.copyFile),wl;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(wl||(wl={}));var Be=Y(require("vscode")),N_=Y(require("path"));var Lo=Y(require("path")),SL=Y(require("crypto"));var lS=Y(require("os")),Cl=Y(require("fs")),uS=Y(require("path"));async function cS(t,e){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await e,package:await t}}var se;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(se||(se={}));var bv={info:3,debug:2,trace:1},W3=Object.keys(bv).reduce((t,e)=>(t[bv[e]]=e,t),[]);function dS(t){return bv[t]||3}function fS(t){return W3[t]||3}var rt={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},eo=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function pS(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function hS(t,e){let r=K3(t);return{event(n){let i=z3(n,e());i&&r.write(i)},join:r.join}}function mS(t,e,r){return{event(n){let i=G3(n,e(),r.getTime());i&&t(i)}}}function mt(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function G3(t,e,r){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${bl(yS,`${t.timestamp-r} ms`)}] ${af(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${bl(X3,`[${t.timestamp-r} ms] Start`)}: ${af(t.text)}`:`[${bl(yS,`${t.timestamp-r} ms`)}] Start: ${af(t.text)}`;case"stop":return 1>=e?`${bl(Q3,`[${t.timestamp-r} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${af(t.text)}`:void 0;default:throw gS(t)}}function af(t){return eW(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function z3(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${Ev(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${Ev(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${Ev(t.text)}`:void 0;default:throw gS(t)}}function Ev(t){return t.replace(eo,"").replace(/(\r?\n)?$/,lS.EOL)}function gS(t){return new Error(`Unknown log event type: ${t.type}`)}function K3(t){let e=[],r=!1,n,i;function o(){r=!1,i&&!e.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&e.push(a),!c&&!r&&e.length){r=!0;let l=e.join("");e.length=0,Cl.appendFile(t,l,u=>{u&&(u.code==="ENOENT"?Cl.mkdir(uS.dirname(t),{recursive:!0},d=>{d?(o(),console.error(d)):Cl.appendFile(t,l,f=>{o(),f&&console.error(f),s()})}):(o(),console.error(u))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var Y3="38;2;143;99;79",vS="38;2;99;143;79",J3="38;2;86;156;214",Q3=Y3,X3=vS,yS=vS,Z3=J3;function bl(t,e){return e.split(`
`).map(r=>`[1m[${t}m${r}[39m[22m`).join(`
`)}function eW(t){let e,r=0,n=[];for(eo.lastIndex=0;e=eo.exec(t);)n.push(wS(t.substring(r,e.index))),n.push(e[0]),r=eo.lastIndex;return n.push(wS(t.substr(r))),n.join("")}function wS(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=e.exec(t);)i.push(t.substring(n,r.index)),i.push(bl(Z3,r[0])),n=e.lastIndex;return i.push(t.substr(n)),i.join("")}function Re(t){return t.split(/\r?\n/).map(e=>`[1m[31m${e}[39m[22m`).join(`\r
`)+`\r
`}function _v(t){return t.split(/\r?\n/).map(e=>`[1m[33m${e}[39m[22m`).join(`\r
`)+`\r
`}var ce=class extends Error{constructor(e){super(e.originalError&&e.originalError.message||e.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,e),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var pn=Y(require("path")),fL=Y(Ja());var ge=Y(require("path")),ah=Y(require("fs")),gR=Y(ec()),nC=Y(require("string_decoder")),ch=Y(Ja());"use strict";function Ul(t,e){e===void 0&&(e=!1);var r=t.length,n=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,d=0;function f(C,b){for(var _=0,S=0;_<C||!b;){var x=t.charCodeAt(n);if(x>=48&&x<=57)S=S*16+x-48;else if(x>=65&&x<=70)S=S*16+x-65+10;else if(x>=97&&x<=102)S=S*16+x-97+10;else break;n++,_++}return _<C&&(S=-1),S}function p(C){n=C,i="",o=0,s=16,d=0}function h(){var C=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&tc(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&tc(t.charCodeAt(n)))for(n++;n<t.length&&tc(t.charCodeAt(n));)n++;else return d=3,t.substring(C,n);var b=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&tc(t.charCodeAt(n))){for(n++;n<t.length&&tc(t.charCodeAt(n));)n++;b=n}else d=3;return t.substring(C,b)}function m(){for(var C="",b=n;;){if(n>=r){C+=t.substring(b,n),d=2;break}var _=t.charCodeAt(n);if(_===34){C+=t.substring(b,n),n++;break}if(_===92){if(C+=t.substring(b,n),n++,n>=r){d=2;break}var S=t.charCodeAt(n++);switch(S){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var x=f(4,!0);x>=0?C+=String.fromCharCode(x):d=4;break;default:d=5}b=n;continue}if(_>=0&&_<=31)if(Bl(_)){C+=t.substring(b,n),d=2;break}else d=6;n++}return C}function g(){if(i="",d=0,o=n,c=a,u=l,n>=r)return o=r,s=17;var C=t.charCodeAt(n);if(Xy(C)){do n++,i+=String.fromCharCode(C),C=t.charCodeAt(n);while(Xy(C));return s=15}if(Bl(C))return n++,i+=String.fromCharCode(C),C===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,s=14;switch(C){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var b=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!Bl(t.charCodeAt(n));)n++;return i=t.substring(b,n),s=12}if(t.charCodeAt(n+1)===42){n+=2;for(var _=r-1,S=!1;n<_;){var x=t.charCodeAt(n);if(x===42&&t.charCodeAt(n+1)===47){n+=2,S=!0;break}n++,Bl(x)&&(x===13&&t.charCodeAt(n)===10&&n++,a++,l=n)}return S||(n++,d=1),i=t.substring(b,n),s=13}return i+=String.fromCharCode(C),n++,s=16;case 45:if(i+=String.fromCharCode(C),n++,n===r||!tc(t.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(C);)n++,C=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(C),n++,s=16}}function v(C){if(Xy(C)||Bl(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function w(){var C;do C=g();while(C>=12&&C<=15);return C}return{setPosition:p,getPosition:function(){return n},scan:e?w:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return d}}}function Xy(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function Bl(t){return t===10||t===13||t===8232||t===8233}function tc(t){return t>=48&&t<=57}"use strict";function Zy(t,e,r){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!Hl(t,o-1);)o--;for(var c=a;c<t.length&&!Hl(t,c);)c++;i=t.substring(o,c),n=s4(i,r)}else i=t,n=0,o=0,s=0,a=t.length;var l=a4(r,t),u=!1,d=0,f;r.insertSpaces?f=ew(" ",r.tabSize||4):f="	";var p=Ul(i,!1),h=!1;function m(){return l+ew(f,n+d)}function g(){var H=p.scan();for(u=!1;H===15||H===14;)u=u||H===14,H=p.scan();return h=H===16||p.getTokenError()!==0,H}var v=[];function w(H,Q,J){!h&&(!e||Q<a&&J>s)&&t.substring(Q,J)!==H&&v.push({offset:Q,length:J-Q,content:H})}var C=g();if(C!==17){var b=p.getTokenOffset()+o,_=ew(f,n);w(_,o,b)}for(;C!==17;){for(var S=p.getTokenOffset()+p.getTokenLength()+o,x=g(),k="",A=!1;!u&&(x===12||x===13);){var T=p.getTokenOffset()+o;w(" ",S,T),S=p.getTokenOffset()+p.getTokenLength()+o,A=x===12,k=A?m():"",x=g()}if(x===2)C!==1&&(d--,k=m());else if(x===4)C!==3&&(d--,k=m());else{switch(C){case 3:case 1:d++,k=m();break;case 5:case 12:k=m();break;case 13:u?k=m():A||(k=" ");break;case 6:A||(k=" ");break;case 10:if(x===6){A||(k="");break}case 7:case 8:case 9:case 11:case 2:case 4:x===12||x===13?A||(k=" "):x!==5&&x!==17&&(h=!0);break;case 16:h=!0;break}u&&(x===12||x===13)&&(k=m())}x===17&&(k=r.insertFinalNewline?l:"");var F=p.getTokenOffset()+o;w(k,S,F),C=x}return v}function ew(t,e){for(var r="",n=0;n<e;n++)r+=t;return r}function s4(t,e){for(var r=0,n=0,i=e.tabSize||4;r<t.length;){var o=t.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function a4(t,e){for(var r=0;r<e.length;r++){var n=e.charAt(r);if(n==="\r")return r+1<e.length&&e.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return t&&t.eol||`
`}function Hl(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}"use strict";var Vl;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Vl||(Vl={}));function Uk(t,e){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,d){o.value=c,o.offset=l,o.length=u,o.type=d,o.colonOffset=void 0,i=o}try{cp(t,{onObjectBegin:function(c,l){if(e<=c)throw n;i=void 0,s=e>c,r.push("")},onObjectProperty:function(c,l,u){if(e<l||(a(c,l,u,"property"),r[r.length-1]=c,e<=l+u))throw n},onObjectEnd:function(c,l){if(e<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,l){if(e<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,l){if(e<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,l,u){if(e<l||(a(c,l,u,Hk(c)),e<=l+u))throw n},onSeparator:function(c,l,u){if(e<=l)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=l,s=!1,i=void 0;else if(c===","){var d=r[r.length-1];typeof d=="number"?r[r.length-1]=d+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var l=0,u=0;l<c.length&&u<r.length;u++)if(c[l]===r[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function Bk(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Vl.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,l,u){e.push({error:c,offset:l,length:u})}};return cp(t,a,r),i[0]}function sp(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Vl.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,l,u){n=o({type:"property",offset:l,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:l,length:u,parent:n})},onObjectEnd:function(c,l){i(c+l),n.length=c+l-n.offset,n=n.parent,i(c+l)},onArrayBegin:function(c,l){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,l){n.length=c+l-n.offset,n=n.parent,i(c+l)},onLiteralValue:function(c,l,u){o({type:Hk(c),offset:l,length:u,parent:n,value:c}),i(l+u)},onSeparator:function(c,l,u){n.type==="property"&&(c===":"?n.colonOffset=l:c===","&&i(l))},onError:function(c,l,u){e.push({error:c,offset:l,length:u})}};cp(t,s,r);var a=n.children[0];return a&&delete a.parent,a}function Wl(t,e){if(!!t){for(var r=t,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){r=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if(r.type!=="array"||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function ap(t){switch(t.type){case"array":return t.children.map(ap);case"object":for(var e=Object.create(null),r=0,n=t.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(e[i.children[0].value]=ap(o))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function cp(t,e,r){r===void 0&&(r=Vl.DEFAULT);var n=Ul(t,!1);function i(A){return A?function(){return A(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(A){return A?function(T){return A(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),l=i(e.onArrayBegin),u=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),p=i(e.onComment),h=o(e.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var A=n.scan();switch(n.getTokenError()){case 4:w(14);break;case 5:w(15);break;case 3:w(13);break;case 1:m||w(11);break;case 2:w(12);break;case 6:w(16);break}switch(A){case 12:case 13:m?w(10):p();break;case 16:w(1);break;case 15:case 14:break;default:return A}}}function w(A,T,F){if(T===void 0&&(T=[]),F===void 0&&(F=[]),h(A),T.length+F.length>0)for(var H=n.getToken();H!==17;){if(T.indexOf(H)!==-1){v();break}else if(F.indexOf(H)!==-1)break;H=v()}}function C(A){var T=n.getTokenValue();return A?d(T):a(T),v(),!0}function b(){switch(n.getToken()){case 11:var A=n.getTokenValue(),T=Number(A);isNaN(T)&&(w(2),T=0),d(T);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return v(),!0}function _(){return n.getToken()!==10?(w(3,[],[2,5]),!1):(C(!1),n.getToken()===6?(f(":"),v(),k()||w(4,[],[2,5])):w(5,[],[2,5]),!0)}function S(){s(),v();for(var A=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(A||w(4,[],[]),f(","),v(),n.getToken()===2&&g)break}else A&&w(6,[],[]);_()||w(4,[],[2,5]),A=!0}return c(),n.getToken()!==2?w(7,[2],[]):v(),!0}function x(){l(),v();for(var A=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(A||w(4,[],[]),f(","),v(),n.getToken()===4&&g)break}else A&&w(6,[],[]);k()||w(4,[],[4,5]),A=!0}return u(),n.getToken()!==4?w(8,[4],[]):v(),!0}function k(){switch(n.getToken()){case 3:return x();case 1:return S();case 10:return C(!0);default:return b()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(w(4,[],[]),!1):k()?(n.getToken()!==17&&w(9,[],[]),!0):(w(4,[],[]),!1)}function Hk(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function Vk(t,e,r,n){for(var i,o=e.slice(),s=[],a=sp(t,s),c=void 0,l=void 0;o.length>0&&(l=o.pop(),c=Wl(a,o),c===void 0&&r!==void 0);)typeof l=="string"?r=(i={},i[l]=r,i):r=[r];if(c)if(c.type==="object"&&typeof l=="string"&&Array.isArray(c.children)){var u=Wl(c,[l]);if(u!==void 0)if(r===void 0){if(!u.parent)throw new Error("Malformed AST");var d=c.children.indexOf(u.parent),f=void 0,p=u.parent.offset+u.parent.length;if(d>0){var h=c.children[d-1];f=h.offset+h.length}else if(f=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return Fs(t,{offset:f,length:p-f,content:""},n)}else return Fs(t,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(l)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(A){return A.children[0].value})):c.children.length,w=void 0;if(v>0){var h=c.children[v-1];w={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?w={offset:c.offset+1,length:0,content:g}:w={offset:c.offset+1,length:0,content:g+","};return Fs(t,w,n)}}else if(c.type==="array"&&typeof l=="number"&&Array.isArray(c.children)){var C=l;if(C===-1){var g=""+JSON.stringify(r),w=void 0;if(c.children.length===0)w={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];w={offset:h.offset+h.length,length:0,content:","+g}}return Fs(t,w,n)}else if(r===void 0&&c.children.length>=0){var b=l,_=c.children[b],w=void 0;if(c.children.length===1)w={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var h=c.children[b-1],S=h.offset+h.length,x=c.offset+c.length;w={offset:S,length:x-2-S,content:""}}else w={offset:_.offset,length:c.children[b+1].offset-_.offset,content:""};return Fs(t,w,n)}else if(r!==void 0){var w=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>l){var k=c.children[l];w={offset:k.offset,length:k.length,content:g}}else if(c.children.length===0||l===0)w={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=l>c.children.length?c.children.length:l,h=c.children[v-1];w={offset:h.offset+h.length,length:0,content:","+g}}return Fs(t,w,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+C+" as length is not sufficient")}else throw new Error("Can not add "+(typeof l!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return Fs(t,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function Fs(t,e,r){if(!r.formattingOptions)return[e];var n=lp(t,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!Hl(n,i-1);)i--;for(;o<n.length&&!Hl(n,o);)o++}for(var s=Zy(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=lp(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var l=t.length-(n.length-o)-i;return[{offset:i,length:l,content:n.substring(i,o)}]}function lp(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}"use strict";var Wk=Uk,et=Bk,up=sp,mo=Wl;var dp=ap;function Ct(t,e,r,n){return Vk(t,e,r,n)}function Vt(t,e){for(var r=e.length-1;r>=0;r--)t=lp(t,e[r]);return t}var vR=Y(require("crypto")),yR=Y(require("util"));var Zn=Y(lI()),Kfe=Zn.default.v1,Yfe=Zn.default.v3,cw=Zn.default.v4,Jfe=Zn.default.v5,Qfe=Zn.default.NIL,Xfe=Zn.default.version,Zfe=Zn.default.validate,epe=Zn.default.stringify,tpe=Zn.default.parse;var fK=Y(require("path")),Qw=Y(require("string_decoder"));var zt=Y(require("path")),qD=Y(require("fs")),dc=Y(require("child_process")),Jw=Y(require("string_decoder"));var TD=Y(require("path"));var uI;uI=(()=>{"use strict";var t={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var l,u="",d=0,f=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)l=a.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(f===h-1||p===1))if(f!==h-1&&p===2){if(u.length<2||d!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var m=u.lastIndexOf("/");if(m!==u.length-1){m===-1?(u="",d=0):d=(u=u.slice(0,m)).length-1-u.lastIndexOf("/"),f=h,p=0;continue}}else if(u.length===2||u.length===1){u="",d=0,f=h,p=0;continue}}c&&(u.length>0?u+="/..":u="..",d=2)}else u.length>0?u+="/"+a.slice(f+1,h):u=a.slice(f+1,h),d=h-f-1;f=h,p=0}else l===46&&p!==-1?++p:p=-1}return u}var s={resolve:function(){for(var a,c="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var d;u>=0?d=arguments[u]:(a===void 0&&(a=process.cwd()),d=a),i(d),d.length!==0&&(c=d+"/"+c,l=d.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&l&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var l=arguments[c];i(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,d=u-l,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,h=d<p?d:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(f+g)===47)return c.slice(f+g+1);if(g===0)return c.slice(f+g)}else d>h&&(a.charCodeAt(l+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(l+g);if(v!==c.charCodeAt(f+g))break;v===47&&(m=g)}var w="";for(g=l+m+1;g<=u;++g)g!==u&&a.charCodeAt(g)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+c.slice(f+m):(f+=m,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),l=c===47,u=-1,d=!0,f=a.length-1;f>=1;--f)if((c=a.charCodeAt(f))===47){if(!d){u=f;break}}else d=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var l,u=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(l=a.length-1;l>=0;--l){var m=a.charCodeAt(l);if(m===47){if(!f){u=l+1;break}}else h===-1&&(f=!1,h=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(d=l):(p=-1,d=h))}return u===d?d=h:d===-1&&(d=a.length),a.slice(u,d)}for(l=a.length-1;l>=0;--l)if(a.charCodeAt(l)===47){if(!f){u=l+1;break}}else d===-1&&(f=!1,d=l+1);return d===-1?"":a.slice(u,d)},extname:function(a){i(a);for(var c=-1,l=0,u=-1,d=!0,f=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)u===-1&&(d=!1,u=p+1),h===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){l=p+1;break}}return c===-1||u===-1||f===0||f===1&&c===u-1&&c===l+1?"":a.slice(c,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,l){var u=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+d:u+"/"+d:d}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var l,u=a.charCodeAt(0),d=u===47;d?(c.root="/",l=1):l=0;for(var f=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=l;--g)if((u=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),u===46?f===-1?f=g:v!==1&&(v=1):f!==-1&&(v=-1);else if(!m){p=g+1;break}return f===-1||h===-1||v===0||v===1&&f===h-1&&f===p+1?h!==-1&&(c.base=c.name=p===0&&d?a.slice(1,h):a.slice(p,h)):(p===0&&d?(c.name=a.slice(1,f),c.base=a.slice(1,h)):(c.name=a.slice(p,f),c.base=a.slice(p,h)),c.ext=a.slice(f,h)),p>0?c.dir=a.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>w,Utils:()=>Q}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,l,u=(c=function(M,L){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var K in V)Object.prototype.hasOwnProperty.call(V,K)&&(q[K]=V[K])})(M,L)},function(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function q(){this.constructor=M}c(M,L),M.prototype=L===null?Object.create(L):(q.prototype=L.prototype,new q)}),d=/^\w[\w\d+.-]*$/,f=/^\//,p=/^\/\//;function h(M,L){if(!M.scheme&&L)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(M.authority,'", path: "').concat(M.path,'", query: "').concat(M.query,'", fragment: "').concat(M.fragment,'"}'));if(M.scheme&&!d.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!f.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var m="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,w=function(){function M(L,q,V,K,ie,te){te===void 0&&(te=!1),typeof L=="object"?(this.scheme=L.scheme||m,this.authority=L.authority||m,this.path=L.path||m,this.query=L.query||m,this.fragment=L.fragment||m):(this.scheme=function(be,Pe){return be||Pe?be:"file"}(L,te),this.authority=q||m,this.path=function(be,Pe){switch(be){case"https":case"http":case"file":Pe?Pe[0]!==g&&(Pe=g+Pe):Pe=g}return Pe}(this.scheme,V||m),this.query=K||m,this.fragment=ie||m,h(this,te))}return M.isUri=function(L){return L instanceof M||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"},Object.defineProperty(M.prototype,"fsPath",{get:function(){return k(this,!1)},enumerable:!1,configurable:!0}),M.prototype.with=function(L){if(!L)return this;var q=L.scheme,V=L.authority,K=L.path,ie=L.query,te=L.fragment;return q===void 0?q=this.scheme:q===null&&(q=m),V===void 0?V=this.authority:V===null&&(V=m),K===void 0?K=this.path:K===null&&(K=m),ie===void 0?ie=this.query:ie===null&&(ie=m),te===void 0?te=this.fragment:te===null&&(te=m),q===this.scheme&&V===this.authority&&K===this.path&&ie===this.query&&te===this.fragment?this:new b(q,V,K,ie,te)},M.parse=function(L,q){q===void 0&&(q=!1);var V=v.exec(L);return V?new b(V[2]||m,H(V[4]||m),H(V[5]||m),H(V[7]||m),H(V[9]||m),q):new b(m,m,m,m,m)},M.file=function(L){var q=m;if(s&&(L=L.replace(/\\/g,g)),L[0]===g&&L[1]===g){var V=L.indexOf(g,2);V===-1?(q=L.substring(2),L=g):(q=L.substring(2,V),L=L.substring(V)||g)}return new b("file",q,L,m,m)},M.from=function(L){var q=new b(L.scheme,L.authority,L.path,L.query,L.fragment);return h(q,!0),q},M.prototype.toString=function(L){return L===void 0&&(L=!1),A(this,L)},M.prototype.toJSON=function(){return this},M.revive=function(L){if(L){if(L instanceof M)return L;var q=new b(L);return q._formatted=L.external,q._fsPath=L._sep===C?L.fsPath:null,q}return L},M}(),C=s?1:void 0,b=function(M){function L(){var q=M!==null&&M.apply(this,arguments)||this;return q._formatted=null,q._fsPath=null,q}return u(L,M),Object.defineProperty(L.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=k(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),L.prototype.toString=function(q){return q===void 0&&(q=!1),q?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)},L.prototype.toJSON=function(){var q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=C),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q},L}(w),_=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function S(M,L){for(var q=void 0,V=-1,K=0;K<M.length;K++){var ie=M.charCodeAt(K);if(ie>=97&&ie<=122||ie>=65&&ie<=90||ie>=48&&ie<=57||ie===45||ie===46||ie===95||ie===126||L&&ie===47)V!==-1&&(q+=encodeURIComponent(M.substring(V,K)),V=-1),q!==void 0&&(q+=M.charAt(K));else{q===void 0&&(q=M.substr(0,K));var te=_[ie];te!==void 0?(V!==-1&&(q+=encodeURIComponent(M.substring(V,K)),V=-1),q+=te):V===-1&&(V=K)}}return V!==-1&&(q+=encodeURIComponent(M.substring(V))),q!==void 0?q:M}function x(M){for(var L=void 0,q=0;q<M.length;q++){var V=M.charCodeAt(q);V===35||V===63?(L===void 0&&(L=M.substr(0,q)),L+=_[V]):L!==void 0&&(L+=M[q])}return L!==void 0?L:M}function k(M,L){var q;return q=M.authority&&M.path.length>1&&M.scheme==="file"?"//".concat(M.authority).concat(M.path):M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?L?M.path.substr(1):M.path[1].toLowerCase()+M.path.substr(2):M.path,s&&(q=q.replace(/\//g,"\\")),q}function A(M,L){var q=L?x:S,V="",K=M.scheme,ie=M.authority,te=M.path,be=M.query,Pe=M.fragment;if(K&&(V+=K,V+=":"),(ie||K==="file")&&(V+=g,V+=g),ie){var xe=ie.indexOf("@");if(xe!==-1){var Te=ie.substr(0,xe);ie=ie.substr(xe+1),(xe=Te.indexOf(":"))===-1?V+=q(Te,!1):(V+=q(Te.substr(0,xe),!1),V+=":",V+=q(Te.substr(xe+1),!1)),V+="@"}(xe=(ie=ie.toLowerCase()).indexOf(":"))===-1?V+=q(ie,!1):(V+=q(ie.substr(0,xe),!1),V+=ie.substr(xe))}if(te){if(te.length>=3&&te.charCodeAt(0)===47&&te.charCodeAt(2)===58)(he=te.charCodeAt(1))>=65&&he<=90&&(te="/".concat(String.fromCharCode(he+32),":").concat(te.substr(3)));else if(te.length>=2&&te.charCodeAt(1)===58){var he;(he=te.charCodeAt(0))>=65&&he<=90&&(te="".concat(String.fromCharCode(he+32),":").concat(te.substr(2)))}V+=q(te,!0)}return be&&(V+="?",V+=q(be,!1)),Pe&&(V+="#",V+=L?Pe:S(Pe,!1)),V}function T(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+T(M.substr(3)):M}}var F=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function H(M){return M.match(F)?M.replace(F,function(L){return T(L)}):M}var Q,J=o(470),le=function(M,L,q){if(q||arguments.length===2)for(var V,K=0,ie=L.length;K<ie;K++)!V&&K in L||(V||(V=Array.prototype.slice.call(L,0,K)),V[K]=L[K]);return M.concat(V||Array.prototype.slice.call(L))},G=J.posix||J;(function(M){M.joinPath=function(L){for(var q=[],V=1;V<arguments.length;V++)q[V-1]=arguments[V];return L.with({path:G.join.apply(G,le([L.path],q,!1))})},M.resolvePath=function(L){for(var q=[],V=1;V<arguments.length;V++)q[V-1]=arguments[V];var K=L.path||"/";return L.with({path:G.resolve.apply(G,le([K],q,!1))})},M.dirname=function(L){var q=G.dirname(L.path);return q.length===1&&q.charCodeAt(0)===46?L:L.with({path:q})},M.basename=function(L){return G.basename(L.path)},M.extname=function(L){return G.extname(L.path)}})(Q||(Q={}))}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:Ee,Utils:rn}=uI;var dI=Y(require("path"));function $e(t,e){if(Kl(e)){let r=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function Kl(t){return dI.extname(t)===".code-workspace"}async function Pp(t,e){if(!!e.isWorkspaceFile)try{let r=e.rootFolderPath,n=(await t.readFile(e.workspaceOrFolderPath)).toString(),o=et(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(t.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=t.path.resolve(r,a)}else{let l=s.uri;return l?Ee.parse(l).scheme!=="file"?`Workspace contains folder '${l}' not on the local file system.`:`Workspace contains an absolute folder path '${l}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!f6(t,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${e.workspaceOrFolderPath}: ${r&&(r.message||r.toString())}`}}function f6(t,e,r){return e===r?!0:!e||!r||r.length>e.length||e.length>r.length&&e.charAt(r.length)!==t.path.sep?!1:p6(t.platform,r,e.substr(0,r.length))}function p6(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var $r=Y(require("path")),Vp=Y(Ja()),SD=Y(require("crypto")),Wp=Y(Tp()),xD=Y(require("util")),PD=Y(require("string_decoder"));var Yl=Y(require("path"));async function hw(t,e,r){let n=await hA(t,"agent-extra-socket",r);if(!n)return;let i=await mw(e,"agent-socket");if(!i)return;let o=await mw(e,"homedir");try{let{stdout:a}=await e.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await e.exec(`mkdir -p -m 700 '${Yl.posix.dirname(i)}'`);let a=await hA(t,"homedir",r),c=await mw(e,"homedir");a&&c&&(await ic({cliHost:t},{shellServer:e},t.path.join(a,"pubring.kbx"),Yl.posix.join(c,"pubring.kbx"),"gpg"),await ic({cliHost:t},{shellServer:e},t.path.join(a,"pubring.gpg"),Yl.posix.join(c,"pubring.gpg"),"gpg"),await ic({cliHost:t},{shellServer:e},t.path.join(a,"trustdb.gpg"),Yl.posix.join(c,"trustdb.gpg"),"gpg")),await q6(t,r)})();return{cliHost:t,remoteGpgSocket:i,localGpgSocket:n,ready:s}}async function hA(t,e,r){try{let{stdout:n}=await Se({exec:t.exec,cmd:"gpgconf",args:["--list-dir",e],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${e}:(.*)$`,"m").exec(i);o&&(i=o[1])}return t.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function mw(t,e){try{let{stdout:r}=await t.exec(`gpgconf --list-dir ${e}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${e}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch{return}}async function q6(t,e){try{await Se({exec:t.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:e})}catch{}}async function gw(t,e,r){if(!("exec"in t)){for(let n=e,i="";n!==i;i=n,n=t.path.dirname(n))if(await t.isFile(t.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await Se({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:r}),i=n.toString().trim();return t.path.resolve(e,i)}catch{return}}async function vw(t,e,r){try{return await Se({exec:t.exec,cmd:"git",args:["ls-remote",e],cwd:".",output:r}),!0}catch{return!1}}async function yw({exec:t},e,r){try{let{stdout:n,stderr:i}=await Se({exec:t,cmd:"git",args:["credential",e],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:rt});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function mA(t,e,r){if(!("exec"in t)){let i=await gw(t,e.rootFolderPath,r);if(!i)return;try{return(await t.readFile(t.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let n;try{let{stdout:i}=await Se({exec:t.exec,cmd:"git",args:["remote","-v"],cwd:e.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set($6(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function $6(t,e,r){return{[Symbol.iterator]:function*(){let n;for(;n=t.exec(e);)yield n[r],t.lastIndex===n.index&&t.lastIndex++}}}async function gA(t,e,r){return await j6(t,e,r)||U6(t,e,r)}async function j6(t,e,r){try{let{stdout:n}=await Se({exec:t.exec,cmd:"git",args:["status","--porcelain"],cwd:e.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function U6(t,e,r){let n=await B6(t,e,r);if(!!n)try{let{stdout:i}=await Se({exec:t.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:e.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function B6(t,e,r){try{let{stdout:n}=await Se({exec:t.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:e.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function Dp(t,e,r,n,i,o){let{extensionPath:s}=t;if(await e.isFolder(e.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await e.mkdirp(r);let a=n.tokenEnvVar?oe(W({},n.env),{GIT_ASKPASS:e.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:e.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let l=Ri({ptyExec:e.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:mt(i,se.Info)}),u=n.fullClone?l:(async()=>(await l,await Ri({ptyExec:e.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),Ri({ptyExec:e.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:l,gitUnshallow:u}}var go=Y(require("stream"));async function vA(t,e){let{stdout:r}=await t.exec(`cat /proc/${e}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function ww(t){let e='for pid in `cd /proc && ls -d [0-9]*`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "\n" " " ; echo ; xargs -0 < /proc/$pid/environ ; xargs -0 < /proc/$pid/cmdline ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null',{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,d,f])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:f,env:d.split(" ").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function yA(t){let e={};return t.forEach(r=>e[r.pid]={process:r,childProcesses:[]}),t.filter(r=>r.ppid).forEach(r=>{var n;return(n=e[r.ppid])==null?void 0:n.childProcesses.push(e[r.pid])}),e}function Cw(t,e="  ",r="  "){return`${r}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(n=>Cw(n,e,r+e))}`}var bw=Y(require("events")),Rp=class{constructor(){this.nodeEmitter=new bw.EventEmitter;this.event=e=>(this.nodeEmitter.on("event",e),{dispose:()=>{this.nodeEmitter.off("event",e)}})}fire(e){this.nodeEmitter.emit("event",e)}dispose(){this.nodeEmitter.removeAllListeners()}},Ew=class{constructor(){this.nodeEmitter=new bw.EventEmitter;this.event=e=>{let r=n=>n.results.push(e(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(e){let r=[];return this.nodeEmitter.emit("event",{data:e,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};var J9=gD(),kD=Lw(),Mw=bD(),Q9=_D();async function Gp(t,e){var _,S,x,k;let{cliHost:r,output:n}=t,i="Launching Remote-Containers helper.",o=n.start(i);if($w)return n.stop(i,o),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let s=r.type==="local",a=s?r:await Kp(process.cwd(),t.loadNativeModule,n),l=(await(0,xD.promisify)(SD.randomBytes)(20)).toString("hex"),u={},d=AD(t.cliHost)||AD(a),f=d?$r.posix.join(((_=e.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-ssh-auth-${l}.sock`):void 0;d?(u[f]=d,n.write(`ssh-agent: SSH_AUTH_SOCK in container (${f}) forwarded to ${d.cliHost!==a?"remote":"local"} host (${d.socketPath}).`)):n.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let p=await hw(r,e.shellServer,n)||(s?void 0:await hw(a,e.shellServer,n));p&&(u[p.remoteGpgSocket]={cliHost:p.cliHost,socketPath:p.localGpgSocket});let h=$r.posix.join(((S=e.env)==null?void 0:S.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${l}.sock`),m=$r.posix.join(((x=e.env)==null?void 0:x.TMPDIR)||"/tmp",`vscode-remote-containers-server-${l}.js`),g=$r.posix.join(((k=e.env)==null?void 0:k.TMPDIR)||"/tmp",`vscode-remote-containers-${l}.js`),v=ID(t,e,"Container",void 0,!1,!1,m,g,u,h,a),w=v.then(A=>A.ready),C=v.then(A=>A.mrpcExec),b=v.then(A=>A.mrpcPtyExec);return w.catch(console.error),t.onAdoptProcess(A=>rK(e.shellServer,h,f,A).catch(console.error)),n.stop(i,o),{remoteContainersCLI:g,remoteEnv:f?{SSH_AUTH_SOCK:f,REMOTE_CONTAINERS_IPC:h}:{REMOTE_CONTAINERS_IPC:h},mrpcExec:C,mrpcPtyExec:b,ready:w,reconnect:()=>v.then(A=>A.reconnect())}}async function tu(t,e,r,n,i){let{passwdUser:o,nodeExecutable:s,mrpcExec:a,mrpcPtyExec:c,setBaseEnv:l,connect:u,reconnect:d,terminate:f}=await ID(t,{remoteExec:e,platform:i},"Host",r,!0,n,void 0);return{passwdUser:o,nodeExecutable:s,exec:a,ptyExec:c,setBaseEnv:l,connect:u,reconnect:d,terminate:f}}async function ID(t,{remoteExec:e,platform:r,nodeExecutable:n},i,o,s,a,c,l,u,d,f){let{product:p,output:h}=t,m=l&&Le($r.join(t.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),g=Le($r.join(t.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),v=await In(e,h,void 0,r,i),w=s?await Uw(v,await jw(v)):void 0,C=!0;if(!n||!c){let x=(await v.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],k=v.path.join(x,".vscode-remote-containers");n||(n=await nK(t,v,k,x,p,a)),c||(c=v.path.join(k,"dist",`vscode-remote-containers-server-${t.package.version}.js`),await ru(v,c)?C=!1:await v.exec(`mkdir -p '${v.path.dirname(c)}'`))}if(l){let x=`EOF-${l}`;await v.exec(`cat <<'${x}' >${l}
${await m}
${x}
`)}if(C){let x=`EOF-${c}`,k=`${c}_${Date.now()}`;await v.exec(`cat <<'${x}' >${k}
${await g}
${x}
mv ${k} ${c}`)}let b=()=>X9(t,i,v,n,c,u,d,f),_=await b(),S;return{ready:_.ready,passwdUser:w,nodeExecutable:n,mrpcExec:Z9(()=>_.mrpc,i,o),mrpcPtyExec:eK(()=>_.mrpc,i,o),mrpcExecToEnd:tK(()=>_.mrpc,i,o),setBaseEnv:x=>new Promise((k,A)=>{S=x,_.mrpc.setBaseEnv(x,T=>T?A(T):k())}),connect:_.mrpc.connect,reconnect:async()=>{let x=`${i}: Reconnecting exec server`,k=h.start(x);await _.process.terminate().catch(()=>{}),v=await In(e,h,void 0,void 0,i),_=await b(),S&&await new Promise((A,T)=>{_.mrpc.setBaseEnv(S,F=>F?T(F):A())}),h.stop(x,k)},terminate:()=>_.process.terminate()}}async function X9(t,e,r,n,i,o,s,a){let{cliHost:c,output:l}=t,u=Object.keys(o||{}),d=oe(W({},u.reduce((x,k)=>(x[k]="duplex",x),{})),{rpc:"async",connected:"async",ready:"async"}),f={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=r.process,h=`echo -n ${jr} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${n}' '${i}'
`;p.stdin.write(h);let m,g=new Promise(x=>m=x),v=new PD.StringDecoder;p.stderr.on("data",x=>{let k=v.write(x).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(m){let A=k.indexOf(jr);A!==-1&&(m(),m=void 0,k=k.substr(0,A)+k.substr(A+1))}k&&l.write(Re(`${e} server: ${k}`))}),p.exit.then(({code:x,signal:k})=>{l.write(`${e} server terminated (code: ${x}, signal: ${k}).`)},x=>{l.write(`${e} server did not launch or terminated: ${x&&x.message||String(x)}`)});let C=(c==null?void 0:c.type)==="local",b,_=new Promise(x=>b=x),S=J9(f,d)(oe(W({},u.reduce((x,k)=>{let A=o[k];return x[k]=()=>A.cliHost.connect(A.socketPath),x},{})),{rpc:async(x,k)=>{try{let A=JSON.parse(x),T=await yw(C?a:c,A.command,A.stdin).catch(F=>{if(C)throw F});!C&&(T==null?void 0:T.code)!==0&&(T=await yw(a,A.command,A.stdin),T.code===0&&(C=!0)),k(void 0,JSON.stringify(T))}catch(A){console.error(A),k(A)}},connected:x=>{x()},ready:x=>{b(),x()}}));return(0,Wp.default)(kD.source(p.stdout),S.createStream(),kD.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:x,signal:k})=>{throw new Error(`${e} server terminated (code: ${x}, signal: ${k}).`)})]),{ready:_,mrpc:S,process:p}}function Z9(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t(),f=await new Promise((p,h)=>{d.exec({cmd:i,args:o,cwd:s||r,env:a},(m,g)=>{m?h(m):p(g)})});return{stdin:Mw.sink(d.stdin(f,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:Mw.source(d.stdout(f)),stderr:Mw.source(d.stderr(f)),exit:new Promise((p,h)=>{d.exit(f,(m,g)=>{var v;c.stop(l,u),m?(((v=m.message)==null?void 0:v.endsWith("ENOENT"))&&!m.code&&(m.code="ENOENT"),h(m)):p(g)})}),terminate:async()=>new Promise((p,h)=>{d.terminate(f,m=>{m?h(m):p()})})}}}function eK(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t(),f=await new Promise((g,v)=>{var w,C;d.ptyExec({cmd:i,args:o,cwd:s||r,env:a,rows:(w=c.dimensions)==null?void 0:w.rows,cols:(C=c.dimensions)==null?void 0:C.columns},(b,_)=>{b?v(b):g(_)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(g=>d.ptyResize(f,g.columns,g.rows))],h=Q9();(0,Wp.default)(h,d.ptyIn(f,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let m=new Rp;return(0,Wp.default)(d.ptyOut(f),g=>{g(null,function v(w,C){if(w!==!0){if(w)throw w;m.fire(C),g(null,v)}})}),{write:g=>h.push(g),onData:m.event,resize:(g,v)=>d.ptyResize(f,g,v),exit:new Promise((g,v)=>{d.ptyExit(f,(w,C)=>{p.forEach(b=>b==null?void 0:b.dispose()),c.stop(l,u),w?v(w):g(C)})}),terminate:async()=>new Promise((g,v)=>{d.ptyTerminate(f,w=>{w?v(w):g()})})}}}function tK(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t();return new Promise((f,p)=>{d.execToEnd({cmd:i,args:o,cwd:s||r,env:a},(h,m)=>{if(c.stop(l,u),h||!m)p({stdin:new go.Writable,stdout:go.Readable.from([]),stderr:go.Readable.from([]),exit:Promise.reject(h),terminate:async()=>{}});else{let g=go.Readable.from([Buffer.from(m.stdout.data)]),v=new Promise(b=>g.on("end",b)),w=go.Readable.from([Buffer.from(m.stderr.data)]),C=new Promise(b=>w.on("end",b));f({stdin:new go.Writable,stdout:g,stderr:w,exit:Promise.all([v,C]).then(()=>({code:m.code,signal:m.signal})),terminate:async()=>{}})}})})}}var qw="\\\\.\\pipe\\openssh-ssh-agent";function AD(t){if(t.env.SSH_AUTH_SOCK)return{cliHost:t,socketPath:t.env.SSH_AUTH_SOCK};if(t.platform==="win32")return{cliHost:t,socketPath:qw}}var zp=new Set;async function rK(t,e,r,n){let i=await n.processId;if(i&&i>0){let o=await vA(t,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==e&&!zp.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(zp.add(s),await t.exec(`rm '${s}' && ln -s '${e}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!zp.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(zp.add(a),await t.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}async function nK(t,e,r,n,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=(i==null?void 0:i.commit)?i.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=t,d=$r.posix.join(r,"bin",s),f=$r.posix.join(d,"node");try{await e.exec(`test -x '${f}'`)}catch{if(i)try{let v=$r.posix.join(Bw(n,i),"bin",s),w=$r.posix.join(v,"node");await e.exec(`test -x '${w}'`);let C=$r.posix.join(v,"node_modules","node-pty","package.json");return await e.exec(`test -f '${C}'`),w}catch{}let p;if((await e.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=Hw;else{let v=await Ww(e);p=Vw(v,!1)}let m={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u},g=iu(m);if(await ht(g)||await Yp(m),p===Hw)await nu({output:l},e,g,d,o);else{let v=[];await Vp.t({file:g,filter:C=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(C),onentry:C=>{new Vp.WriteEntry.Tar(C).on("data",_=>v.push(_))}});let w=Buffer.concat(v);await nu({output:l},e,w,d,o,!1)}}return f}var zw=Y(require("path"));var iK=Y(require("http")),oK=Y(require("https"));function Gw(t,e={}){return new Promise((r,n)=>{let i=t.startsWith("https:")?oK:iK,o;if(Object.keys(e).length>0){let a=new URL(t);o={headers:e,host:a.host,path:a.pathname}}i.get(o!=null?o:t,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&r(Gw(l,e))}n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",n);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>r(Buffer.concat(l)))}}).on("error",n)})}async function vo(t){let e=await Le(zw.join(t,"package.json"),"utf8");return JSON.parse(e)}async function ou(t){let e=await Le(zw.join(t,"product.json"),"utf8"),r=JSON.parse(e);return r.commit||(r.commit=await sK(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function sK(t="insider"){let e=`https://update.code.visualstudio.com/api/update/server-linux-x64/${t}/latest`,r=await Gw(e);return JSON.parse(r.toString()).version}var xt=!0;function Kw(t,e=!1){let{serverApplicationName:r}=t;return!e&&r?["bin",r]:["server.sh"]}var DD=/^\\\\wsl(\.localhost|\$)?\\/;function Gt(t){return DD.test(t.toLowerCase())}function yo(t){let e=t.toLowerCase(),r=DD.exec(e);if(!r)return"";let n=e.indexOf("\\",r[0].length);return t.substring(r[0].length,n)}async function Jp(t){let{stdout:e}=await Se({exec:js(void 0),cmd:"wsl",args:["-l","-v"],output:t}),r=e.toString(e[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(r)||[])[1]}async function Ni(t,e,r){let{stdout:n}=await Se({exec:js(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:r});return n.toString().trim()}async function cc(t,e){let r=yo(t),n=await Ni(r,t,e);return Ee.parse(`vscode-remote://wsl+${r}${n}`)}function lc(t){if(t.scheme==="vscode-remote"){let e=Qp(t.authority);if(e){let r=t.path;return Kl(r)&&(r=TD.posix.dirname(r)),{wslDistro:e,wslPath:r}}}}function Qp(t){return(/wsl\+(.*)/.exec(t)||[])[1]}async function RD(t,e,r,n,i,o,s,a){var h;let{distro:c,cwd:l}=await Yw(t,e,s),u=uc("wsl",["-d",c,"-e"],l),d=await tu({extensionPath:r,localCacheFolder:n,package:await vo(r),product:i,loadNativeModule:o,output:s,alternateDownload:a},u,l,!1),f=await su({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((h=d.passwdUser)==null?void 0:h.shell)||"/bin/sh",remoteExec:d.exec},d.nodeExecutable);delete f.WSL_INTEROP,await d.setBaseEnv(f);let p=wo("wsl",l,f,d.exec,d.ptyExec,d.connect,s);return p.toCommonURI=async m=>{try{return Ee.file((await Se({exec:d.exec,cmd:"wslpath",args:["-w",m],output:s})).stdout.toString().trim())}catch{return}},p}async function Yw(t,{defaultDistro:e},r){let n,i;return typeof t!="string"?(n=t.wslDistro,i=t.wslPath):Gt(t)?(n=yo(t),i=await Ni(n,t,r)):(n=e||await Jp(r)||(()=>{throw new Error("No default WSL distro found.")})(),i=await Ni(n,t,r)),{distro:n,cwd:i}}var LD=Y(require("path")),Xp=Y(require("net")),Zp=Y(require("os"));var OD=Y(require("os"));async function ND(t,e,r,n,i,o,s,a,c,l){var v;let u=t.substr(6),d=u.indexOf(":"),f=[(l==null?void 0:l.settings.executablePath)||"ssh"];(l==null?void 0:l.settings.configFilePath)&&f.push("-F",aK(l==null?void 0:l.settings.configFilePath)),d!==-1?f.push("-p",u.substr(d+1),u.substr(0,d)):f.push(u);let p=uc(f[0],f.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),h=await tu({extensionPath:n,localCacheFolder:i,package:await vo(n),product:o,loadNativeModule:s,output:a,alternateDownload:c},p,e,!1),m=await su({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=h.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:h.exec},h.nodeExecutable);await h.setBaseEnv(m);let g=wo("ssh",e,m,h.exec,h.ptyExec,h.connect,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>h.reconnect(),g.terminate=()=>h.terminate(),g}function aK(t){return t.replace(/^~($|\/|\\)/,`${OD.homedir()}$1`)}function au(t,e){let r=cK(t);if(!r)return;let n=r.hostName;if(r.user||r.hostName.toLowerCase()!==r.hostName||r.port||r.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(r);n=Buffer.from(i,"utf8").toString("hex")}return Ee.parse(`vscode-remote://ssh-remote+${n}${e}`)}function cK(t){if(!t.startsWith("ssh://"))return;let e=t.substr(6),r=e.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(r){let[,n,i,o]=r;return{hostName:i,user:n,port:o?parseInt(o,10):void 0}}return{hostName:e}}var FD=Lw(),Us;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(Us||(Us={}));async function An(t,e,r,n,i,o,s,a,c,l){return(t==null?void 0:t.startsWith("ssh://"))&&!(l==null?void 0:l.localDocker)?ND(t,e,n,i,o,s,r,a,c,l):typeof e!="string"||n.executeInWSL==="forWSLPath"&&Gt(e)||n.executeInWSL==="always"?RD(e,n,i,o,s,r,a,c):Kp(e,r,a)}async function Kp(t,e,r){let n=js(t),i=await MD(t,e);return lK(t,n,i,uK)}function wo(t,e,r,n,i,o,s){let a;return{type:t,platform:"linux",exec:n,ptyExec:i,cwd:e,env:r,path:LD.posix,async homedir(){var c;return typeof a=="undefined"&&(a=this.env.HOME||((c=eh((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:c.home)||"/"),a},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async c=>{try{return await Se({exec:n,cmd:"test",args:["-f",c],output:rt}),!0}catch(l){if((l==null?void 0:l.code)!==1)throw l;return!1}},isFolder:async c=>{try{return await Se({exec:n,cmd:"test",args:["-d",c],output:rt}),!0}catch(l){if((l==null?void 0:l.code)!==1)throw l;return!1}},readFile:async c=>{try{return(await Se({exec:n,cmd:"cat",args:[c],output:rt})).stdout}catch(l){let u=new Error(`Could not read file: ${c}`);throw u.originalError=l,u.code="ENOENT",u}},writeFile:async(c,l)=>{await Se({exec:n,cmd:"/bin/sh",args:["-c",`cat >'${c}'`],stdin:l,output:rt})},rename:async(c,l)=>{await Se({exec:n,cmd:"mv",args:[c,l],output:rt})},mkdirp:async c=>{await Se({exec:n,cmd:"mkdir",args:["-p",c],output:rt})},readDir:async c=>(await Se({exec:n,cmd:"ls",args:["-a",c],output:rt})).stdout.toString().trim().split(`
`).filter(l=>l!=="."&&l!==".."),readDirWithTypes:async c=>{let l={f:1,"*":1,"/":2,"@":64};return(await Se({exec:n,cmd:"ls",args:["-aF",c],output:rt})).stdout.toString().trim().split(`
`).map(u=>"/*@=%|>".indexOf(u[u.length-1])!==-1?[u.substr(0,u.length-1),u[u.length-1]]:[u,"f"]).filter(([u])=>u!=="."&&u!=="..").map(([u,d])=>[u,l[d]||0])},getuid:async()=>{let c=await Se({exec:n,cmd:"id",args:["-u"],output:rt});return parseInt(c.stdout.toString().trim(),10)},getgid:async()=>{let c=await Se({exec:n,cmd:"id",args:["-g"],output:rt});return parseInt(c.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o}}function lK(t,e,r,n){return{type:"local",platform:process.platform,exec:e,ptyExec:r,cwd:t,env:process.env,path:LD,homedir:async()=>Zp.homedir(),tmpdir:async()=>Zp.tmpdir(),isFile:ht,isFolder:yl,readFile:Le,writeFile:Ia,rename:Si,mkdirp:async i=>{await Rr(i)},readDir:Yr,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async i=>Ee.file(i),connect:n}}function uK(t){if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return FD.duplex(Xp.connect(t));let e=new Xp.Socket;return(async()=>{let r=await Le(t),n=r.indexOf(10),i=parseInt(r.slice(0,n).toString(),10),o=r.slice(n+1);e.connect(i,"127.0.0.1",()=>{e.write(o,s=>{s&&(console.error(s),e.destroy())})})})().catch(r=>{console.error(r),e.destroy()}),FD.duplex(e)}function $D(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var dK=zt.join(__dirname,"..","..","node_modules",".bin","ts-node"),$w=zt.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function Se(t){let{exec:e,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=t,l=await e({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((u,d)=>{let f=[],p=[],h=c==="continuous"?new Jw.StringDecoder:void 0;l.stdout.on("data",g=>{f.push(g),c==="continuous"&&a.write(h.write(g))}),l.stdout.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let m=c==="continuous"?new Jw.StringDecoder:void 0;l.stderr.on("data",g=>{p.push(g),c==="continuous"&&a.write(Re(m.write(g)))}),l.stderr.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g}),l.exit.then(({code:g})=>{try{let v=Buffer.concat(f),w=Buffer.concat(p);(c===!0||g&&c==="onerror")&&(a.write(v.toString().replace(/\r?\n/g,`\r
`)),a.write(Re(w.toString()))),c&&g&&a.write(`Exit code ${g}`),g?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:v,stderr:w,code:g}):u({stdout:v,stderr:w})}catch(v){d(v)}},d),s instanceof Buffer?(l.stdin.write(s,g=>{g&&d(g)}),l.stdin.end()):s instanceof qD.ReadStream&&s.pipe(l.stdin)})}async function Ri(t){let{ptyExec:e,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a,onDidInput:c}=t,l=await e({cmd:r,args:n,cwd:i,env:o,output:s});return new Promise((u,d)=>{let f="",p=[c&&c(h=>l.write(h))];l.onData(h=>{f+=h,s.raw(h),a&&a.exec(f)&&u({cmdOutput:f})}),l.exit.then(({code:h,signal:m})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),h||m?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:f,code:h,signal:m}):u({cmdOutput:f})}catch(g){d(g)}},h=>{p.forEach(m=>m==null?void 0:m.dispose()),d(h)})})}function js(t){return async function(e){let{cmd:r,args:n,output:i}=e,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=e.cwd||t,c=e.env?W(W({},process.env),e.env):process.env,l=await th(r,a,c,i),u=dc.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,f)=>{u.once("error",p=>{i.stop(o,s),f(p)}),u.once("close",(p,h)=>{i.stop(o,s),d({code:p,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}async function MD(t,e){let r=await e("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var m,g;let{cmd:i,args:o,output:s}=n,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=n.cwd||t,d=n.env?W(W({},process.env),n.env):process.env,f=await th(i,u,d,s),p=r.spawn(f,o||[],{cwd:u,env:d,cols:(m=s.dimensions)==null?void 0:m.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:l}),h=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:w,signal:C})=>{if(h.forEach(b=>b==null?void 0:b.dispose()),s.stop(a,c),v({code:w,signal:C}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function uc(t,e,r,n){return async function(i){let{env:o,cmd:s,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",d=Object.keys(o||{}).map(b=>`${b}='${o[b]}' `).join(""),f=(a||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${d}${s}${f}`,h=p!==s?["/bin/sh","-c",p]:[p],m=[...e,...h],g=`Run: ${t} ${m.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),w=await th(t,process.cwd(),process.env,c),C=dc.spawn(w,m,{windowsHide:!0,env:n?W(W({},process.env),n):void 0});return{stdin:C.stdin,stdout:C.stdout,stderr:C.stderr,exit:new Promise((b,_)=>{C.once("error",S=>{c.stop(g,v),_(S)}),C.once("close",(S,x)=>{c.stop(g,v),b({code:S,signal:x})})}),async terminate(){C.kill("SIGKILL")}}}}async function jD(t,e,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var S,x;let{env:s,cmd:a,args:c,output:l}=o,u=o.cwd||r,d=u?`cd '${u}' && `:"",f=Object.keys(s||{}).map(k=>`${k}='${s[k]}' `).join(""),p=(c||[]).map(k=>` '${k.replace(/'/g,`'"'"'`)}'`).join(""),h=`${d}${f}${a}${p}`,m=[...e,"/bin/sh","-c",h],g=`Run: ${t} ${m.join(" ").replace(/\n.*/g,"")}`,v=l.start(g),w=!1,C=await th(t,process.cwd(),process.env,l),b=i.spawn(C,m,{cols:(S=l.dimensions)==null?void 0:S.columns,rows:(x=l.dimensions)==null?void 0:x.rows,useConpty:w}),_=[l.onDidChangeDimensions&&l.onDidChangeDimensions(k=>b.resize(k.columns,k.rows))];return{onData:b.onData.bind(b),write:b.write.bind(b),resize:b.resize.bind(b),exit:new Promise(k=>{b.onExit(({exitCode:A,signal:T})=>{if(_.forEach(F=>F==null?void 0:F.dispose()),l.stop(g,v),k({code:A,signal:T}),process.platform==="win32")try{b.kill()}catch{}})}),async terminate(){b.kill("SIGKILL")}}}}async function th(t,e=process.cwd(),r,n){if(process.platform!=="win32")return t;if(zt.isAbsolute(t))return await cu(t)||t;if(/[/\\]/.test(t)){let a=zt.join(e,t);return await cu(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(zt.delimiter).filter(Boolean),o.push(zt.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${t}'.`);let a=zt.join(e,t);return await cu(a)||a}for(let a of o){let c;zt.isAbsolute(a)?c=zt.join(a,t):c=zt.join(e,a,t);let l=await cu(c);if(l)return l}n.write(`findLocalWindowsExecutable: Exectuable '${t}' not found on PATH '${i}'.`);let s=zt.join(e,t);return await cu(s)||s}var UD=process.env.PATHEXT,BD=UD?UD.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function cu(t){if(BD.indexOf(zt.extname(t))!==-1)return await ht(t)?t:void 0;for(let e of BD){let r=t+e;if(await ht(r))return r}}function Bs(t){let e=/^'?v?(\d+(\.\d+)*)/.exec(t);if(!!e)return e[1].split(".").map(r=>parseInt(r,10))}function fc(t,e){for(let r=0,n=Math.max(t.length,e.length);r<n;r++){let i=t[r]||0,o=e[r]||0;if(i!==o)return i<o}return!1}var HD=$w?(t,e,r)=>dc.spawn(dK,[t,...e||[]],oe(W({},r),{windowsHide:!0})):dc.fork;async function VD(t,e){if(!e){try{return require(t)}catch{}return}try{return require(`${e}/node_modules.asar/${t}`)}catch{}try{return require(`${e}/node_modules/${t}`)}catch{}}function lu(t){let{output:e}=t,r=[];return{output:mt(oe(W({},e),{get dimensions(){return e.dimensions},event:i=>r?r.push(i):e.event(i)})),flush:()=>{r&&(r.forEach(i=>e.event(i)),r=void 0)}}}function WD(t,e){return mt(oe(W({},t),{get dimensions(){return t.dimensions},event:n=>{t.event(n),e.event(n)}}))}function rh(t,e){return typeof e!="string"&&"win32"in e?t==="win32"?e.win32:e.posix:e}async function ru(t,e){return rh(t.platform,{posix:async()=>{try{return await t.exec(`test -f '${e}'`),!0}catch{return!1}},win32:async()=>(await t.exec(`Test-Path '${e}' -PathType Leaf`)).stdout.trim()==="True"})()}var jr="\u2404";async function In(t,e,r,n="linux",i="Container"){let o=typeof t=="function",s=n==="win32",a=o?await t({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:e}):t;if(!o){let f=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${jr}; /bin/sh'
`;a.stdin.write(f),await new Promise(h=>{let m="",g=new Qw.StringDecoder;a.stdout.on("data",function v(w){m+=g.write(w),m.includes(f)&&(a.stdout.off("data",v),h())})})}let c=pK(a),l;async function u(f,p){let h=l=(async()=>{try{await l}catch{}return d(rh(n,f),p)})();try{return await Promise.race([h,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===h&&(l=void 0)}}async function d(f,p){let h=`Run in ${i.toLowerCase()}: ${f.replace(/\n.*/g,"")}`,m;if((p==null?void 0:p.logOutput)!=="silent"&&(m=e.start(h,p==null?void 0:p.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:x,signal:k}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${x}, signal: ${k})`,code:x,signal:k})}n==="win32"?a.stdin.write(`[Console]::Write('${jr}'); ( ${f} ); [Console]::Write("${jr}$LastExitCode ${jr}"); [Console]::Error.Write('${jr}')
`):a.stdin.write(`echo -n ${jr}; ( ${f} ); echo -n ${jr}$?${jr}; echo -n ${jr} >&2
`);let[g,v]=GD(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(x,k,A)=>{k===1&&A===0&&e.write(x,p==null?void 0:p.logLevel)}:()=>{}),w=GD(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(x,k,A)=>{k===0&&A===0&&e.write(x,p==null?void 0:p.logLevel)}:()=>{})[0];(p==null?void 0:p.stdin)&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[C,b]=await v,[_]=await w,S=parseInt(b,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(e.write(C,p==null?void 0:p.logLevel),e.write(_,p==null?void 0:p.logLevel),S&&e.write(`Exit code ${S}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&S&&e.write(`Exit code ${S}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&e.stop(h,m,p==null?void 0:p.logLevel),S?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${f}`,code:S,stdout:C,stderr:_}):{stdout:C,stderr:_}}return{exec:u,process:a,platform:n,path:rh(n,fK)}}function GD(t,e,r){let n=e.map(()=>{let u,d=new Promise((f,p)=>u={resolve:f,reject:p});return W({promise:d},u)}),i=new Qw.StringDecoder("utf8"),o=[],s=0,a=[];function c(u){let d=i.write(u);l(d)}function l(u){let d=u.indexOf(jr);if(d!==-1){let f=u.substr(0,d);o.push(f),r(f,s,a.length),a.push(o.join("")),o.length=0,a.length===e[s]&&(n[s].resolve(a),s++,a=[],s===e.length&&t.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else o.push(u),r(u,s,a.length)}return t.on("data",c),n.map(u=>u.promise)}function pK(t){let e,r=new Promise((c,l)=>e=l),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return t.stdout.on("data",o),t.stderr.on("data",s),t.exit.then(({code:c,signal:l})=>{e(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",o),t.stderr.off("data",s),n.length=0,i.length=0}}}var zD=Y(require("path"));var hK=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function KD(t,e,r,n,i){let{repository:o,installCommand:s,targetPath:a}=t.dotfilesConfiguration;if(o=i["remote.containers.dotfiles.repository"]||i["dotfiles.repository"]||o,s=i["remote.containers.dotfiles.installCommand"]||i["dotfiles.installCommand"]||s,a=i["remote.containers.dotfiles.targetPath"]||i["dotfiles.targetPath"]||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let l=e.shellServer,u=gK(e),d=Object.keys(c).filter(f=>!(f.startsWith("BASH_FUNC_")&&f.endsWith("%%"))).reduce((f,p)=>`${f}${p}=${mK(c[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${nh(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:se.Info}):await l.exec(`# Clone & install dotfiles
${nh(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${hK.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:se.Info}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function mK(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function gK(t){return zD.posix.join(Co(t),".dotfilesMarker")}var lR=Y(require("net")),uR=Y(cR());async function dR({forwardedPorts:t,output:e,getLogLevel:r},n,i,o){e.write(`Port forwarding for container port ${i} starts listening on local port.`,se.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let l=new Set,u=lR.createServer({pauseOnConnect:!0},d=>{let f=d.remotePort,p=u.address().port;e.write(`Port forwarding connection from ${f} > ${p} > ${i} in the container.`),r()===se.Trace&&(async()=>{let h=await(0,uR.default)("port",f);e.write(`Port forwarding process for ${f} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),SK(e,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				process.stdin.pause();
				const client = net.createConnection({ port: ${i} }, () => {
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
			`],s).then(h=>{let m;h.exit.then(({code:g,signal:v})=>{m||(l.delete(d),d.end()),e.write(`Port forwarding ${f} > ${p} > ${i} terminated${m?` by extension (${m})`:""} with code ${g} and signal ${v}.`)},g=>{l.delete(d),d.end(),e.write(`Port forwarding ${f} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),h.stderr.on("data",g=>{e.write(`Port forwarding ${f} > ${p} > ${i} stderr: ${g.toString("utf8")}`,se.Debug)}),d.on("close",g=>{e.write(`Port forwarding ${f} > ${p} > ${i}: Local close${g?" with error":""}`,se.Debug),l.delete(d),m="closed",h.stdin.end(),setTimeout(()=>{m="killed",h.terminate().catch(console.error)},5e3)}),h.stdout.pipe(d),d.pipe(h.stdin),l.add(d)}).catch(console.error)});u.on("listening",()=>{let d={targetPort:i,server:u,connections:l};u.on("close",()=>{t.delete(d)}),t.add(d),e.write(`Port forwarding local port ${u.address().port} to container port ${i}`),a(u)}),u.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(d)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(i,"127.0.0.1")})}async function SK(t,e,r,n){return e.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:t})}var pc=Y(require("path"));function hc(t,e){let r,n=t.platform==="win32",i=oe(W({},t),{get env(){return r||(r=pR(n,t.env))}}),o=kK.bind(void 0,n,i);return t.containerWorkspaceFolder&&(i.containerWorkspaceFolder=hR(o,t.containerWorkspaceFolder)),sh(o,e)}function fR(t,e,r,n){let i=t==="win32";return sh(IK.bind(void 0,i,e,pR(i,r)),n)}function sh(t,e){if(typeof e=="string")return hR(t,e);if(Array.isArray(e))return e.map(r=>sh(t,r));if(e&&typeof e=="object"){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n]=sh(t,e[n])}),r}return e}var xK=/\$\{(.*?)\}/g;function pR(t,e){if(t){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n.toLowerCase()]=e[n]}),r}return e}function hR(t,e){return e.replace(xK,PK.bind(void 0,t))}function PK(t,e,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),t(e,r,n)}function kK(t,e,r,n,i){switch(n){case"env":case"localEnv":return mR(t,e.env,i,r,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?pc.win32:pc.posix).basename(e.localWorkspaceFolder):r;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?pc.posix.basename(e.containerWorkspaceFolder):r;default:return r}}function IK(t,e,r,n,i,o){switch(i){case"containerEnv":return mR(t,r,o,n,e);default:return n}}function mR(t,e,r,n,i){if(r){t&&(r=r.toLowerCase());let o=e[r];return typeof o=="string"?o:""}throw new ce({description:`'${n}'${i?` in ${pc.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function ei(t){return new Promise(e=>setTimeout(e,t))}var Eo=0,wR=/Extension host agent listening on (\d+)/;var bt;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(bt||(bt={}));var CR="updateContentCommand";async function lh(t){let{params:e,createdAt:r,startedAt:n,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,rootShellServer:p}=t,h;if(p&&a==="root"?h=p:h=await In(u,e.output,e.sessionId),!l){let H=(await h.exec("echo $PATH")).stdout.trim();l=H?{PATH:H}:{}}a||(a=await jw(h)),!f&&a==="root"&&(f=u);let m=await Ww(h),g=await Uw(h,a);g||e.output.write(_v(`User ${a} not found in /etc/passwd.`));let v=await AK(l,g),w=await bR(l,g),C=Bw(w,e.product),{commit:b,quality:_}=e.product,S=b&&await TK(C,b,_||"insider",e.web),x=Vw(m,_==="stable"),k=b&&i&&await ER(ge.posix,i,x,b,_||"insider",e.web),A=S&&await OK(S),T;p?T=Promise.resolve(p):a==="root"&&(T=Promise.resolve(h));let F={createdAt:r,startedAt:n,osRelease:m,build:x,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:v,homeFolder:w,userDataFolder:C,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:S,sharedInstallFolder:k,remoteWorkspaceFolder:s,nodeExecutable:A,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,shellServer:h};return(T||f)&&(F.launchRootShellServer=()=>T||(T=In(f,e.output))),F}async function jw(t){return(await t.exec("id -un")).stdout.trim()}async function bR(t,e){return t.HOME||e&&e.home||"/root"}async function AK(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function Uw(t,e){let{stdout:r}=await t.exec("cat /etc/passwd",{logOutput:!1});return eh(r,e)}function eh(t,e){return t.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===e||n.uid===e)}async function TK(t,e,r,n){return ge.posix.join(t,"bin",`${e}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}function DK(t){return ge.posix.join(t,"bin")}async function ER(t,e,r,n,i,o){return t.join(e,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function _R(t){return ge.posix.join(t.userDataFolder,"extensions")}function Co(t){return ge.posix.join(t.userDataFolder,"data/Machine")}function uh(t){return ge.posix.join(t.userDataFolder,"data/Machine/settings.json")}function RK(t){return ge.posix.join(t,".vscode-remote")}function Bw(t,e){return ge.posix.join(t,e.serverDataFolderName)}function SR(t){return ge.posix.join("/var",/^\.*(.*)$/.exec(t.serverDataFolderName)[1])}async function OK(t){return ge.posix.join(t,"node")}async function _o(t,e,r,n,i,o=Eo){var C,b;await NK(t,e),await s8(t,e),await a8(t,e);let s=await LK(t,e,r,n),{serverDownloaded:a}=await jK(t,e),c,l,u=Promise.resolve(),d;if(!t.cliMode&&e.nodeExecutable){let _=await Gp(t,e);c=_.remoteContainersCLI,l=_.remoteEnv,u=_.ready,d=_.mrpcExec;let S=t.cliHost.reconnect;S&&(t.cliHost.reconnect=async()=>{await S(),_.reconnect().catch(x=>t.output.write(Re(x&&(x.stack||x.message)||String(x))))})}let p=t.computeExtensionHostEnv||e.installFolder&&t.cliMode||t.postCreate.enabled?su(t,e,await qK(e),r,d).then(_=>W(W(W(W({},_),l),t.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?fR(t.cliHost.platform,r.configFilePath,e.env,r.remoteEnv):{})):Promise.resolve({}),h=(C=s["remote.containers.gitCredentialHelperConfigLocation"])!=null?C:t.credentialHelperConfigLocation;!t.cliMode&&e.nodeExecutable&&(await du(t,e,[".ssh","known_hosts"],"ssh"),h!=="none"&&await dh(e,c,t.output,"system"));let m,g,v,w;if(e.installFolder){let _=Array.from(new Set([...((b=r.vscode)==null?void 0:b.extensions)||[],...(n==null?void 0:n.allFeatures.filter(A=>(xt||A.included)&&A.value).reduce((A,T)=>{var F;return A.concat(((F=T.vscode)==null?void 0:F.extensions)||[])},[]))||[]])),S=await BK(t,e,_),x=await e8(t,e,o,d,S,p),k=x.serverPort;v=x.connectionToken,w=x.webConnectionToken,m=k,t.forwardServerPort&&e.nodeExecutable&&(g=await dR(t,e,k,t.sessionId),m=g.address().port,t.backgroundTasks.push(async()=>i8(t,e,r)))}if(t.postCreate.enabled){let _,S=!1,x=new Promise(A=>_=()=>{S=!0,A()}),k=(async()=>{var A;if((r.waitFor||CR)==="initializeCommand"&&_(),!(t.postCreate.skipNonBlocking&&S)&&(await sC(t,e,r,"onCreateCommand",p,u,i,!1,_),!(t.postCreate.skipNonBlocking&&S)&&(await sC(t,e,r,"updateContentCommand",p,u,i,!!t.prebuild,_),!(t.postCreate.skipNonBlocking&&S)))){if(!t.prebuild){if(await sC(t,e,r,"postCreateCommand",p,u,i,!1,_),t.postCreate.skipNonBlocking&&S||(await KD(t,e,p,u,s),!t.cliMode&&e.nodeExecutable&&(((A=s["remote.containers.copyGitConfig"])!=null?A:t.isCopyGitConfigEnabled)&&(await du(t,e,[".gitconfig"],"git"),await iC(t,e,p.then(T=>W(W({},e.env),T)))),await dh(e,c,t.output,h)),await QK(t,e,r,p,u,i,_),t.postCreate.skipNonBlocking&&S))return;await XK(t,e,r,p,u,i,_)}t.postCreate.done()}})();t.backgroundTasks.push(k),await Promise.race([x,k])}return{hostOrContainerPort:m,hostPortServer:g,connectionToken:v,webConnectionToken:w,remoteEnv:t.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function NK(t,e){let r=RK(e.homeFolder);!await ph(e.shellServer,e.userDataFolder)&&await ph(e.shellServer,r)&&await Li(t,e,["/bin/sh","-c",`cp -r '${r}' '${e.userDataFolder}'`])}async function LK(t,e,r,n){var a;let i=Co(e),o=ge.posix.join(i,".writeMachineSettingsMarker"),s=uh(e);if(await fh(e.shellServer,o)){let c=Object.assign({},...(n==null?void 0:n.allFeatures.filter(l=>{var u;return(xt||l.included)&&l.value&&((u=l.vscode)==null?void 0:u.settings)}).map(l=>{var u;return(u=l.vscode)==null?void 0:u.settings}))||[],(a=r.vscode)==null?void 0:a.settings);if(FK(c,r.portsAttributes),MK(c,r.otherPortsAttributes),Object.keys(c).length)return await e.shellServer.exec(`mkdir -p '${ge.posix.dirname(s)}' && cat >'${s}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),c}try{let{stdout:c}=await e.shellServer.exec(`cat ${s}`);return et(c)||{}}catch{return{}}}function FK(t,e){if(!t||!e)return;let r="remote.portsAttributes";if(!t[r]){t[r]=e;return}for(let n in e)t[r][n]||(t[r][n]=e[n])}function MK(t,e){if(!t||!e)return;let r="remote.otherPortsAttributes";t[r]||(t[r]=e)}async function qK(t){let{nodeExecutable:e,shellServer:r,userDataFolder:n}=t;if(e)return e;try{let{stdout:i}=await r.exec(`ls ${DK(n)}/*/node | head -n 1`);return i.trim()}catch{return"node"}}async function uu(t,e,r,n){let i=typeof t.gid=="string"?`${t.user}:${t.gid}`:t.user,o=await e();if((await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let c=ge.posix.dirname(r);c!=="/"&&await o.exec(`chown ${i} ${c}`),r!=="/"&&await o.exec(`chown -R ${i} ${r}`)}else if(n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=ge.posix.dirname(n);u!=="/"&&await o.exec(`chown -R ${i} ${u}`)}}async function dh(t,e,r,n){if(e&&n!=="none"){let i=n==="system"?t.launchRootShellServer&&await t.launchRootShellServer():t.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} --replace-all credential.helper '!f() { ${t.nodeExecutable} ${e} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function du(t,e,r,n){let{cliHost:i}=t,o=i.path.join(await i.homedir(),...r),s=ge.posix.join(e.homeFolder,...r);await ic(t,e,o,s,n)}async function iC(t,e,r){let{cliHost:n}=t,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let l=await r,u=l.XDG_CONFIG_HOME?[l.XDG_CONFIG_HOME]:[e.homeFolder,".config"];return ge.posix.join(...u,...o)})();await ic(t,e,a,c,"git")}async function ic(t,e,r,n,i){let o=await $K(t.cliHost,r);if(o)try{let s=await n;await e.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${ge.posix.dirname(s)}`),await e.shellServer.exec(`# Copy ${r} to ${s}
${fu(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function $K(t,e){try{return await t.readFile(e)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function jK(t,e){let{commit:r}=t.product,{installFolder:n,shellServer:i,launchRootShellServer:o,build:s}=e;if(!(r&&n))return{serverDownloaded:void 0};UK(e.osRelease,s),s.preview&&t.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await ph(i,n),c;a||s===IR[s.arch]&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let l=e.sharedInstallFolder;if(l&&await ph(i,l))return a||await i.exec(`mkdir -p '${ge.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${l}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};t.progress(4),t.output.write(`Installing VS Code Server for commit ${r}\r
`);let u=!!(l&&o),d=u?l:n,f=u?await o():i,p={localCacheFolder:t.localCacheFolder,build:s,commit:r,quality:t.product.quality||"insider",web:t.web,output:t.output,alternateDownload:t.alternateDownload},h=iu(p),m=await ht(h);m||await Yp(p);try{e.sharedDataFolderIsLocalCacheFolder?await xR(p):await nu(t,f,h,d)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await Yp(p),e.sharedDataFolderIsLocalCacheFolder?await xR(p):await nu(t,f,h,d);else throw g}return u&&(await i.exec(`mkdir -p '${ge.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),(async()=>{await f.exec(`cd '${ge.posix.dirname(l)}' && ls -t | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function UK(t,e){let r=t.version;if(e.minVersion&&r){let n=Bs(r.trim());if(n&&fc(n,e.minVersion)){let i=`${e.label} ${e.minVersion.join(".")} or later required.`;throw new ce({description:i,data:{reload:!1}})}}}async function Yp(t){let{build:e,commit:r,quality:n,web:i,output:o}=t,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${e.id} ${n} ${i?"web":""}`);let c=iu(t);await Rr(ge.dirname(c));let l=`https://update.code.visualstudio.com/commit:${r}/server-${e.id}${i?"-web":""}/${n}`;try{let u=`${c}_${Date.now()}`;await new Promise((d,f)=>{let p=ah.createWriteStream(u);gR.https.get(l,m=>{if(m.statusCode<200||m.statusCode>299){f(new ce({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${l}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}m.on("error",f),m.pipe(p),m.on("end",d)}).on("error",f)}),await Si(u,c)}catch(u){if(t.alternateDownload){o.write(u&&(u.originalError||u.message)),o.write("Retrying to download VS Code Server.");let d=`${c}_${Date.now()}`;await t.alternateDownload(l,d),await Si(d,c)}else throw u||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function nu(t,e,r,n,i,o=!0){let s="Installing VS Code Server",a=t.output.start(s);try{let c=`${n}_${Date.now()}`;if(await e.exec(`mkdir -p ${c}`),i)typeof r=="string"&&r.endsWith(".zip")?await e.exec(`unzip ${r} -d ${c}`):await e.exec(`cat ${r} | tar --no-same-owner -x${o?"z":""} -C ${c}`);else{let l=typeof r=="string"?await Le(r):r;await e.exec(`${fu(l.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${c}`,{stdin:l})}await e.exec(`mv -n ${ge.posix.join(c,"*",".")} ${n} && rmdir ${c}`)}finally{t.output.stop(s,a)}}async function xR(t){let{localCacheFolder:e,build:r,commit:n,quality:i,web:o,output:s}=t,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);try{let l=await ER(ge,e,r,n,i,o),u=`${l}_${Date.now()}`;await Rr(u);let d=iu(t);await(await js(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",d,"--strip-components","1","-C",u],cwd:process.cwd(),output:s})).exit,await Cv(l,{recursive:!0}),await Si(u,l)}finally{s.stop(a,c)}}function iu(t){let{localCacheFolder:e,build:r,commit:n,quality:i,web:o}=t,s=ge.join(e,"serverCache",n),a=`vscode-server-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${r.archiveExt||".tar.gz"}`;return ge.join(s,a)}async function PR(t,e){let r={VSCODE_AGENT_FOLDER:e.userDataFolder},{stdout:n}=await Li(t,e,[ge.posix.join(e.installFolder,...Kw(t.product)),...TR(e.userDataFolder),...RR(t.telemetry),"--list-extensions"],e.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function BK(t,e,r){let n="Preparing Extensions",i=t.output.start(n),{sharedDataFolder:o}=e,s=o?KK(o):void 0,a=kR(e),c=await HK(t,e,r);if(e.sharedDataFolderIsLocalCacheFolder)e.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),e.launchRootShellServer&&(await e.launchRootShellServer()).exec(`chown -R ${e.user} ${s}`);else{let l=zK(t.localCacheFolder),u=await VK(t,e,l,s,a,[...c.builtinExtensions,...c.extensions]);WK(t,e,l,s,a,u).catch(console.error)}return t.output.stop(n,i),c}async function HK(t,e,r){let n=Co(e),i=ge.posix.join(n,".installExtensionsMarker"),o=!await fh(e.shellServer,i),s=o?[]:t.installBuiltinExtensions||[],a=await t.getExtensionsToInstall(o,r),c=[].concat(...s.map(l=>["--install-builtin-extension",l]),...a.map(l=>["--install-extension",l]));return t.cliMode&&c.length&&c.push("--do-not-sync"),{builtinExtensions:s,extensions:a,args:c}}async function VK(t,e,r,n,i,o){t.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=e,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>o.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:u}=e;u&&(async()=>{await(await u()).exec(`cd ${n} && touch ${l.map(f=>`'${f}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Rr(r);let c=await Yr(r),l=c.filter(u=>o.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=ge.basename(r),d=ch.c({cwd:ge.dirname(r)},l.map(h=>ge.join(u,h))),f=ge.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];d.on("data",g=>m.push(g)),d.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${f}
${fu(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${f}
mv ${f}/* ${i} && rmdir ${f}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function WK(t,e,r,n,i,o){if(n&&!e.launchRootShellServer)return;let s=1e4,a=6e4;for(await ei(s);;)o=await GK(t,e,r,n,i,o),await ei(a)}async function GK(t,e,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=e,u=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(f=>!!f);if(!n){let f=o.filter(p=>u.indexOf(p)===-1);t.output.write(`Extensions cache, remote removals: ${f.join(", ")||"None"}`);for(let p of f)try{await sS(ge.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let d=u.filter(f=>o.indexOf(f)===-1&&s.indexOf(f)===-1);if(t.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${d.join(", ")||"None"}`,se.Trace),d.length)if(n){let f=await c();await f.exec(`mkdir -p '${n}' && cd '${i}' && cp ${d.map(p=>`'${p}'`).join(" ")} '${n}'`),await f.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let f=ge.posix.basename(i),p=await l({cmd:"tar",cwd:ge.posix.dirname(i),args:["c",...d.map(v=>ge.posix.join(f,v))],output:t.output}),h=ge.join(ge.dirname(r),`${ge.basename(r)}-${Date.now()}`);await Rr(h);let m=ch.x({cwd:h,strip:1}),g=new Promise((v,w)=>{m.on("error",w),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await Yr(h))await Si(ge.join(h,v),ge.join(r,v));await Cv(h)}return{remoteExtensions:u,cachedExtensions:s}}var oC="extensionsCache";function zK(t){return ge.join(t,oC)}function KK(t){return ge.posix.join(t,oC)}function kR(t){return ge.posix.join(t.userDataFolder,oC)}var YK={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},IR={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},Hw={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},JK={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function Vw(t,e){let r=JK[t.hardware];if(t.id==="alpine"){let i=r&&IR[r];if(!i)throw new ce({description:`Alpine Linux is not supported on the hardware architecture '${t.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let n=r&&YK[r];if(!n||e&&!n.stable)throw new ce({description:`The hardware architecture '${t.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return n}async function Ww(t){let e="unknown",r="unknown",n="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:i}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:e,id:r,version:n}}async function sC(t,e,r,n,i,o,s,a,c){let l=ge.posix.join(Co(e),`.${n}Marker`),u=!!e.createdAt&&await AR(e.shellServer,l,e.createdAt)||a;await aC(t,e,r,n,i,o,s,u,c)}async function QK(t,e,r,n,i,o,s){let a=ge.posix.join(Co(e),".postStartCommandMarker"),c=!!e.startedAt&&await AR(e.shellServer,a,e.startedAt);await aC(t,e,r,"postStartCommand",n,i,o,c,s)}async function AR(t,e,r){try{return await t.exec(`mkdir -p '${ge.posix.dirname(e)}' && CONTENT="$(cat '${e}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${e}'`),!0}catch{return!1}}async function XK(t,e,r,n,i,o,s){await aC(t,e,r,"postAttachCommand",n,i,o,!0,s)}async function aC({postCreate:t},e,r,n,i,o,s,a,c){let l=r[n];if(a&&l&&(typeof l=="string"?l.trim():l.length)){await o,s&&await s();let u=`Running ${n}...`,d=typeof l=="string"?l:l.join(" "),f=mt({event(p){t.output.event(p),p.type==="raw"&&p.text.includes("::endstep::")&&t.output.event({type:"progress",name:u,status:"running",stepDetail:""}),p.type==="raw"&&p.text.includes("::step::")&&t.output.event({type:"progress",name:u,status:"running",stepDetail:`${p.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return t.output.dimensions},onDidChangeDimensions:t.output.onDidChangeDimensions},se.Info);try{f.event({type:"progress",name:u,status:"running",stepDetail:d});let p=e.remoteWorkspaceFolder||e.homeFolder;f.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await o8(oe(W({},t),{output:f}),e,typeof l=="string"?["/bin/sh","-c",l]:l,p,{remoteEnv:await i,print:"continuous"}),f.raw(`\r
`),f.event({type:"progress",name:u,status:"succeeded"})}catch(p){if(f.event({type:"progress",name:u,status:"failed"}),p&&(p.code===130||p.signal===2))f.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw(p==null?void 0:p.code)&&f.write(Re(`${n} failed with exit code ${p.code}. Skipping any further user-provided commands.`)),new ce({description:`The ${n} in the devcontainer.json failed.`,originalError:p})}}n===(r.waitFor||CR)&&c()}async function fh(t,e){try{return await t.exec(nh(e)),!0}catch{return!1}}function nh(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${ge.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function ph(t,e){try{return await ZK(t,e),!0}catch{return!1}}async function ZK(t,e){return t.exec(`test -d ${e}`)}async function e8(t,e,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:l}=e,{processes:u,mntNS:d}=await ww(l),f=new RegExp(`${ge.posix.join(ge.posix.dirname(a).replace(".","\\."),"[^/]*","server.sh")}`),p=u.filter(Q=>Q.mntNS===d&&f.test(Q.cmd));t.output.write(`Running extension host agents:
${JSON.stringify(p,void 0,"  ")}`,se.Trace);let{current:h,others:m}=p.reduce((Q,J)=>(Q[(J.cwd===a||J.cwd===c)&&f.test(J.cmd)?"current":"others"].push(J),Q),{current:[],others:[]});if(!t.cliMode&&m.length){t.output.write(`Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${m.map(Q=>Q.pgrp?`-${Q.pgrp}`:Q.pid).join(" ")}`)}catch{}}let{commit:g,quality:v}=t.product,w=ge.posix.join(Co(e),`.connection-token-${g}${v==="stable"?"":`-${v}`}${t.web?"-web":""}`),C=ge.posix.join(Co(e),`.devport-${g}${v==="stable"?"":`-${v}`}${t.web?"-web":""}`);if(h.length){t.output.write(`Extension host agent is already running.\r
`);try{let{stdout:Q}=await l.exec(`cat '${C}' 2>/dev/null`),J=Q.toString().trim(),le=parseInt(J,10),G=h[0].cmd.indexOf(` ${DR(t.product)} `)!==-1?(await l.exec(`cat '${w}'`)).stdout.toString().trim():void 0,M=(/--connectionToken ([^ ]+) /.exec(h[0].cmd)||[])[1];return{serverPort:le,connectionToken:G,webConnectionToken:M}}catch(Q){console.error(Q),t.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${h.map(J=>J.pgrp?`-${J.pgrp}`:J.pid).join(" ")}`)}catch{}}}let b=!!t.webConnectionToken,_;if(!b){let Q=`${w}-${cw()}`,{stdout:J}=await l.exec(`cat '${w}' 2>/dev/null || (umask 377 && echo '${cw()}' >'${Q}' && mv -n '${Q}' '${w}' && rm -f '${Q}' && cat '${w}')`);_=J.toString().trim()}t.progress(5);let S="Starting VS Code Server",x=t.output.start(S),k=[ge.posix.join(a,...Kw(t.product,b)),"--log",fS(t.getLogLevel()),"--force-disable-user-env",...TR(e.userDataFolder),...t8(t),...RR(t.telemetry),"--accept-server-license-terms","--host","127.0.0.1","--port",String(r),...t.webConnectionToken?["--connectionToken",t.webConnectionToken]:[],..._?[DR(t.product),w]:[],"--extensions-download-dir",kR(e),...i.args,"--start-server",...t.isLocalContainer?["--disable-websocket-compression"]:[""],...t.cliMode?["--enable-remote-auto-shutdown"]:[]],T=(await Li(t,{remoteExec:await n||e.remoteExec},k,a,{remoteEnv:W({SHELL:e.shell,VSCODE_AGENT_FOLDER:s},t.cliMode?await o:{}),resolveOn:wR,print:"continuous"})).cmdOutput;t.output.stop(S,x);let F=(wR.exec(T)||[])[1];if(!F)throw new Error("Port not found");return await l.exec(`echo ${F} >'${C}'`),{serverPort:parseInt(F,10),connectionToken:_,webConnectionToken:t.webConnectionToken}}function TR(t){return["--server-data-dir",t]}function DR(t){return t.serverApplicationName?"--connection-token-file":"--connection-secret"}function t8(t){return t.isLocalContainer?["--use-host-proxy"]:[]}function RR(t){return t?[]:["--disable-telemetry"]}var r8=/^([a-z0-9\-]+):(\d{1,5})$/;function n8(t){let e=t.match(r8);if(!(!e||e.length!==3))return{host:e[1],port:Number(e[2])}}async function i8(t,e,r){let n=await t.getTunnels();await Promise.all((r.forwardPorts||[]).filter(i=>!n.find(o=>o.remoteAddress.port===i)).map(async i=>{let o,s;if(typeof i=="number")o=i;else{let a=n8(i);if(!a)return;s=a.host,o=a.port}return t.openTunnel(e,o,s)}))}async function o8(t,{remotePtyExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?rt:t.output}),a="",c,l=new Promise(f=>{c=f});s.onData(f=>{a+=f,o==="continuous"&&t.output.raw(f),i.resolveOn&&i.resolveOn.exec(a)&&c()});let u=t.onDidInput&&t.onDidInput(f=>s.write(f)),d=await Promise.race([s.exit,l]);return u&&u.dispose(),o==="end"&&t.output.raw(a),d&&(d.code||d.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:d.code,signal:d.signal}):{cmdOutput:a}}async function Li(t,{remoteExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?rt:t.output}),a=[],c=[],l=new nC.StringDecoder,u=new nC.StringDecoder,d="",f="",p,h,m=new Promise((b,_)=>{p=b,h=_});s.stdout.on("data",b=>{a.push(b);let _=l.write(b);o==="continuous"&&t.output.write(_.replace(/\r?\n/g,`\r
`)),d+=_,i.resolveOn&&i.resolveOn.exec(d)&&p()}),s.stderr.on("data",b=>{c.push(b),f+=u.write(b)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,b=>{b&&h(b)}),s.stdin.end()):i.stdin instanceof ah.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),w=Buffer.concat(c);o==="end"&&(t.output.write(d.replace(/\r?\n/g,`\r
`)),t.output.write(Re(f)));let C=`${d}
${f}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:C,stdout:v,stderr:w,code:g.code,signal:g.signal}):{cmdOutput:C,stdout:v,stderr:w}}function fu(t){let e=8*1024,r=t%e,n=(t-r)/e;return`(dd iflag=fullblock bs=${e} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function s8(t,e){let r=ge.posix.join(SR(t.product),".patchEtcEnvironmentMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await ru(e.shellServer,r)){let n=await e.launchRootShellServer();await fh(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(e.env).map(i=>`
${i}="${e.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function a8(t,e){let r=ge.posix.join(SR(t.product),".patchEtcProfileMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await ru(e.shellServer,r)){let n=await e.launchRootShellServer();await fh(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function su(t,e,r,n,i){var s;let{userEnvProbe:o}=n||{};if(t.output.write(`userEnvProbe: ${o||t.defaultUserEnvProbe}${o?"":" (default)"}`),o||(o=t.defaultUserEnvProbe),o==="none")return{};try{let c=(await(0,yR.promisify)(vR.randomBytes)(16)).toString("hex"),l=new RegExp(c+"(.*)"+c),u=e.shell;t.output.write(`userEnvProbe shell: ${u}`);let d=ge.posix.basename(u),f,p;/^pwsh(-preview)?$/.test(d)?(f=`& '${r}' -p '''${c}'' + JSON.stringify(process.env) + ''${c}'''`,p=o==="loginInteractiveShell"||o==="loginShell"?["-Login","-Command"]:["-Command"]):(f=`'${r}' -p '"${c}" + JSON.stringify(process.env) + "${c}"'`,p=[o==="loginInteractiveShell"?"-lic":o==="loginShell"?"-lc":o==="interactiveShell"?"-ic":"-c"]);let h=mt(t.output,se.Trace),m=Li({output:h},{remoteExec:await i||e.remoteExec},[u,...p,f],e.installFolder);Promise.race([m,ei(2e3)]).then(async k=>{if(!k){let A,T=e.shellServer||await In(e.remoteExec,t.output);try{({processes:A}=await ww(T))}finally{e.shellServer||await T.process.terminate()}let F=A.find(H=>H.cmd.startsWith(u)&&H.cmd.indexOf(c)!==-1);if(F){let Q=yA(A)[F.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${Cw(Q)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(k=>t.output.write(Re(k&&(k.stack||k.message)||"Error reading process tree.")));let g=await Promise.race([m,ei(1e4)]);if(!g)return t.output.write(Re("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let v=g.stdout.toString(),w=l.exec(v),C=w?w[1]:"{}",b=JSON.parse(C);t.output.write(`userEnvProbe parsed: ${JSON.stringify(b,void 0,"  ")}`,se.Trace),delete b.PWD;let _=b.PATH,S=(s=e.env)==null?void 0:s.PATH,x=!(t.allowSystemConfigChange&&e.launchRootShellServer)&&_&&S;if(x){let k=e.user;b.PATH=c8(_,S,k==="root"||k==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof _=="string"?`'${_}'`:"None"}
Container: ${typeof S=="string"?`'${S}'`:"None"}${x?`
Merged:    ${typeof b.PATH=="string"?`'${b.PATH}'`:"None"}`:""}`),b}catch(a){return t.output.write(Re(a&&(a.stack||a.message)||"Error reading shell environment.")),{}}}function c8(t,e,r){let n=t.split(":"),i=0;for(let o of e.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function OR(t){for(let e of t)await(typeof e=="function"?e():e)}var SO=Y(require("crypto")),yu=Y(require("path"));function NR(t){return typeof t=="undefined"||t===null}function l8(t){return typeof t=="object"&&t!==null}function u8(t){return Array.isArray(t)?t:NR(t)?[]:[t]}function d8(t,e){var r,n,i,o;if(e)for(o=Object.keys(e),r=0,n=o.length;r<n;r+=1)i=o[r],t[i]=e[i];return t}function f8(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function p8(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var h8=NR,m8=l8,g8=u8,v8=f8,y8=p8,w8=d8,Ot={isNothing:h8,isObject:m8,toArray:g8,repeat:v8,isNegativeZero:y8,extend:w8};function LR(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function pu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=LR(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}pu.prototype=Object.create(Error.prototype);pu.prototype.constructor=pu;pu.prototype.toString=function(e){return this.name+": "+LR(this,e)};var Cr=pu;function cC(t,e,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-e>a&&(o=" ... ",e=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+t.slice(e,r).replace(/\t/g,"\u2192")+s,pos:n-e+o.length}}function lC(t,e){return Ot.repeat(" ",e-t.length)+t}function C8(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(t.buffer);)i.push(o.index),n.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+u+3);for(c=1;c<=e.linesBefore&&!(s-c<0);c++)l=cC(t.buffer,n[s-c],i[s-c],t.position-(n[s]-n[s-c]),d),a=Ot.repeat(" ",e.indent)+lC((t.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=cC(t.buffer,n[s],i[s],t.position,d),a+=Ot.repeat(" ",e.indent)+lC((t.line+1).toString(),u)+" | "+l.str+`
`,a+=Ot.repeat("-",e.indent+u+3+l.pos)+`^
`,c=1;c<=e.linesAfter&&!(s+c>=i.length);c++)l=cC(t.buffer,n[s+c],i[s+c],t.position-(n[s]-n[s+c]),d),a+=Ot.repeat(" ",e.indent)+lC((t.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var b8=C8,E8=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_8=["scalar","sequence","mapping"];function S8(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function x8(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(E8.indexOf(r)===-1)throw new Cr('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=S8(e.styleAliases||null),_8.indexOf(this.kind)===-1)throw new Cr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ir=x8;function FR(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function P8(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function uC(t){return this.extend(t)}uC.prototype.extend=function(e){var r=[],n=[];if(e instanceof ir)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Cr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof ir))throw new Cr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Cr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Cr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof ir))throw new Cr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(uC.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=FR(i,"implicit"),i.compiledExplicit=FR(i,"explicit"),i.compiledTypeMap=P8(i.compiledImplicit,i.compiledExplicit),i};var k8=uC,I8=new ir("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),A8=new ir("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),T8=new ir("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),D8=new k8({explicit:[I8,A8,T8]});function R8(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function O8(){return null}function N8(t){return t===null}var L8=new ir("tag:yaml.org,2002:null",{kind:"scalar",resolve:R8,construct:O8,predicate:N8,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function F8(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function M8(t){return t==="true"||t==="True"||t==="TRUE"}function q8(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var $8=new ir("tag:yaml.org,2002:bool",{kind:"scalar",resolve:F8,construct:M8,predicate:q8,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function j8(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function U8(t){return 48<=t&&t<=55}function B8(t){return 48<=t&&t<=57}function H8(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!j8(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!U8(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!B8(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function V8(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function W8(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!Ot.isNegativeZero(t)}var G8=new ir("tag:yaml.org,2002:int",{kind:"scalar",resolve:H8,construct:V8,predicate:W8,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z8=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function K8(t){return!(t===null||!z8.test(t)||t[t.length-1]==="_")}function Y8(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var J8=/^[-+]?[0-9]+e/;function Q8(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ot.isNegativeZero(t))return"-0.0";return r=t.toString(10),J8.test(r)?r.replace("e",".e"):r}function X8(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||Ot.isNegativeZero(t))}var Z8=new ir("tag:yaml.org,2002:float",{kind:"scalar",resolve:K8,construct:Y8,predicate:X8,represent:Q8,defaultStyle:"lowercase"}),e5=D8.extend({implicit:[L8,$8,G8,Z8]}),t5=e5,MR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function r5(t){return t===null?!1:MR.exec(t)!==null||qR.exec(t)!==null}function n5(t){var e,r,n,i,o,s,a,c=0,l=null,u,d,f;if(e=MR.exec(t),e===null&&(e=qR.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(u=+e[10],d=+(e[11]||0),l=(u*60+d)*6e4,e[9]==="-"&&(l=-l)),f=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&f.setTime(f.getTime()-l),f}function i5(t){return t.toISOString()}var o5=new ir("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r5,construct:n5,instanceOf:Date,represent:i5});function s5(t){return t==="<<"||t===null}var a5=new ir("tag:yaml.org,2002:merge",{kind:"scalar",resolve:s5}),dC=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function c5(t){if(t===null)return!1;var e,r,n=0,i=t.length,o=dC;for(r=0;r<i;r++)if(e=o.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8==0}function l5(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,o=dC,s=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function u5(t){var e="",r=0,n,i,o=t.length,s=dC;for(n=0;n<o;n++)n%3==0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=o%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}function d5(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var f5=new ir("tag:yaml.org,2002:binary",{kind:"scalar",resolve:c5,construct:l5,predicate:d5,represent:u5}),p5=Object.prototype.hasOwnProperty,h5=Object.prototype.toString;function m5(t){if(t===null)return!0;var e=[],r,n,i,o,s,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,h5.call(i)!=="[object Object]")return!1;for(o in i)if(p5.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function g5(t){return t!==null?t:[]}var v5=new ir("tag:yaml.org,2002:omap",{kind:"sequence",resolve:m5,construct:g5}),y5=Object.prototype.toString;function w5(t){if(t===null)return!0;var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],y5.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[e]=[i[0],n[i[0]]]}return!0}function C5(t){if(t===null)return[];var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),o[e]=[i[0],n[i[0]]];return o}var b5=new ir("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:w5,construct:C5}),E5=Object.prototype.hasOwnProperty;function _5(t){if(t===null)return!0;var e,r=t;for(e in r)if(E5.call(r,e)&&r[e]!==null)return!1;return!0}function S5(t){return t!==null?t:{}}var x5=new ir("tag:yaml.org,2002:set",{kind:"mapping",resolve:_5,construct:S5}),$R=t5.extend({implicit:[o5,a5],explicit:[f5,v5,b5,x5]}),So=Object.prototype.hasOwnProperty,hh=1,jR=2,UR=3,mh=4,fC=1,P5=2,BR=3,k5=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,I5=/[\x85\u2028\u2029]/,A5=/[,\[\]\{\}]/,HR=/^(?:!|!!|![a-z\-]+!)$/i,VR=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function WR(t){return Object.prototype.toString.call(t)}function ti(t){return t===10||t===13}function Hs(t){return t===9||t===32}function br(t){return t===9||t===32||t===10||t===13}function mc(t){return t===44||t===91||t===93||t===123||t===125}function T5(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function D5(t){return t===120?2:t===117?4:t===85?8:0}function R5(t){return 48<=t&&t<=57?t-48:-1}function GR(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function O5(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var zR=new Array(256),KR=new Array(256);for(Vs=0;Vs<256;Vs++)zR[Vs]=GR(Vs)?1:0,KR[Vs]=GR(Vs);var Vs;function N5(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||$R,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function YR(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=b8(r),new Cr(e,r)}function me(t,e){throw YR(t,e)}function gh(t,e){t.onWarning&&t.onWarning.call(null,YR(t,e))}var JR={YAML:function(e,r,n){var i,o,s;e.version!==null&&me(e,"duplication of %YAML directive"),n.length!==1&&me(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&me(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&me(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&gh(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,o;n.length!==2&&me(e,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],HR.test(i)||me(e,"ill-formed tag handle (first argument) of the TAG directive"),So.call(e.tagMap,i)&&me(e,'there is a previously declared suffix for "'+i+'" tag handle'),VR.test(o)||me(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{me(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function xo(t,e,r,n){var i,o,s,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||me(t,"expected valid JSON character");else k5.test(a)&&me(t,"the stream contains non-printable characters");t.result+=a}}function QR(t,e,r,n){var i,o,s,a;for(Ot.isObject(r)||me(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],So.call(e,o)||(e[o]=r[o],n[o]=!0)}function gc(t,e,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&me(t,"nested arrays are not supported inside keys"),typeof i=="object"&&WR(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&WR(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)QR(t,e,o[l],r);else QR(t,e,o,r);else!t.json&&!So.call(r,i)&&So.call(e,i)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,me(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete r[i];return e}function pC(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):me(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Pt(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Hs(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(ti(i))for(pC(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&gh(t,"deficient indentation"),n}function vh(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||br(r)))}function hC(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ot.repeat(`
`,e-1))}function L5(t,e,r){var n,i,o,s,a,c,l,u,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),br(p)||mc(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),br(i)||r&&mc(i)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),br(i)||r&&mc(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),br(n))break}else{if(t.position===t.lineStart&&vh(t)||r&&mc(p))break;if(ti(p))if(c=t.line,l=t.lineStart,u=t.lineIndent,Pt(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=c,t.lineStart=l,t.lineIndent=u;break}}a&&(xo(t,o,s,!1),hC(t,t.line-c),o=s=t.position,a=!1),Hs(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return xo(t,o,s,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function F5(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(xo(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else ti(r)?(xo(t,n,i,!0),hC(t,Pt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&vh(t)?me(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);me(t,"unexpected end of the stream within a single quoted scalar")}function M5(t,e){var r,n,i,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return xo(t,r,t.position,!0),t.position++,!0;if(a===92){if(xo(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),ti(a))Pt(t,!1,e);else if(a<256&&zR[a])t.result+=KR[a],t.position++;else if((s=D5(a))>0){for(i=s,o=0;i>0;i--)a=t.input.charCodeAt(++t.position),(s=T5(a))>=0?o=(o<<4)+s:me(t,"expected hexadecimal character");t.result+=O5(o),t.position++}else me(t,"unknown escape sequence");r=n=t.position}else ti(a)?(xo(t,r,n,!0),hC(t,Pt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&vh(t)?me(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}me(t,"unexpected end of the stream within a double quoted scalar")}function q5(t,e){var r=!0,n,i,o,s=t.tag,a,c=t.anchor,l,u,d,f,p,h=Object.create(null),m,g,v,w;if(w=t.input.charCodeAt(t.position),w===91)u=93,p=!1,a=[];else if(w===123)u=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),w=t.input.charCodeAt(++t.position);w!==0;){if(Pt(t,!0,e),w=t.input.charCodeAt(t.position),w===u)return t.position++,t.tag=s,t.anchor=c,t.kind=p?"mapping":"sequence",t.result=a,!0;r?w===44&&me(t,"expected the node content, but found ','"):me(t,"missed comma between flow collection entries"),g=m=v=null,d=f=!1,w===63&&(l=t.input.charCodeAt(t.position+1),br(l)&&(d=f=!0,t.position++,Pt(t,!0,e))),n=t.line,i=t.lineStart,o=t.position,vc(t,e,hh,!1,!0),g=t.tag,m=t.result,Pt(t,!0,e),w=t.input.charCodeAt(t.position),(f||t.line===n)&&w===58&&(d=!0,w=t.input.charCodeAt(++t.position),Pt(t,!0,e),vc(t,e,hh,!1,!0),v=t.result),p?gc(t,a,h,g,m,v,n,i,o):d?a.push(gc(t,null,h,g,m,v,n,i,o)):a.push(m),Pt(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}me(t,"unexpected end of the stream within a flow collection")}function $5(t,e){var r,n,i=fC,o=!1,s=!1,a=e,c=0,l=!1,u,d;if(d=t.input.charCodeAt(t.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)fC===i?i=d===43?BR:P5:me(t,"repeat of a chomping mode identifier");else if((u=R5(d))>=0)u===0?me(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?me(t,"repeat of an indentation width identifier"):(a=e+u-1,s=!0);else break;if(Hs(d)){do d=t.input.charCodeAt(++t.position);while(Hs(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!ti(d)&&d!==0)}for(;d!==0;){for(pC(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),ti(d)){c++;continue}if(t.lineIndent<a){i===BR?t.result+=Ot.repeat(`
`,o?1+c:c):i===fC&&o&&(t.result+=`
`);break}for(n?Hs(d)?(l=!0,t.result+=Ot.repeat(`
`,o?1+c:c)):l?(l=!1,t.result+=Ot.repeat(`
`,c+1)):c===0?o&&(t.result+=" "):t.result+=Ot.repeat(`
`,c):t.result+=Ot.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=t.position;!ti(d)&&d!==0;)d=t.input.charCodeAt(++t.position);xo(t,r,t.position,!1)}return!0}function XR(t,e){var r,n=t.tag,i=t.anchor,o=[],s,a=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,me(t,"tab characters must not be used in indentation")),!(c!==45||(s=t.input.charCodeAt(t.position+1),!br(s))));){if(a=!0,t.position++,Pt(t,!0,-1)&&t.lineIndent<=e){o.push(null),c=t.input.charCodeAt(t.position);continue}if(r=t.line,vc(t,e,UR,!1,!0),o.push(t.result),Pt(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&c!==0)me(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function j5(t,e,r){var n,i,o,s,a,c,l=t.tag,u=t.anchor,d={},f=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),w=t.input.charCodeAt(t.position);w!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,me(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),o=t.line,(w===63||w===58)&&br(n))w===63?(g&&(gc(t,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):me(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;else{if(s=t.line,a=t.lineStart,c=t.position,!vc(t,r,jR,!1,!0))break;if(t.line===o){for(w=t.input.charCodeAt(t.position);Hs(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),br(w)||me(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(gc(t,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=t.tag,h=t.result;else if(v)me(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=l,t.anchor=u,!0}else if(v)me(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=l,t.anchor=u,!0}if((t.line===o||t.lineIndent>e)&&(g&&(s=t.line,a=t.lineStart,c=t.position),vc(t,e,mh,!0,i)&&(g?h=t.result:m=t.result),g||(gc(t,d,f,p,h,m,s,a,c),p=h=m=null),Pt(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&w!==0)me(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&gc(t,d,f,p,h,null,s,a,c),v&&(t.tag=l,t.anchor=u,t.kind="mapping",t.result=d),v}function U5(t){var e,r=!1,n=!1,i,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&me(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):me(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!br(s);)s===33&&(n?me(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),HR.test(i)||me(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),A5.test(o)&&me(t,"tag suffix cannot contain flow indicator characters")}o&&!VR.test(o)&&me(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{me(t,"tag name is malformed: "+o)}return r?t.tag=o:So.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:me(t,'undeclared tag handle "'+i+'"'),!0}function B5(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&me(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!br(r)&&!mc(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&me(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function H5(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!br(n)&&!mc(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&me(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),So.call(t.anchorMap,r)||me(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Pt(t,!0,-1),!0}function vc(t,e,r,n,i){var o,s,a,c=1,l=!1,u=!1,d,f,p,h,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=mh===r||UR===r,n&&Pt(t,!0,-1)&&(l=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;U5(t)||B5(t);)Pt(t,!0,-1)?(l=!0,a=o,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||mh===r)&&(hh===r||jR===r?m=e:m=e+1,g=t.position-t.lineStart,c===1?a&&(XR(t,g)||j5(t,g,m))||q5(t,m)?u=!0:(s&&$5(t,m)||F5(t,m)||M5(t,m)?u=!0:H5(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&me(t,"alias node should not have any properties")):L5(t,m,hh===r)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(u=a&&XR(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&me(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(h=t.implicitTypes[d],h.resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(So.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){h=p[d];break}h||me(t,"unknown tag !<"+t.tag+">"),t.result!==null&&h.kind!==t.kind&&me(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):me(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function V5(t){var e=t.position,r,n,i,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Pt(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!br(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&me(t,"directive name must not be less than one character in length");s!==0;){for(;Hs(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!ti(s));break}if(ti(s))break;for(r=t.position;s!==0&&!br(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&pC(t),So.call(JR,n)?JR[n](t,n,i):gh(t,'unknown document directive "'+n+'"')}if(Pt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Pt(t,!0,-1)):o&&me(t,"directives end mark is expected"),vc(t,t.lineIndent-1,mh,!1,!0),Pt(t,!0,-1),t.checkLineBreaks&&I5.test(t.input.slice(e,t.position))&&gh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&vh(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Pt(t,!0,-1));return}if(t.position<t.length-1)me(t,"end of the stream or a document separator is expected");else return}function ZR(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new N5(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,me(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)V5(r);return r.documents}function W5(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=ZR(t,r);if(typeof e!="function")return n;for(var i=0,o=n.length;i<o;i+=1)e(n[i])}function G5(t,e){var r=ZR(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Cr("expected a single document in the stream, but found more")}}var z5=W5,K5=G5,eO={loadAll:z5,load:K5},tO=Object.prototype.toString,rO=Object.prototype.hasOwnProperty,mC=65279,Y5=9,hu=10,J5=13,Q5=32,X5=33,Z5=34,gC=35,eY=37,tY=38,rY=39,nY=42,nO=44,iY=45,yh=58,oY=61,sY=62,aY=63,cY=64,iO=91,oO=93,lY=96,sO=123,uY=124,aO=125,or={};or[0]="\\0";or[7]="\\a";or[8]="\\b";or[9]="\\t";or[10]="\\n";or[11]="\\v";or[12]="\\f";or[13]="\\r";or[27]="\\e";or[34]='\\"';or[92]="\\\\";or[133]="\\N";or[160]="\\_";or[8232]="\\L";or[8233]="\\P";var dY=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],fY=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function pY(t,e){var r,n,i,o,s,a,c;if(e===null)return{};for(r={},n=Object.keys(e),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=t.compiledTypeMap.fallback[s],c&&rO.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function hY(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Cr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ot.repeat("0",n-e.length)+e}var mY=1,mu=2;function gY(t){this.schema=t.schema||$R,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ot.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=pY(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?mu:mY,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function cO(t,e){for(var r=Ot.repeat(" ",e),n=0,i=-1,o="",s,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=a):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function vC(t,e){return`
`+Ot.repeat(" ",t.indent*e)}function vY(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function wh(t){return t===Q5||t===Y5}function gu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==mC||65536<=t&&t<=1114111}function lO(t){return gu(t)&&t!==mC&&t!==J5&&t!==hu}function uO(t,e,r){var n=lO(t),i=n&&!wh(t);return(r?n:n&&t!==nO&&t!==iO&&t!==oO&&t!==sO&&t!==aO)&&t!==gC&&!(e===yh&&!i)||lO(e)&&!wh(e)&&t===gC||e===yh&&i}function yY(t){return gu(t)&&t!==mC&&!wh(t)&&t!==iY&&t!==aY&&t!==yh&&t!==nO&&t!==iO&&t!==oO&&t!==sO&&t!==aO&&t!==gC&&t!==tY&&t!==nY&&t!==X5&&t!==uY&&t!==oY&&t!==sY&&t!==rY&&t!==Z5&&t!==eY&&t!==cY&&t!==lY}function wY(t){return!wh(t)&&t!==yh}function vu(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function dO(t){var e=/^\n* /;return e.test(t)}var fO=1,yC=2,pO=3,hO=4,yc=5;function CY(t,e,r,n,i,o,s,a){var c,l=0,u=null,d=!1,f=!1,p=n!==-1,h=-1,m=yY(vu(t,0))&&wY(vu(t,t.length-1));if(e||s)for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=vu(t,c),!gu(l))return yc;m=m&&uO(l,u,a),u=l}else{for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=vu(t,c),l===hu)d=!0,p&&(f=f||c-h-1>n&&t[h+1]!==" ",h=c);else if(!gu(l))return yc;m=m&&uO(l,u,a),u=l}f=f||p&&c-h-1>n&&t[h+1]!==" "}return!d&&!f?m&&!s&&!i(t)?fO:o===mu?yc:yC:r>9&&dO(t)?yc:s?o===mu?yc:yC:f?hO:pO}function bY(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===mu?'""':"''";if(!t.noCompatMode&&(dY.indexOf(e)!==-1||fY.test(e)))return t.quotingType===mu?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=n||t.flowLevel>-1&&r>=t.flowLevel;function c(l){return vY(t,l)}switch(CY(e,a,t.indent,s,c,t.quotingType,t.forceQuotes&&!n,i)){case fO:return e;case yC:return"'"+e.replace(/'/g,"''")+"'";case pO:return"|"+mO(e,t.indent)+gO(cO(e,o));case hO:return">"+mO(e,t.indent)+gO(cO(EY(e,s),o));case yc:return'"'+_Y(e)+'"';default:throw new Cr("impossible error: invalid scalar style")}}()}function mO(t,e){var r=dO(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),o=i?"+":n?"":"-";return r+o+`
`}function gO(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function EY(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=t.indexOf(`
`);return l=l!==-1?l:t.length,r.lastIndex=l,vO(t.slice(0,l),e)}(),i=t[0]===`
`||t[0]===" ",o,s;s=r.exec(t);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+vO(c,e),i=o}return n}function vO(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(t);)a=n.index,a-i>e&&(o=s>i?s:a,c+=`
`+t.slice(i,o),i=o+1),s=a;return c+=`
`,t.length-i>e&&s>i?c+=t.slice(i,s)+`
`+t.slice(s+1):c+=t.slice(i),c.slice(1)}function _Y(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=vu(t,i),n=or[r],!n&&gu(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||hY(r);return e}function SY(t,e,r){var n="",i=t.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],t.replacer&&(a=t.replacer.call(r,String(o),a)),(Fi(t,e,a,!1,!1)||typeof a=="undefined"&&Fi(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function yO(t,e,r,n){var i="",o=t.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],t.replacer&&(c=t.replacer.call(r,String(s),c)),(Fi(t,e+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Fi(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=vC(t,e)),t.dump&&hu===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function xY(t,e,r){var n="",i=t.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),t.condenseFlow&&(u+='"'),c=o[s],l=r[c],t.replacer&&(l=t.replacer.call(r,c,l)),!!Fi(t,e,c,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Fi(t,e,l,!1,!1)&&(u+=t.dump,n+=u));t.tag=i,t.dump="{"+n+"}"}function PY(t,e,r,n){var i="",o=t.tag,s=Object.keys(r),a,c,l,u,d,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Cr("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)f="",(!n||i!=="")&&(f+=vC(t,e)),l=s[a],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),!!Fi(t,e+1,l,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&hu===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=vC(t,e)),!!Fi(t,e+1,u,!0,d)&&(t.dump&&hu===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,i+=f));t.tag=o,t.dump=i||"{}"}function wO(t,e,r){var n,i,o,s,a,c;for(i=r?t.explicitTypes:t.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(r?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(c=t.styleMap[a.tag]||a.defaultStyle,tO.call(a.represent)==="[object Function]")n=a.represent(e,c);else if(rO.call(a.represent,c))n=a.represent[c](e,c);else throw new Cr("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');t.dump=n}return!0}return!1}function Fi(t,e,r,n,i,o,s){t.tag=null,t.dump=r,wO(t,r,!1)||wO(t,r,!0);var a=tO.call(t.dump),c=n,l;n&&(n=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",d,f;if(u&&(d=t.duplicates.indexOf(r),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(i=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(u&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(t.dump).length!==0?(PY(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(xY(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?yO(t,e-1,t.dump,i):yO(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(SY(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&bY(t,t.dump,e,o,c);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Cr("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(l=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",t.dump=l+" "+t.dump)}return!0}function kY(t,e){var r=[],n=[],i,o;for(wC(t,r,n),i=0,o=n.length;i<o;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(o)}function wC(t,e,r){var n,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)wC(t[i],e,r);else for(n=Object.keys(t),i=0,o=n.length;i<o;i+=1)wC(t[n[i]],e,r)}function IY(t,e){e=e||{};var r=new gY(e);r.noRefs||kY(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Fi(r,0,n,!0,!0)?r.dump+`
`:""}var AY=IY,TY={dump:AY};function CC(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Er=eO.load,ove=eO.loadAll,sve=TY.dump;var ave=CC("safeLoad","load"),cve=CC("safeLoadAll","loadAll"),lve=CC("safeDump","dump");var _h=Y(require("path"));var _C=Y(require("path")),_O=Y(require("os"));var CO=Y(require("crypto"));var bO=Y(require("util"));var Tn={async readDocument(t){switch(t.scheme){case"file":try{return(await Le(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,r){switch(t.scheme){case"file":let n=Vt(r,e);await Ia(t.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Ch=class{constructor(e){this.fileHost=e}async readDocument(e){switch(e.scheme){case Ch.scheme:try{return(await this.fileHost.readFile(Oe(e,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Ch.scheme:let i=Vt(n,r);await this.fileHost.writeFile(Oe(e,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},qt=Ch;qt.scheme="vscode-fileHost";var Gs=class{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case Gs.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${e.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Gs.scheme:try{if(!Gs.nonce){let s=await(0,bO.promisify)(CO.randomBytes)(20);Gs.nonce=s.toString("hex")}let i=Vt(n,r),o=`EOF-${Gs.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${e.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Ws=Gs;Ws.scheme="vscode-remote";var EO=class{constructor(e){this.documents=e}async readDocument(e){let r=this.documents[e.scheme];if(!r)throw new Error(`Unsupported scheme: ${e.toString()}`);return r.readDocument(e)}async applyEdits(e,r,n){let i=this.documents[e.scheme];if(!i)throw new Error(`Unsupported scheme: ${e.toString()}`);return i.applyEdits(e,r,n)}};function Nt(t,e){let r={file:Tn,[qt.scheme]:new qt(t)};return e&&(r[Ws.scheme]=new Ws(e)),new EO(r)}var bC=new Map;async function EC(t,e){let r=t.toString(),n=bC.get(r);if(n||bC.set(r,n=[]),n.push(e),n.length===1){for(;n.length;)await n[0](),n.shift();bC.delete(r)}}var Po;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(Po||(Po={}));function Oe(t,e){let r;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===qt.scheme)?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,e==="win32"&&(r=r.replace(/\//g,"\\")),r}function wc(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}function SC(t,e){return Ee.file(t.path.join(e,".devcontainer","devcontainer.json")).with({scheme:qt.scheme})}async function bh(t,e){let r=wc(t.path,e);for(let n of r)if(await t.isFile(n))return Ee.file(n).with({scheme:qt.scheme})}async function Eh(t){let e=wc(_C,t);for(let r of e)if(await ht(r))return r}var Mi=`{${_O.EOL}}`;async function sn(t,e,r,n){e.scheme==="file"&&await Rr(_C.dirname(e.fsPath)),await t.applyEdits(e,r,n)}function zs(t){let e=_C.posix.dirname(t.path);return t.with({path:e})}function Ks(t){if(!(t.extensions||t.settings||t.devPort!==void 0))return t;let e=W({},t);return e.vscode||(e.vscode={}),e.extensions&&(e.vscode.extensions=(e.vscode.extensions||[]).concat(e.extensions),delete e.extensions),e.settings&&(e.vscode.settings=W(W({},e.settings),e.vscode.settings||{}),delete e.settings),e.devPort!==void 0&&e.vscode.devPort===void 0&&(e.vscode.devPort=e.devPort,delete e.devPort),e}function ko(t,e,r){return qi(t,e.configFilePath,r)}function qi(t,e,r){let n=zs(e);return e.with({path:_h.posix.resolve(n.path,t.platform==="win32"&&e.scheme!==Ws.scheme?(_h.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function ut(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function Cc(t){return t&&(ut(t)||"image"in t||"dockerComposeFile"in t)}function Kt(t,e){return ko(t,e,DY(e))}function DY(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function sr(t,e,r,n){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(i=>Oe(ko(t,e,i),t.platform))}else if(typeof e.dockerComposeFile=="string")return[Oe(ko(t,e,e.dockerComposeFile),t.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(t.path.delimiter).map(a=>t.path.resolve(n,a));try{let a=t.path.join(n,".env"),c=await t.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(t.path.delimiter).map(d=>t.path.resolve(n,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[t.path.resolve(n,"docker-compose.yml")],s=t.path.resolve(n,"docker-compose.override.yml");return await t.isFile(s)&&o.push(s),o}return[]}function RY(){return{contentHashes:{}}}async function xO(t,e,r){let n=t.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await xC(t,e,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let d=new Set(s);l.forEach(p=>d.delete(p));let f=[];for(let p of s)p in c&&c[p]!==o[p]&&f.push(p);if(u.size||d.size||f.length){let p=await xC(t,e,r);(async()=>{await n.containerOutdated([...u,...d,...f].sort())==="ignore"&&await t.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await PO(t,e,r)}async function Sh(t,e,r){let n="Updating configuration state",i=t.common.output.start(n);await PO(t,e,r),t.common.output.stop(n,i)}async function PO(t,e,r){let n=await xC(t,e,r);await t.configurationTracking.updateConfigurationState(n)}async function xC(t,e,r){let n=RY();xh(n,yu.posix.basename(r.configFilePath.path),JSON.stringify(oe(W({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=zs(r.configFilePath).path;if(ut(r)){let o=Kt(t.common.cliHost,r),s=await e.readDocument(o);s!==void 0&&xh(n,yu.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await sr(t.common.cliHost,r,t.common.cliHost.env,t.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=Ee.file(a).with({scheme:qt.scheme});return{uri:c,content:await e.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&xh(n,yu.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=Er(l),d=u&&u.services,f=d&&d[r.service],p=f&&f.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=qi(t.common.cliHost,c,h),g=kO(m,p.dockerfile||"Dockerfile"),v=await e.readDocument(g);v!==void 0&&xh(n,yu.posix.relative(i,g.path),v)}if(f&&(f.image||f.build))break}}}return n}function xh(t,e,r){let n=SO.createHash("sha256").update(r).digest("hex");t.contentHashes[e]=n}var dn=Y(require("path")),sL=Y(require("crypto"));var li=Y(require("path"));var ZC=Y(require("path"));var eb=Y(AO());var LO=Y(require("net")),OC=Y(require("path"));var AC=Y(require("path")),TC=Y(require("http")),TO=Y(require("os")),DO=Y(require("crypto"));async function RO(t,e){let r=await DC(t),n=new OO(r,e);return n.listen(),n}var OO=class{constructor(e,r){this.ipcHandlePath=e;this.server=TC.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function NO(t){return new Promise((e,r)=>{let n=[];t.setEncoding("utf8"),t.on("data",i=>n.push(i)),t.on("error",i=>r(i)),t.on("end",()=>{let i=JSON.parse(n.join(""));e(i)})})}async function MY(t){return new Promise((e,r)=>{DO.randomBytes(t,(n,i)=>{n?r(n):e(i)})})}async function DC(t){let r=(await MY(20)).toString("hex"),n=`${t}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?AC.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):AC.join(TO.tmpdir(),`${n}.sock`)}var RC=class{constructor(){this.messages=[]}push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof e=="number"&&setTimeout(n,e)})}};async function ri(t,e,r){let n=await DC("ssh-askpass");return await new Promise((i,o)=>{LO.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{r.write(`SSH askpass request: ${a}`,se.Trace);let l=await e(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{o(s)}).listen(n,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:OC.join(t,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:OC.join(t,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:n}}var qY=0;function Dn(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++qY)}:{}}async function $t(t,e){return(await Io(t,[e]))[0]}async function Io(t,e){let r=await kh(t,"container",e);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:l,HostPort:u}=c;n.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return r}async function Ao(t,e){return(await kh(t,"image",[e]))[0]}async function Ph(t,e){return(await kh(t,"volume",[e]))[0]}async function wu(t,e){return kh(t,"volume",e)}async function kh(t,e,r){if(!r.length)return[];let n=Eu(t),i=await Se(oe(W({},n),{args:(n.args||[]).concat(["inspect","--type",e,...r])}));try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function $i(t,e=!1,r=[]){let n=[];e&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await je(t,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function To(t,e=[]){let r=[];for(let i of e)r.push("--filter",`label=${i}`);return(await je(t,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function NC(t){return(await je(t,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function FO(t){return(await je(t,"volume","prune","-f")).stdout.toString()}async function MO(t,e,r){let n=[];for(let i of r)n.push("--label",i);await je(t,"volume","create",...n,e)}async function Cu(t,e){let{exec:r,cmd:n,args:i,env:o,output:s}=Eu(t),a=[];for(let f in e)for(let p of e[f])a.push("--filter",`${f}=${p}`);let c=await FC(t)?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:o,output:s}),d=[];return u.stderr.on("data",f=>d.push(f)),u.exit.then(({code:f,signal:p})=>{d.length&&s.write(Re(Buffer.concat(d).toString())),(f||p&&p!=="SIGKILL")&&s.write(Re(`Docker events terminated (code: ${f}, signal: ${p}).`))},f=>{s.write(Re(f&&(f.stack||f.message)))}),u}async function je(t,...e){let r=Eu(t);return Se(oe(W({},r),{args:(r.args||[]).concat(e)}))}async function LC(t){var e;try{let{stdout:r}=await je(t,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(e=JSON.parse(n).find(s=>s.Current))==null?void 0:e.Name}catch{return}}async function FC(t){if(("cliHost"in t?t.cliHost:t.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await je(t,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function Ur(t,...e){let r=ni(t);return Ri(oe(W({},r),{args:(r.args||[]).concat(e)}))}async function Js(t,...e){let r=Eu(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return Se(oe(W({},r),{args:(r.args||[]).concat(e)}))}async function Ih(t,...e){let r=ni(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return Ri(oe(W({},r),{args:(r.args||[]).concat(e)}))}function Do(t,e,r){return async function(n){let{exec:i,cmd:o,args:s,env:a}=Eu(t),{argsPrefix:c,args:l}=$O(e,r,n,!1);return i({cmd:o,args:(s||[]).concat(l),env:a,output:qO(n.output,o,c)})}}async function bu(t,e,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:c,env:l}=ni(t),{argsPrefix:u,args:d}=$O(e,r,o,!0);return s({cmd:a,args:(c||[]).concat(d),env:l,output:qO(o.output,a,u)})}}function qO(t,e,r){return $Y(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function $Y(t,e,r){let n=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return mt(oe(W({},t),{get dimensions(){return t.dimensions},event:o=>t.event("text"in o?oe(W({},o),{text:o.text.replace(n,r)}):o)}))}function $O(t,e,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),e&&c.push("-u",e),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),o&&c.push("-w",o),c.push(t);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function Eu(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.dockerEnv),Dn(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.env),Dn(t.env)),output:t.output}:oe(W({},t),{env:W(W({},t.env),Dn(t.env))})}function ni(t,e){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.dockerEnv),Dn(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.env),Dn(t.env)),output:t.output}:oe(W({},t),{env:W(W({},t.env),Dn(t.env))})}function Ah(t){return t.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(e,r)=>r.substr(0,r.length-1))}var H1=Y(require("path")),XC=Y(require("string_decoder")),V1=Y(Ja());var Sc=Y(require("path")),L1=Y(R1()),F1=Y(require("url")),M1=Y(Ja());var O1=Y(ec()),N1=Y(require("url"));function YC(t,e){return new Promise((r,n)=>{let i=new N1.URL(t.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:t.type,headers:t.headers},s=O1.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),e&&e.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,se.Error);else{a.on("error",n);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>r(Buffer.concat(c)))}});s.on("error",n),t.data&&s.write(t.data),s.end()})}var Lu="devcontainer-features.tgz";function ta(t){return t?{allFeatures:t.featureSets.map(r=>r.features).flat()}:void 0}function On(t){let e=typeof t=="string"?Sc.join(t,"dist"):t.distFolder;return Sc.join(e,"node_modules","vscode-dev-containers","container-features")}function xc(t){let{type:e}=t;switch(e){case"local-cache":return"local-cache";case"direct-tarball":return Buffer.from(t.tarballUri).toString("base64");case"github-repo":return`github-${t.owner}-${t.repo}-${t.isLatest?"latest":t.tag}`;case"file-path":return Buffer.from(t.filePath).toString("base64")}}function q1(){return`
ARG BASE_IMAGE=mcr.microsoft.com/vscode/devcontainers/base:buster
FROM $BASE_IMAGE

USER root

COPY . /tmp/build-features/

#{featureLayer}

#{containerEnv}

ARG IMAGE_USER=root
USER $IMAGE_USER
`}async function $1(t){let e="";return(t.featureSets||[]).map(n=>xc(n.sourceInformation)).forEach(n=>{e+=`RUN cd /tmp/build-features/${n} \\
&& chmod +x ./install.sh \\
&& ./install.sh

`}),e}function Hh(t,e){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!t.includes("/"))return e.write(`[${t}] - No slash, must be locally cached feature.`,se.Trace),{id:t,sourceInformation:{type:"local-cache"}};if(t.startsWith("http://")||t.startsWith("https://")){e.write(`[${t}] - Direct URI`,se.Trace),t=t.replace(/\/+$/,"");let u=t.lastIndexOf("#"),d=t.substring(u+1);if(d===""||!r.test(d)){e.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Provided: ${d}.`,se.Error);return}let f=new F1.URL(t.substring(0,u)).toString();return e.write(`[${t}] - uri: ${f} , id: ${d}`,se.Trace),{id:d,sourceInformation:{type:"direct-tarball",tarballUri:f}}}if(t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return;let n="latest",i=t.split("@");if(i.length>2){e.write("Parse error. Use the '@' symbol only to designate a version tag.",se.Error);return}i.length===2&&(e.write(`[${t}] has version ${i[1]}`,se.Trace),n=i[1]);let s=i[0].split("/");if(s.length!==3||s.some(u=>u==="")||!r.test(s[2])){e.write("Invalid parse for GitHub/registry feature identifier. Follow format: '<publisher>/<feature-set>/<feature>'",se.Error);return}let a=s[0],c=s[1],l=s[2];return n==="latest"?{id:l,sourceInformation:{type:"github-repo",apiUri:`https://api.github.com/repos/${a}/${c}/releases/latest`,unauthenticatedUri:`https://github.com/${a}/${c}/releases/latest/download/${Lu}`,owner:a,repo:c,isLatest:!0}}:{id:l,sourceInformation:{type:"github-repo",apiUri:`https://api.github.com/repos/${a}/${c}/releases/tags/${n}`,unauthenticatedUri:`https://github.com/${a}/${c}/releases/download/${n}/${Lu}`,owner:a,repo:c,tag:n,isLatest:!1}}}var Vh=async(t,e)=>{try{await aS(t,!1,!0)}catch(r){e.write(`Didn't remove temporary tarball from disk with caught exception: ${r==null?void 0:r.Message} `,se.Trace)}};function WJ(t,e,r){let n={"user-agent":"devcontainer"},i=o=>{let s=o.tarballUri;return s.startsWith("https://github.com")||s.startsWith("https://api.github.com")};if(t.type==="github-repo"||t.type==="direct-tarball"&&i(t)){let o=e.GITHUB_TOKEN;o?(r.write(`Using GITHUB_TOKEN ending in ${o.substring(o.length-5)}`),n.Authorization=`Bearer ${o}`):r.write("No GITHUB_TOKEN found in env. Request will be sent unauthenticated.")}return n}async function GJ(t,e,r){let{output:n,env:i}=t,{dstFolder:o}=e,s=[],a=r.features;if(!a||!Object.keys(a).length||!o)return;let c=Sc.join(o,Lu);n.write("Preparing to parse declared features and fetch remote features.");for await(let l of Object.keys(a)){let u=Hh(l,n);if(u===void 0){n.write(`Failed to parse key: ${l}`,se.Error);continue}let d=u.id,f=u.sourceInformation,p=f.type;if(p==="local-cache"){n.write("Detected local feature set. Continuing...");continue}let h=xc(u.sourceInformation),m=Sc.join(o,h);if(s.some(w=>w===h)){n.write(`Already pulled remote resource for '${h}'. No need to re-fetch.`);continue}if(n.write(`Fetching: featureSet = ${h}, feature = ${d}, Type = ${p}`),p==="file-path"){n.write("Local file-path to features on disk is unimplemented. Continuing...");continue}else{let w,C=WJ(f,i,n);if(p==="github-repo")n.write("Determining tarball URI for provided github repo.",se.Trace),C.Authorization&&C.Authorization!==""?(n.write("Authenticated. Fetching from GH API.",se.Trace),w=await zJ(f,C,n),C.Accept="Accept: application/octet-stream"):(n.write("Not authenticated. Fetching from unauthenticated uri",se.Trace),w=f.unauthenticatedUri);else if(p==="direct-tarball")w=f.tarballUri;else{n.write(`Unhandled source type: ${p}`,se.Error);continue}if(w!==void 0&&w!==""){let b={type:"GET",url:w,headers:C};n.write(`Fetching tarball at ${b.url}`),n.write(`Headers: ${JSON.stringify(b)}`,se.Trace);let _=await YC(b,n);if(!_||_.length===0){n.write("Did not receive a response from tarball download URI",se.Error),await Vh(c,n);continue}let S=(x,k)=>!(x.startsWith("./.")||x===`./${Lu}`||x==="./.");n.write("Preparing to unarchive received tgz.",se.Trace),await Rr(m),await Ia(c,_),await M1.x({file:c,cwd:m,filter:S})}else{n.write("Could not fetch features from constructed tarball URL",se.Error),await Vh(c,n);continue}}n.write("Attempting to load devcontainer-features.json",se.Trace);let v=await Fu(m,n);if(!v||!v.features||v.features.length===0){n.write("Unable to parse received devcontainer-features.json.",se.Error),await Vh(c,n);continue}n.write(`Done loading FeatureSet ${h} into from disk into memory`,se.Trace),v.sourceInformation&&(v=oe(W({},v),{sourceInformation:W(W({},v.sourceInformation),f)})),n.write("Merged sourceInfomation",se.Trace),e.featureSets.push(v),s.push(h),await Vh(c,n),n.write(`Succeeded in fetching feature set ${h}`,se.Trace)}return e}async function zJ(t,e,r){let n={type:"GET",url:t.apiUri,headers:e},i=JSON.parse((await YC(n,r)).toString());if(i){let o=i.assets.find(s=>s.name===Lu);if(o&&o.url)return r.write(`Found url to fetch release artifact ${o.name}. Asset of size ${o.size} has been downloaded ${o.download_count} times and was last updated at ${o.updated_at}`),o.url;r.write("Unable to fetch release artifact URI from GitHub API",se.Error);return}}async function Fu(t,e){let r=await Le(Sc.join(t,"devcontainer-features.json"));if(r.length===0){e.write("Parsed featureSet is empty.",se.Error);return}let n=et(r.toString());if(!(n==null?void 0:n.features)||n.features.length===0){e.write("Parsed featureSet contains no features.",se.Error);return}return e.write(`Loaded devcontainer-features.json declares ${n.features.length} features and ${n.sourceInformation?"contains":"does not contain"} explicit source info.`,se.Trace),KJ(n)}function KJ(t){return t.features.find(e=>e.extensions||e.settings)?oe(W({},t),{features:t.features.map(e=>{if(!(e.extensions||e.settings))return e;let r=W({},e);return r.vscode||(r.vscode={}),r.extensions&&(r.vscode.extensions=(r.vscode.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(r.vscode.settings=W(W({},r.settings),r.vscode.settings||{}),delete r.settings),r})}):t}async function ra(t,e,r,n,i){var l;let{output:o}=t,s=r.features;if(!s||!Object.keys(s).length)return;let a={featureSets:[],dstFolder:e},c=await Fu(i(t.extensionPath),o);if(!c){o.write("Failed to load locally cached features",se.Error);return}if(c=oe(W({},c),{sourceInformation:{type:"local-cache"}}),a.featureSets.push(c),a=(l=await GJ(t,a,r))!=null?l:a,a=await Wh(t,r,a,n),!a.featureSets.every(u=>u.features.every(d=>d.value===!1)))return a}var JC=(t,e)=>`${t}-${xc(e)}`;async function Wh(t,e,r,n){var d;let{output:i}=t,o=await n(),s=o["com.visualstudio.code.devcontainers.id"],a=o.version,c=e.features||{},l={};for(let f of Object.keys(c)){let{id:p,sourceInformation:h}=(d=Hh(f,i))!=null?d:{};if(p&&h){let m=JC(p,h);l[m]=c[f]}else{i.write(`Failed to read user declared feature ${f}. Skipping.`,se.Error);continue}}let u={};for(let f of r.featureSets)for(let p of f.features){YJ(p);let h=JC(p.id,f.sourceInformation);s&&(p.exclude||[]).some(m=>j1(m,s,a))?p.included=!1:"include"in p?p.included=!!s&&(p.include||[]).some(m=>j1(m,s,a)):p.included=!0,u[h]=u[h]||p.included,p.value=l[h]||!1}t.output.write(`Feature configuration:
`+JSON.stringify(oe(W({},r),{imageDetails:void 0}),void 0,"  "),se.Trace);for(let f of r.featureSets)f.features=f.features.filter(p=>{let h=JC(p.id,f.sourceInformation);return h in u&&p.included===u[h]?(delete u[p.id],!0):!1});return r}function YJ(t){if(t.values){let e=t.options||(t.options={});e.version={type:"string",[t.customValues?"proposals":"enum"]:t.values,default:t.values[0],description:t.hint}}delete t.type,delete t.values,delete t.customValues,delete t.hint}function j1(t,e,r){let n=t.indexOf("@"),[i,o]=n!==-1?[t.slice(0,n),t.slice(n+1)]:[t,void 0];return e===i&&(!o||!r||L1.satisfies(r,o))}function ii(t){var e;return((e=t.options)==null?void 0:e.version)?"version":void 0}function na(t){var r,n;let e=ii(t);if(!e)return!!t.value;if(typeof t.value=="object"){let i=t.value[e];return i===void 0&&t.options?(r=t.options[e])==null?void 0:r.default:i}return t.value===void 0&&t.options?(n=t.options[e])==null?void 0:n.default:t.value}function U1(t){if(typeof t.value=="object")return W(W({},QC(t)),t.value);let e=ii(t);return e?oe(W({},QC(t)),{[e]:t.value}):QC(t)}function QC(t){let e=t.options||{};return Object.keys(e).reduce((r,n)=>("default"in e[n]&&(r[n]=e[n].default),r),{})}function B1(t){var r;let e=ii(t);return e?t.options&&((r=t.options[e])==null?void 0:r.default):!0}async function Mu(t,e,r,n,i,o){let s,a=()=>s||(s=W1(t,r,n)),c=await ra(t.common,await ia(t.common),e,async()=>(await a()).Config.Labels||{},On),l=ta(c),u=await QJ(t,c,r,a);return{updatedImageName:await XJ(t,e,u,a,i,o),collapsedFeaturesConfig:l,imageDetails:a}}function JJ(t){let e="";for(let r of t.featureSets)e+=r.features.filter(n=>(xt||n.included)&&n.value).reduce((n,i)=>n.concat(Object.keys(i.containerEnv||{}).map(o=>`ENV ${o}=${i.containerEnv[o]}`)),[]).join(`
`);return e}async function QJ(t,e,r,n){let{common:i}=t,{cliHost:o,output:s}=i;if(!e)return r;let{dstFolder:a}=e;if(!a||a==="")return s.write("dstFolder is undefined or empty in addContainerFeatures",se.Error),r;let c=xc({type:"local-cache"}),l=(await n()).Config.User||"root",u=qu(i),d=`${r.startsWith(u)?r:u}-features`,f=On(i.extensionPath);s.write(`local container features stored at: ${f}`),await o.mkdirp(`${a}/${c}`);let p=V1.c({cwd:f,filter:_=>_!=="./Dockerfile"&&_!=="./devcontainer-features.json"},["."]),h=new Promise((_,S)=>{p.on("error",S),p.on("finish",_)}),m=await o.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:`${a}/${c}`,output:s}),g=new XC.StringDecoder;m.stdout.on("data",_=>{s.write(g.write(_))});let v=new XC.StringDecoder;m.stderr.on("data",_=>{s.write(Re(v.write(_)))}),p.pipe(m.stdin);let w=q1();w=w.replace("#{featureLayer}",await $1(e)),w=w.replace("#{containerEnv}",JJ(e)),await o.writeFile(o.path.join(a,"Dockerfile"),Buffer.from(w)),await Promise.all([...e.featureSets].map(async _=>{let S=[].concat(..._.features.filter(x=>(xt||x.included)&&x.value).map(x=>{let k=U1(x),A=x.id.replace(/[/-]/g,"_").toUpperCase(),T=[];return k&&(T.push(...Object.keys(k).map(F=>`_BUILD_ARG_${A}_${F.toUpperCase()}="${k[F]}"`)),T.push(`_BUILD_ARG_${A}=true`)),x.buildArg&&T.push(`${x.buildArg}=${na(x)}`),T})).join(`
`);await o.writeFile(o.path.join(a,xc(_.sourceInformation),"devcontainer-features.env"),Buffer.from(S))})),await m.exit,await h;let C=["build","-t",d,"--build-arg",`BASE_IMAGE=${r}`,"--build-arg",`IMAGE_USER=${l}`,a],b=oe(W({},ni(t)),{output:mt(s,se.Info)});return await Ur(b,...C),d}async function XJ(t,e,r,n,i,o){let{common:s}=t,{cliHost:a}=s;if(s.cliMode||!(typeof e.updateRemoteUserUID=="boolean"?e.updateRemoteUserUID:o)||!(a.platform==="linux"||t.updateRemoteUserUIDOnMacOS&&a.platform==="darwin"))return r;let c=(await n()).Config.User||"root",l=e.remoteUser||i||c;if(l==="root"||/^\d+$/.test(l))return r;let u=qu(s),d=`${r.startsWith(u)?r:u}-uid`,f="updateUID.Dockerfile",p=H1.join(s.extensionPath,"scripts",f),h=s.package.version,m=a.path.join(await a.tmpdir(),"vsch",`${f}-${h}`),g=`${m}-${Date.now()}`;await a.mkdirp(a.path.dirname(g)),await a.writeFile(g,await Le(p)),await a.rename(g,m);let v=["build","-f",m,"-t",d,"--build-arg",`BASE_IMAGE=${r}`,"--build-arg",`REMOTE_USER=${l}`,"--build-arg",`NEW_UID=${await a.getuid()}`,"--build-arg",`NEW_GID=${await a.getgid()}`,"--build-arg",`IMAGE_USER=${c}`,a.path.dirname(m)];return await Ur(t,...v),d}var Gh="com.docker.compose.project",tb="com.docker.compose.service";async function G1(t,e,r,n){let{common:i,dockerCLI:o,dockerComposeCLI:s}=t,{cliHost:a,env:c,output:l}=i;return K1(t,{cliHost:a,dockerCLI:o,dockerComposeCLI:s,env:c,output:l},e,r,n,rb(r),!0)}async function z1(t,{repositoryPath:e,folder:r},n,i,o,s){let{labels:a}=Pc(n,e,r,i),c=$e(ZC.posix,r?n.workspaceFolder(r):n.fullRepositoryName),l=`services:
  '${s.service}':
    labels:
${a.map(m=>`      - ${m}`).join(`
`)}
    volumes:
      - ${i}:${ZC.posix.dirname(c.rootFolderPath)}

volumes:
  ${i}:
    external: true
`,u=await Yh(t,o,c.rootFolderPath),d=W({},u.env),{HOME:f,USERPROFILE:p}=t.common.env;f!==void 0&&(d.HOME=f),p!==void 0&&(d.USERPROFILE=p);let h=sb(n,i,r);return K1(t,oe(W({},u),{env:d}),c,s,t.common.cliHost.cwd,c.rootFolderPath,!1,l,o,h,!0)}async function K1(t,e,r,n,i,o,s,a,c,l,u){var m;let{common:d}=t,{cliHost:f}=e,p,h;try{let g=await sr(f,n,f.env,f.cwd),v=f.path.join(f.cwd,".env"),w=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await f.isFile(v)?v:void 0,C="/tmp/docker-compose.repositoryContainer.yml";if(a){let q=(await f.readFile(g[0])).toString(),V=(/^\s*(version:.*)$/m.exec(q)||[])[1];V&&(a=`${V}

${a}`),await f.writeFile(C,Buffer.from(a)),g.push(C)}let b=await $u(e,r,g),_=await zh(t,b,n.service);if(t.expectExistingContainer&&!_)throw new ce({description:"The expected container does not exist."});if(p=_?await $t(t,_):void 0,p&&(t.removeOnStartup===!0||t.removeOnStartup===p.Id)){let q="Removing existing container.",V=d.output.start(q);await je(t,"rm","-f",p.Id),d.output.stop(q,V),p=void 0}let S=!!p,x;if(!p||p.State.Status!=="running"){let q=await eQ(t,e,n,b,g,w,p,s);p=await $t(t,q.containerId),x=q.collapsedFeaturesConfig}else{let q=p.Config.Labels||{},V=await ra(t.common,await ia(t.common),n,async()=>q,On);x=ta(V)}h=await si(t,p.Id,o,n.remoteUser),u&&!S&&h.user!=="root"&&(h.launchRootShellServer?await uu(h,h.launchRootShellServer,o,n.configFilePath.path):d.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let k=Nt(f,h.shellServer);S||await Sh(t,k,n);let A={cwd:i,dockerCLI:t.dockerCLI,dockerComposeCLI:await t.dockerComposeCLI(),env:d.env,containerId:p.Id,user:h.user,sessionId:d.sessionId,shutdownAction:n.shutdownAction,projectName:b,composeFiles:g,envFile:w,composeOverrideFile:a&&C,composeOverrideContent:a,buildContainerRunArgs:l,service:n.service,runServices:n.runServices,logLevel:d.getLogLevel(),delay:1e4},{shutdownArgs:T,doneWithDocuments:F}=await Qh(t,k,"dockerCompose",A,S?n:void 0);c&&F.then(()=>{je(t,"rm","-f",c)});let H=((m=n.vscode)==null?void 0:m.devPort)||Eo,{hostOrContainerPort:Q,hostPortServer:J,connectionToken:le,webConnectionToken:G,remoteEnv:M,serverDownloaded:L}=await _o(d,h,n,x,void 0,H);return T.hostPortServer=J,kc(d,h,Q,le,G,p,r),{params:d,properties:h,config:n,resolvedAuthority:{host:Oo,port:Q,connectionToken:le,extensionHostEnv:M},webConnectionToken:G,tunnelInformation:d.isLocalContainer?Ic(p):{},dockerParams:t,dockerContainerId:p.Id,serverDownloaded:L}}catch(g){let v=g instanceof ce?g:new ce({description:"An error occurred setting up the container.",originalError:g});throw p&&(v.manageContainer=!0,v.params=t.common,v.containerId=p.Id,v.dockerParams=t),h&&(v.containerProperties=h),v.config=n,v}}function rb(t){return t.workspaceFolder||"/"}async function ZJ(t,e,r,n,i,o,s,a){let{cliHost:c}=r,l=["--project-name",e,...i];if(a){let u=c.path.join(await c.tmpdir(),`docker-compose.devcontainer.build-${Date.now()}.yml`),d=`services:
  ${t.service}:
    image: ${a}
`;await c.writeFile(u,Buffer.from(d)),l.push("-f",u)}l.push("build"),s&&l.push("--no-cache","--pull"),o.length&&(l.push(...o),o.indexOf(t.service)===-1&&l.push(t.service));try{await Ih(r,...l)}catch(u){throw u instanceof ce?u:new ce({description:"An error occurred building the Docker Compose images.",originalError:u,data:{fileWithError:n[0]}})}}async function eQ(t,e,r,n,i,o,s,a){var H,Q,J,le;let{common:c}=t,{persistedFolder:l,output:u}=c,{cliHost:d}=e,f="docker-compose.devcontainer.containerFeatures",p=!s;c.progress(bt.StartingContainer);let h=await nb(d.cwd,i,c.output),m=[].concat(...h.map(G=>["-f",G]));o&&m.push("--env-file",o);let g=mt(e.output,se.Info),v=await ib(oe(W({},e),{output:g}),h,o);if(Object.keys(v.services||{}).indexOf(r.service)===-1)throw new ce({description:`Service '${r.service}' configured in devcontainer.json not found in Docker Compose configuration.`,data:{fileWithError:i[0]}});let C,b=new Promise((G,M)=>C=M),{started:_}=await Jh(t,{[Gh]:n,[tb]:r.service},b,c.output,c.getLogLevel()===se.Trace);p&&await ZJ(r,n,oe(W({},e),{output:g}),h,m,(H=r.runServices)!=null?H:[],(Q=t.buildNoCache)!=null?Q:!1,void 0);let S=v.services[r.service],x=S.image||`${n}_${r.service}`,k=!1,A,T=(J=s==null?void 0:s.Config)==null?void 0:J.Labels;if(u.write(`PersistedPath=${l}, ContainerHasLabels=${!!T}`),l&&T){let G=T["com.docker.compose.project.config_files"];u.write(`Container was created with these config files: ${G}`);let L=((le=G==null?void 0:G.split(","))!=null?le:[]).find(q=>q.indexOf(f)>-1);L?await d.isFile(L)?(u.write(`Restoring ${L} from persisted storage`),k=!0,m.push("-f",L)):u.write(`Expected ${L} to exist, but it did not`,se.Error):u.write(`Expected to find a docker-compose file prefixed with ${f}, but did not.`,se.Error)}if(!k){u.write("Generating composeOverrideFile...");let{updatedImageName:G,collapsedFeaturesConfig:M,imageDetails:L}=await Mu(t,r,x,!S.build,S.user,a),q=await tQ(G,x,M,r,e,i,L,S);if(!!q&&q.length>0&&q.trim()!==""){let K=`${f}-${Date.now()}.yml`,ie=d.path.join(l,"docker-compose"),te=d.path.join(ie,K);u.write(`Writing ${K} to ${ie}`),await d.mkdirp(ie),await d.writeFile(te,Buffer.from(q)),m.push("-f",te)}else u.write("Override file was generated, but was empty and thus not persisted or included in the docker-compose arguments.")}let F=["--project-name",n,...m];F.push("up","-d"),t.expectExistingContainer&&F.push("--no-recreate"),r.runServices&&r.runServices.length&&(F.push(...r.runServices),r.runServices.indexOf(r.service)===-1&&F.push(r.service));try{await Ih(oe(W({},e),{output:g}),...F)}catch(G){throw C(),new ce({description:"An error occurred starting Docker Compose up.",originalError:G,data:{fileWithError:h[0]}})}return await _,{containerId:await zh(t,n,r.service),collapsedFeaturesConfig:A}}async function tQ(t,e,r,n,i,o,s,a){let{cliHost:c}=i,l="",u=t!==e,d=[...new Set([].concat(...((r==null?void 0:r.allFeatures)||[]).filter(S=>(xt||S.included)&&S.value).map(S=>S.capAdd||[])))],f=[...new Set([].concat(...((r==null?void 0:r.allFeatures)||[]).filter(S=>(xt||S.included)&&S.value).map(S=>S.securityOpt||[])))],p=[].concat(...((r==null?void 0:r.allFeatures)||[]).map(S=>(xt||S.included)&&S.value&&S.mounts).filter(Boolean)),h=p.filter(S=>S.type==="volume"),m=((r==null?void 0:r.allFeatures)||[]).map(S=>(xt||S.included)&&S.value&&S.entrypoint).filter(Boolean),g=typeof a.entrypoint=="string"?eb.parse(a.entrypoint):a.entrypoint,v=typeof a.command=="string"?eb.parse(a.command):a.command,w=n.overrideCommand?[]:g||((await s()).Config.Entrypoint||[]).map(S=>S.replace(/\$/g,"$$$$")),C=n.overrideCommand?[]:v||(g?[]:((await s()).Config.Cmd||[]).map(S=>S.replace(/\$/g,"$$$$")));l=`services:
  '${n.service}':${u?`
    image: ${t}`:""}
    entrypoint: ["/bin/sh", "-c", "echo Container started\\n
trap \\"exit 0\\" 15\\n
${m.join(`\\n
`)}\\n
exec \\"$$@\\"\\n
while sleep 1 & wait $$!; do :; done", "-"${w.map(S=>`, ${JSON.stringify(S)}`).join("")}]${C!==v?`
    command: ${JSON.stringify(C)}`:""}${((r==null?void 0:r.allFeatures)||[]).some(S=>(xt||S.included)&&S.value&&S.init)?`
    init: true`:""}${((r==null?void 0:r.allFeatures)||[]).some(S=>(xt||S.included)&&S.value&&S.privileged)?`
    privileged: true`:""}${d.length?`
    cap_add:${d.map(S=>`
      - ${S}`).join("")}`:""}${f.length?`
    security_opt:${f.map(S=>`
      - ${S}`).join("")}`:""}${p.length?`
    volumes:${p.map(S=>`
      - type: ${S.type}
        source: ${S.source}
        target: ${S.target}`).join("")}`:""}${h.length?`
volumes:${h.map(S=>`
  ${S.source}:`).join("")}`:""}
`;let b=(await c.readFile(o[0])).toString(),_=(/^\s*(version:.*)$/m.exec(b)||[])[1];return _&&(l=`${_}

${l}`),l}async function nb(t,e,r){if(Gt(t)){let n=yo(t),i=[];for(let o=0;o<e.length;o++){let s=await Ni(n,e[o],r);i.push(s)}return i}return e}async function ib(t,e,r){try{let n=[].concat(...e.map(o=>["-f",o]));r&&n.push("--env-file",r);let i=await t.dockerComposeCLI();(Bs(i.version)||[])[0]>=2&&n.push("--profile","*");try{let{stdout:o}=await Js(t,...n,"config"),s=o.toString();return t.output.write(s),Er(s)||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(t.cliHost.platform==="win32"){let{cmdOutput:c}=await Ih(oe(W({},t),{output:mt({event:t.output.event,dimensions:{columns:999999,rows:1}},se.Info)}),...n,"config");return Er(c.replace(eo,""))||{}}let{stdout:s}=await Js(oe(W({},t),{env:oe(W({},t.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...n,"config"),a=s.toString();return t.output.write(a),Er(a)||{}}}catch(n){throw n instanceof ce?n:new ce({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:e[0]}})}}async function zh(t,e,r){let n=await $i(t,!0,[`${Gh}=${e}`,`${tb}=${r}`]);return n&&n[0]}async function Y1(t,e,r){var n;return(n=t.find(i=>{let o=i.Config.Labels||{};return o[Gh]===e&&o[tb]===r}))==null?void 0:n.Id}async function $u(t,e,r){let{cliHost:n}="cliHost"in t?t:t.common,i=await rQ(t),o=Kh(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),l=await n.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),d=u&&u[1].trim(),f=Kh(d||"",i);if(f)return f}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=e.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return $D(n.platform,a,n.path.join(s,".devcontainer"))?Kh(`${n.path.basename(s)}_devcontainer`,i):Kh(n.path.basename(a),i)}function ob(t){let e=(t.Config.Labels||{})[Gh];return e||void 0}function Kh(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function rQ(t){try{let e=Bs((await t.dockerComposeCLI()).version);return e?!fc(e,[1,21,0]):!0}catch{return!0}}function oi(t,e,r){let n;return()=>n||(n=(async()=>{let i=!1,o;try{o=(await Js(oe(W({},t),{cmd:r}),"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await Js(oe(W({},t),{cmd:e}),"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?e:r,args:i?["compose"]:[]}})())}var ai=Y(require("url")),J1=Y(require("https"));var ab;(function(e){e[e.CannotAccessRepository=2]="CannotAccessRepository"})(ab||(ab={}));function ci(t){return t.toLowerCase().indexOf("github.com")>=0?aQ(t):t.toLowerCase().indexOf("visualstudio.com")>=0?oQ(t):t.toLowerCase().indexOf("dev.azure.com")>=0?iQ(t):t.toLowerCase().indexOf("gitlab.com")>=0?sQ(t):nQ(t)}function Bi(t){let e="owner",r="repository";return{repository:"unknown",repositoryUrl:t,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function nQ(t){var s;let e="unknown-owner",r,n=t,i;i=(s=ai.parse(t))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?Bi(t):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`})}function iQ(t){var o,s;let e,r,n=t,i;if(Xh(t)){let a=`http://${t}`;i=(o=ai.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return Bi(t);e=c[3],r=c[4]}else{i=(s=ai.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Bi(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function oQ(t){var o,s;let e,r,n=t,i;if(Xh(t)){let a=`http://${t}`;i=(o=ai.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return Bi(t);e=c[3],r=c[4]}else{i=(s=ai.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Bi(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function sQ(t){var o,s;let e,r,n=t,i;if(Xh(t)){let a=`http://${t}`;i=(o=ai.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return Bi(t);e=c[1],r=c[2]}else{i=(s=ai.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<2)return Bi(t);e=a[1],r=a[2]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function aQ(t){var c,l;let e,r,n=t,i,o,s;if(Xh(t)){let u=`http://${t}`;s=(c=ai.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=ai.parse(t))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return Bi(t);if(e=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=t.match(/\/tree\/|\/commit\//);u&&u.index&&(n=t.substring(0,u.index),i=t.substring(u.index+u[0].length))}if(a[3]==="pull"){o=a[4];let u=t.match(/\/pull\//);u&&u.index&&(n=t.substring(0,u.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:e,repositoryName:r,pullRequestId:o,fullRepositoryName:`${e}/${r}`}}function Xh(t){return t=t.toLowerCase(),t.indexOf("://")<0?t.indexOf("@")<t.indexOf(":"):!1}var Zh=class extends Error{constructor(e,r){super();this.code=e,this.description=r}},em=class{constructor(e){this.inputUrl=e,this.gitUrlInfo=ci(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(e,r,n,i){}installExtension(){return null}},Q1=class extends em{constructor(e){super(e)}async parseUrl(e){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(e,r,n,i)}async getPullRequestInfo(e,r,n,i){var u,d,f,p,h,m,g,v,w,C,b;let o=await this.fetchPullRequestInfo(e,r,n,i),s=(d=(u=o.head)==null?void 0:u.repo)==null?void 0:d.clone_url,a=(p=(f=o.base)==null?void 0:f.repo)==null?void 0:p.clone_url;if(!a)throw new Zh(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,l=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(b=(C=(w=o.head)==null?void 0:w.repo)==null?void 0:C.owner)==null?void 0:b.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(e,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};e&&(s.authorization=`token ${e}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,l)=>{let u="",d=J1.request(a,f=>{if(f.statusCode<200||f.statusCode>=300)return l(new Error(`Status Code: ${f.statusCode}`));f.on("data",p=>{u+=p}),f.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});d.on("error",l),d.end()})}cloneOptions(e){return{url:e.urlToClone,fullClone:!0}}async postClone(e,r,n,i){if(e.sourceOwner){let l=e.prRepositoryUrl.replace(/\.[^/.]+$/,"");await Se({exec:r.exec,cmd:"git",args:["remote","add",e.sourceOwner,l],cwd:n,output:i}),await Se({exec:r.exec,cmd:"git",args:["fetch",e.sourceOwner,e.ref],cwd:n,output:i});try{await Se({exec:r.exec,cmd:"git",args:["checkout","-t",`${e.sourceOwner}/${e.ref}`],cwd:n,output:i})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${e.ref}' already exists`)))throw u}await Se({exec:r.exec,cmd:"git",args:["config","--local",`remote.${e.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await Se({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await Se({exec:r.exec,cmd:"git",args:["config","--local",`branch.${e.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},X1=class extends em{constructor(e){super(e)}async parseUrl(e){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(e){let r=this.gitUrlInfo.commit;return{url:e.urlToClone,branch:!r&&e.ref||void 0,fullClone:r}}async postClone(e,r,n,i){this.gitUrlInfo.commit&&await Se({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i})}},lb=class extends em{constructor(e,r){super(e);this.branch=r}async parseUrl(e){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(e){return{url:e.urlToClone,branch:e.ref||void 0}}};function Ac(t,e){if(e)return new lb(t,e);let r=ci(t);if(r.repository==="github"){if(r.pullRequestId)return new Q1(t);if(r.ref)return new X1(t)}return new lb(t)}var ju=li.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function Z1(t,e,r){let n=t.parsedAuthority;if(!n||Jt(n))return cQ(t,n,e,r);if(un(n))return n.inspectVolume?pb(t,n):lQ(t,n);if(Tc(n))return pb(t,n);throw new Error(`Unexpected authority: ${JSON.stringify(n)}`)}async function cQ(t,e,r,n){let{common:i,userRepositoryConfigurationPaths:o,workspaceMountConsistencyDefault:s}=t,{cliHost:a,output:c}=i,l=a.cwd,u=e&&$e(a.path,Kl(e.hostPath)?a.path.join(l,li.basename(e.hostPath)):l),d;u&&(d=await dQ(t,u),d&&i.backgroundTasks.push(d==null?void 0:d.gitUnshallow),d&&!r&&await d.gitClone());let f=u?await ui(a,u,o,!r,c)||(r?SC(a,u.configFolderPath):void 0):r,p=f&&await oa(a,u,f,c,s,t.configUpdater,r,i.cliMode)||void 0;if(!p)throw f||u?new ce({description:`Dev container config (${Oe(f||SC(a,u.configFolderPath),a.platform)}) not found.`}):new ce({description:"No dev container config and no workspace found."});let h=p.config,m=e==null?void 0:e.settings,g=No(m),v=h.name?`Dev Container: ${h.name}${g}`:`Dev Container${g}`;i.setWorkspaceName(v),d&&"initializeCommand"in h&&await d.gitClone(),await oL(oe(W({},t),{common:oe(W({},i),{output:i.postCreate.output})}),h.initializeCommand,i.postCreate.onDidInput);let w;if(ut(h)||"image"in h)w=await nL(t,u,h,p.workspaceConfig,t.originalCwd||l,d==null?void 0:d.gitClone,n);else if("dockerComposeFile"in h){if(d&&await d.gitClone(),!u)throw new ce({description:"A Dev Container using Docker Compose requires a workspace folder."});w=await G1(t,u,h,t.originalCwd||l)}else throw new ce({description:`Dev container config (${h.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return d&&await d.gitClone(),w}async function lQ(t,e){let{repositoryPath:r,volumeName:n,folder:i}=e,o=Br(r);n=await rL(t,o,n);let{labels:s}=Pc(o,r,i,n),a=[...s,`${Bu}=${t.common.product.quality}`],c=await tm(t,a);if(c)return fb(t,e,o,n,c);let{containerId:l,shellServer:u,config:d}=await o.cloneAndInitializeRepository(t,e,o,n);if(ut(d)||"image"in d)return fb(t,e,o,n,d,l,u);if("dockerComposeFile"in d)return z1(t,e,o,n,l,d);throw new ce({description:`Dev container config (${d.configFilePath}) not valid.`})}async function oa(t,e,r,n,i,o,s,a=!1){let l=await Nt(t).readDocument(s!=null?s:r);if(!l)return;let u=et(l);u=u&&Ks(u);let d=u;if(u&&o&&(u.configFilePath=r,d=o(u),delete d.configFilePath),!d||typeof d!="object"||Array.isArray(d))throw new ce({description:`Dev container config (${Oe(r,t.platform)}) must contain a JSON object literal.`});let f=await iL(t,e,d,n,i,a),p=hc({platform:t.platform,localWorkspaceFolder:e==null?void 0:e.rootFolderPath,containerWorkspaceFolder:f.workspaceFolder,configFile:r,env:t.env},d);return typeof p.workspaceFolder=="string"&&(f.workspaceFolder=p.workspaceFolder),"workspaceMount"in p&&(f.workspaceMount=p.workspaceMount),p.configFilePath=r,{config:p,workspaceConfig:f}}async function ui(t,e,r,n,i){let o=await ub(t,e,r,n,i);return o==null?void 0:o.uri}async function ub(t,e,r,n,i){let o=await mA(t,e,rt),s=o&&await Uu(o,r);if(s)return{uri:s,location:"user"};let a=await bh(t,e.configFolderPath);if(a)return{uri:a,location:"workspace"};let c=o&&await Uu(o,[ju]);if(c)return{uri:c,location:"builtin"};n&&i&&((o==null?void 0:o.length)?i.write(`No dev container config found. Additional locations checked:
${[...db(o,r),...db(o,[ju])].map(l=>`- ${li.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function Uu(t,e){let r=db(t,e);for(let n of r){let i=await Eh(n);if(i)return Ee.file(i)}}function db(t,e){let r=[],n=new Set(t.map(uQ).filter(i=>!!i));for(let i of n)for(let o of e){let s=li.join(o,i);r.push(s)}return r}function eL(t,e,r){let n=t.path.relative(e.rootFolderPath,Oe(r,t.platform));return n&&!n.startsWith("..")&&!t.path.isAbsolute(n)}function tL(t){if(t.scheme!=="file")return;let e=li.relative(ju,t.fsPath);if(e&&!e.startsWith("..")&&!li.isAbsolute(e))return e}function uQ(t){let e;if(t.startsWith("https://"))e=t.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(t);if(r)e=`${r[1]}/${r[2]}`;else return}if(!(e.toLowerCase().startsWith("github.com")&&(e=(/^[^/]+\/[^/]+\/[^/]+/.exec(e)||[])[0],!e)))return e.endsWith(".git")&&(e=e.substr(0,e.length-4)),e}async function dQ(t,e){var p;let{common:r,gitClone:n}=t,{cliHost:i}=r;if(!n)return;let o=lu(r),s=lu(r),a=Ac(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),l=a.cloneOptions(c),u=oe(W(W({},n),l),{env:W(W({},n.env),l.env)}),d=await Dp(r,r.cliHost,e.rootFolderPath,u,o.output,s.output),f=(p=d.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,e.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await f},gitUnshallow:async()=>{o.flush(),s.flush(),await d.gitUnshallow}}}function Br(t){return{repositoryPath:t,fullRepositoryName:rm(t),repositoryName:fQ(t),workspaceFolder:aL,volumeDestination:hb(),oldVolumeName:pQ(t),alreadyCloned:!1,imageName:hQ(t),uniqueVolumeName:mQ(t),getWorkspaceConfiguration:(e,r)=>gQ(e,r),getOldWorkspacePath:uL,cloneAndInitializeRepository:vQ,getConfigurationFromImage:lL,gitUrlHandler:Ac(t),gitUrlInfo:ci(t)}}function rm(t){let e=ci(t);return e==null?void 0:e.fullRepositoryName}function fQ(t){let e=ci(t);return e==null?void 0:e.repositoryName}function hb(){return"/workspaces"}function pQ(t){let e=rm(t);return`vsc-${dn.posix.basename(e)}-${mb(t)}`}function hQ(t){let e=rm(t),r=mb(t),n=dn.posix.basename(e);return Ah(`vsc-${n}-${r}`)}function mQ(t){let e=ci(t),r="";e&&e.repositoryName&&(r=e.repositoryName,e.ref?r=`${r}-${e.ref.replace(/\//g,"-")}`:e.pullRequestId&&(r=`${r}-pull-${e.pullRequestId}`));let n=mb(t);return`${r}-${n}`}function mb(t){return sL.createHash("md5").update(t).digest("hex")}function gQ(t,e){let r=aL(t),n=`type=volume,src=${e},dst=${hb()}`;return{workspaceFolder:r,workspaceMount:n}}function aL(t){return dn.posix.join(`${hb()}`,`${t}`)}async function vQ(t,{folder:e,cloneInfo:r},n,i){var u;await CQ(t);let{containerId:o,shellServer:s}=await yQ(t,n,i,e,t.configProvider,r),{config:a,workspaceFolder:c}=await lL(t,n,e,s),l=(u=n.gitUrlHandler)==null?void 0:u.installExtension();return l&&(a.vscode||(a.vscode={}),a.vscode.extensions||(a.vscode.extensions=[]),a.vscode.extensions.includes(l)||a.vscode.extensions.push(l)),await sm(t,o,"root",c,a.initializeCommand),{repository:n,volumeName:i,containerId:o,shellServer:s,config:a}}async function yQ(t,e,r,n,i,o){let{common:s}=t,{output:a,loadNativeModule:c}=s,l=e.fullRepositoryName,u,d,f,p;t.common.progress(bt.CloningRepository);let h=sb(e,r,n,t.buildContainerRunArgs);n?(a.write(`Cloning Github repository: ${l} into ${e.workspaceFolder(n)}
\r`),u=`fatal: destination path '${e.workspaceFolder(n)}' already exists`,p=e.workspaceFolder(n),f=`Repository '${l}' was already cloned into '${e.workspaceFolder(n)}'.
\r`):(a.write(`Cloning Github repository: ${l} into volume ${r}
\r`),u=`fatal: destination path '${l}' already exists`,p=`${l}`,f=`Repository '${l}' was already cloned into volume.`);let m=e.gitUrlHandler;if(!m)throw new ce({description:"Could not analyze the URL."});o?d=m.cloneOptions(o):d={url:e.repositoryPath};let{stdout:g}=await je(t,...h),v=g.toString().trim(),w=Do(t,v,"root"),C=await In(w,a),b,_,S=Promise.resolve(),x;if(!s.cliMode){let F=await Gp(s,{remoteExec:w,user:"root",nodeExecutable:"node",shellServer:C});b=F.remoteContainersCLI,_=F.remoteEnv,S=F.ready,x=F.mrpcExec}let k=await bu(t,v,"root",c),A=wo("container",p,{},await x||w,k,()=>{throw new Error("not implemented")},a);try{s.cliMode||(t.common.isCopyGitConfigEnabled&&(await du(t.common,{homeFolder:"/root",shellServer:C},[".gitconfig"],"git"),await iC(t.common,{homeFolder:"/root",shellServer:C},{})),await dh({shellServer:C,nodeExecutable:"node"},b,a,"global"),await du(t.common,{homeFolder:"/root",shellServer:C},[".ssh","known_hosts"],"ssh"),await S);let F=lu(s),H=await Dp(s,A,p,oe(W({},d),{env:W(W({},_),d.env)}),a,F.output);if(await H.gitClone,H.gitUnshallow&&H.gitUnshallow.then(F.flush,F.flush),H.gitClone&&o)try{await m.postClone(o,A,p,a)}catch{return gb(t,v,`Failed to checkout the repository ${o.urlToClone}.`)}}catch(F){let H=F&&(F.cmdOutput||F.stack||F.message)||String(F);if(H=H.replace(eo,""),H.replace(/[\r\n]+/gm,"").includes(u))a.write(f),e.alreadyCloned=!0;else return gb(t,v,`Git clone failed. ${H}`)}let{configRaw:T}=await cL(t,e,n,C);if(!Cc(T)&&i){a.write(`Repository ${l} has no development container files.
\r`);let F=!0;for(;F;){let H=await i.createConfiguration(p,A);if(H)F=!1;else if(H=await i.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),H!=="Select Configuration")return gb(t,v,"Cancelled container configuration selection.")}}return{containerId:v,shellServer:C}}function sb(t,e,r,n=[]){return r?["run","-d","--mount",`type=volume,src=${e},dst=${t.volumeDestination}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${vb}`,"sleep","infinity"]:["run","-d","--mount",`type=volume,src=${e},dst=${t.fullRepositoryName}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${vb}`,"sleep","infinity"]}function gb(t,e,r){throw e&&je(t,"rm","-f",e),new ce({description:r})}async function cL(t,e,r,n){let i,o,s;if(r?s=e.workspaceFolder(r):s=`${uL(e.repositoryPath)}`,o=await Uu([e.repositoryPath],t.userRepositoryConfigurationPaths),o&&(i=(await Le(o.fsPath)).toString()),!o)for(let a of wc(dn.posix,s))try{i=(await n.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,o=Ee.from({scheme:"vscode-remote",path:a});break}catch{}return o||(o=await Uu([e.repositoryPath],[ju]),o&&(i=(await Le(o.fsPath)).toString())),{configRaw:i&&et(i),configFile:o,workspaceFolder:s}}async function lL(t,e,r,n){let{configRaw:i,configFile:o,workspaceFolder:s}=await cL(t,e,r,n);if(!o||!i)throw new ce({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:a,configUpdater:c}=t,{cliHost:l,output:u}=a,d=Ks(W({},i)),f=d;c&&(d.configFilePath=o,f=c(d),delete f.configFilePath);let p=hc({platform:l.platform,configFile:o,env:l.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:s},f);return p.configFilePath=o,("workspaceMount"in p||"workspaceFolder"in p)&&u.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),wQ(t,p),{workspaceFolder:s,config:p}}function wQ({common:t},e){let r=di(t.env),n=No(r),i=e.name?`Dev Container: ${e.name}${n}`:`Dev Container${n}`;t.setWorkspaceName(i)}function uL(t){return`/workspaces/${dn.posix.basename(rm(t))}`}var vb="vsc-volume-bootstrap",nm="vsc-volume-inspect",im="volume.Dockerfile";async function CQ(t){let{common:e}=t,{cliHost:r}=e,n=dn.join(e.extensionPath,"scripts",im),i=e.package.version,o=r.path.join(await r.tmpdir(),"vsch",`${im}-${i}`),s=`${o}-${Date.now()}`;await r.mkdirp(r.path.dirname(s)),await r.writeFile(s,await Le(n)),await r.rename(s,o);let a=["build","-f",o,"-t",vb,dn.dirname(o)];await Ur(t,...a)}async function dL(t){let{common:e}=t,{cliHost:r}=e,n=dn.join(e.extensionPath,"scripts",im),i=e.package.version,o=r.path.join(await r.tmpdir(),"vsch",`${im}-${i}`),s=`${o}-${Date.now()}`;await r.mkdirp(r.path.dirname(s)),await r.writeFile(s,await Le(n)),await r.rename(s,o);let a=["build","-f",o,"-t",nm,dn.dirname(o)];await Ur(t,...a)}async function rL(t,e,r){let n=[`vsch.local.repository=${e.repositoryPath}`];return r?r===fn?(r=e.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=e.oldVolumeName,n.push("vsch.local.repository.unique=false")),e.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${e.gitUrlInfo.ref}`),e.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${e.gitUrlInfo.pullRequestId}`),(await To(t)).indexOf(r)===-1&&await MO(t,r,n),r}var om="vsch.local.repository",yb="vsch.local.repository.volume",wb="vsch.local.repository.folder";function Pc(t,e,r,n){return r?{labels:[`${om}=${e}`,`${yb}=${n}`,`${wb}=${r}`],remoteWorkspaceFolder:t.workspaceFolder(r)}:{labels:[`${om}=${e}`],remoteWorkspaceFolder:t.getOldWorkspacePath(e)}}async function Yh(t,e,r){let{loadNativeModule:n,output:i}=t.common,o=Do(t,e,"root"),s=await bu(t,e,"root",n),a=wo("container",r,{},o,s,()=>{throw new Error("not implemented")},i);return{cliHost:a,dockerCLI:"docker",dockerComposeCLI:oi({exec:a.exec,env:{},output:i},"docker","docker-compose"),env:{},output:i}}var Bu="vsch.quality",pL="vsch.local.folder",hL="vsch.local.volume",Cb="/volume";async function nL(t,e,r,n,i,o,s){let{common:a}=t,c,l,u,d=s||[`${pL}=${i}`,`${Bu}=${a.product.quality}`];try{l=await tm(t,d);let f=!!l;if(l){let p=l.Config.Labels||{},h=await ra(t.common,await ia(t.common),r,async()=>p,On);c=ta(h),await _b(t,d,l)}else{if(o&&e)if("image"in r){let{stdout:m}=await je(t,"images","-q",r.image);m.toString().trim().length===0&&await Ur(t,"pull",r.image);let g=xQ(t,e,r);g.length&&(a.output.write(`Waiting for git clone to finish. (Unsupported: ${g.map(v=>`'${v}'`).join(", ")})`),await o())}else await o();let p=await bQ(t,r),h=await Mu(t,r,p,"image"in r,mL(r.runArgs)||r.containerUser,!0);c=h.collapsedFeaturesConfig;try{await Sb(t,r,c,h.updatedImageName,d,n.workspaceMount,h.imageDetails)}finally{l=await Hu(t,d)}if(!l)return cm(a.output,"Dev container not found.")}return u=await si(t,l.Id,n.workspaceFolder,r.remoteUser),await Eb(l,t,u,r,c,e,f,i,o)}catch(f){throw bb(f,l,t,u,r)}}async function fb(t,{repositoryPath:e,folder:r},n,i,o,s,a){let{common:c}=t,l,u,d,{labels:f,remoteWorkspaceFolder:p}=Pc(n,e,r,i),h=[...f,`${Bu}=${c.product.quality}`];try{let m,g="Id"in o;if("Id"in o){u=o,await _b(t,h,u);let v=Do(t,u.Id,"root"),w=await In(v,c.output,c.sessionId);l=(await n.getConfigurationFromImage(t,n,r,w)).config;let C=u.Config.Labels||{},b=await ra(c,await ia(t.common),l,async()=>C,On);m=ta(b),d=await si(t,u.Id,p,l.remoteUser),await sm(t,u.Id,d.user,p,l.initializeCommand)}else{l=o;let v=await Yh(t,s,p),w=await EQ(t,v,n,l,s,a),C=await Mu(t,l,w.imageName,"image"in l,mL(l.runArgs)||l.containerUser,!1);m=C.collapsedFeaturesConfig;try{let b=await n.getWorkspaceConfiguration(n.repositoryPath,i);await Sb(t,l,m,C.updatedImageName,h,b.workspaceMount,C.imageDetails)}finally{u=await Hu(t,h)}if(!u)return cm(c.output,"Dev container not found.");d=await si(t,u.Id,p,l.remoteUser),d.user!=="root"&&(d.launchRootShellServer?await uu(d,d.launchRootShellServer,p,l.configFilePath.path):c.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."))}return await Eb(u,t,d,l,m,$e(pn.posix,p),g,c.cwd,void 0)}catch(m){throw bb(m,u,t,d,l)}}async function pb(t,e){let{common:r}=t,{volumeName:n}=e,i,o,s,a,c;Tc(e)?(a=Cb,c="Inspect Volume"):(a=Br(e.repositoryPath).volumeDestination,c="Recovery Container");let l=pn.join(t.common.extensionPath,"scripts","devContainerInspect.json"),u={image:nm,name:c,configFilePath:Ee.parse(l),vscode:{settings:{"extensions.ignoreRecommendations":!0}}};s=[`${hL}=${n}`,`${Bu}=${r.product.quality}`],r.setWorkspaceName(c);try{if(i=await tm(t,s),i)await _b(t,s,i),o=await si(t,i.Id,a,u.remoteUser);else{await dL(t);try{let d=`src=${n},dst=${a},type=volume,volume-driver=local`;await Sb(t,u,void 0,nm,s,d,void 0)}finally{i=await Hu(t,s)}if(!i)return cm(r.output,"Dev container not found.");o=await si(t,i.Id,a,u.remoteUser),o.user!=="root"&&(o.launchRootShellServer?await uu(o,o.launchRootShellServer,a):r.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."))}return await Eb(i,t,o,u,void 0,$e(pn.posix,a),!0,r.cwd,void 0)}catch(d){throw bb(d,i,t,o,void 0)}}function bb(t,e,r,n,i){let o=t instanceof ce?t:new ce({description:"An error occurred setting up the container.",originalError:t});return e&&(o.manageContainer=!0,o.params=r.common,o.containerId=e.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function Eb(t,e,r,n,i,o,s,a,c){var C;let{common:l}=e,u=Nt(l.cliHost,r.shellServer);s||await Sh(e,u,n);let d={cwd:a,dockerCLI:e.dockerCLI,env:l.env,containerId:t.Id,user:r.user,sessionId:l.sessionId,shutdownAction:n.shutdownAction,logLevel:l.getLogLevel(),delay:1e4},{shutdownArgs:f}=await Qh(e,u,"singleContainer",d,s?n:void 0),{hostOrContainerPort:p,hostPortServer:h,connectionToken:m,webConnectionToken:g,remoteEnv:v,serverDownloaded:w}=await _o(l,r,n,i,c,((C=n.vscode)==null?void 0:C.devPort)||Eo);return f.hostPortServer=h,kc(l,r,p,m,g,t,o),{params:l,properties:r,config:n,resolvedAuthority:{host:Oo,port:p,connectionToken:m,extensionHostEnv:v},webConnectionToken:g,tunnelInformation:l.isLocalContainer?Ic(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:w}}async function bQ(t,e){var n;let r="image"in e?e.image:qu(t.common);return ut(e)&&(t.common.progress(bt.BuildingImage),await gL(t,e,r,(n=t.buildNoCache)!=null?n:!1)),r}async function EQ(t,e,r,n,i,o){var s;try{let a=r.imageName,c="image"in n?n.image:a;if(ut(n))try{t.common.progress(bt.BuildingImage);let l=n.configFilePath;if(l.scheme==="file"){let d=pn.dirname(l.fsPath),f=pn.basename(d)===".devcontainer",p=f?pn.dirname(d):d,h=fL.c({cwd:p},["."]),m=await new Promise(v=>{let w=[];h.on("data",C=>w.push(C)),h.on("end",()=>v(Buffer.concat(w)))}),g=`/tmp/devcontainer-${Date.now()}`;await o.exec(`# Copy local config folder to remote
mkdir -p ${g}
${fu(m.byteLength)} | tar --no-same-owner -x -C ${g}`,{stdin:m}),n=oe(W({},n),{configFilePath:Ee.from({scheme:qt.scheme,path:f?pn.posix.join(g,".devcontainer","devcontainer.json"):pn.posix.join(g,"devcontainer.json")})})}await gL(e,n,c,(s=t.buildNoCache)!=null?s:!1)}catch(l){throw l instanceof ce?l:new ce({description:"An error occurred building the image.",originalError:l})}return{imageName:c}}finally{je(t,"rm","-f",i)}}function mL(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if((r==="-u"||r==="--user")&&e+1<t.length)return t[e+1];if(r.startsWith("-u=")||r.startsWith("--user="))return r.substr(r.indexOf("=")+1)}}async function tm(t,e){let{common:r}=t,n=await Hu(t,e);if(t.expectExistingContainer&&!n)throw new ce({description:"The expected container does not exist."});if(n&&(t.removeOnStartup===!0||t.removeOnStartup===n.Id)){let i="Removing Existing Container",o=r.output.start(i);await je(t,"rm","-f",n.Id),r.output.stop(i,o),n=void 0}return n}async function _b(t,e,r){let{common:n}=t,i=r.State.Status!=="running";if(i){let o="Starting container",s=n.output.start(o);await je(t,"start",r.Id),n.output.stop(o,s),await Hu(t,e)||cm(n.output,"Dev container not found.")}return i}async function Hu(t,e){let r=await $i(t,!0,e);return(await Io(t,r)).filter(i=>i.State.Status!=="removing")[0]}async function gL(t,e,r,n){var d,f;let{cliHost:i,output:o}="cliHost"in t?t:t.common,s=Kt(i,e),a=await xb(s,i);if(!i.isFile(a))throw new ce({description:`Dockerfile (${a}) not found.`});let c=["build","-f",a,"-t",r],l=(d=e.build)==null?void 0:d.target;if(l&&c.push("--target",l),n)c.push("--no-cache","--pull");else if(e.build&&e.build.cacheFrom)if(typeof e.build.cacheFrom=="string")c.push("--cache-from",e.build.cacheFrom);else for(let p=0;p<e.build.cacheFrom.length;p++){let h=e.build.cacheFrom[p];c.push("--cache-from",h)}let u=(f=e.build)==null?void 0:f.args;if(u)for(let p in u)c.push("--build-arg",`${p}=${u[p]}`);c.push(await xb(CL(i,e),i));try{let p=oe(W({},ni(t)),{output:mt(o,se.Info)});await Ur(p,...c)}catch(p){throw new ce({description:"An error occurred building the image.",originalError:p,data:{fileWithError:a}})}}async function Sb(t,e,r,n,i,o,s){var le;let{common:a}=t;a.progress(bt.StartingContainer);let c=e.appPort,l=typeof c=="number"||typeof c=="string"?[c]:c||[],u=[].concat(...l.map(G=>["-p",typeof G=="number"?`127.0.0.1:${G}:${G}`:G])),d=o?["--mount",o]:[],f=e.mounts?[].concat(...e.mounts.map(G=>["--mount",G])):[];if(t.cacheMount==="volume")f.push("--mount","type=volume,src=vscode,dst=/vscode");else if(t.cacheMount==="bind"){await Rr(a.localCacheFolder);let G=a.localCacheFolder.indexOf(",")!==-1?'"':"";f.push("--mount",`type=bind,${G}src=${a.localCacheFolder}${G},dst=/vscode`)}let p=e.containerEnv,h=p?Object.keys(p).reduce((G,M)=>(G.push("-e",`${M}=${p[M]}`),G),[]):[],m=e.containerUser?["-u",e.containerUser]:[],g=[];((r==null?void 0:r.allFeatures)||[]).some(G=>(xt||G.included)&&G.value&&G.init)&&g.push("--init"),((r==null?void 0:r.allFeatures)||[]).some(G=>(xt||G.included)&&G.value&&G.privileged)&&g.push("--privileged");let v=new Set([].concat(...((r==null?void 0:r.allFeatures)||[]).filter(G=>(xt||G.included)&&G.value).map(G=>G.capAdd||[])));for(let G of v)g.push("--cap-add",G);let w=new Set([].concat(...((r==null?void 0:r.allFeatures)||[]).filter(G=>(xt||G.included)&&G.value).map(G=>G.securityOpt||[])));for(let G of w)g.push("--security-opt",G);let C=[].concat(...[].concat(...((r==null?void 0:r.allFeatures)||[]).map(G=>(xt||G.included)&&G.value&&G.mounts).filter(Boolean)).map(G=>["--mount",`type=${G.type},src=${G.source},dst=${G.target}`])),b=((r==null?void 0:r.allFeatures)||[]).map(G=>(xt||G.included)&&G.value&&G.entrypoint).filter(Boolean),_=["--entrypoint","/bin/sh"],S=["-c",`echo Container started
trap "exit 0" 15
${b.join(`
`)}
exec "$@"
while sleep 1 & wait $!; do :; done`,"-"];if(e.overrideCommand===!1&&s){let G=await s();S.push(...G.Config.Entrypoint||[]),S.push(...G.Config.Cmd||[])}let x=["run","--sig-proxy=false","-a","STDOUT","-a","STDERR",...u,...d,...f,...C,..._Q(i),"-l",`vsch.remote.devPort=${((le=e.vscode)==null?void 0:le.devPort)||Eo}`,...h,...m,...e.runArgs||[],...g,..._,n,...S],k,A=new Promise((G,M)=>k=M),{started:T}=await Jh(t,SQ(i),A,a.output,a.getLogLevel()===se.Trace),F="Starting container",H=a.output.start(F),Q=oe(W({},ni(t)),{output:mt(t.common.output,se.Info)});Ur(Q,...x).then(k,k),await T,a.output.stop(F,H)}function Dc(t){let e=(t.Config.Labels||{})[pL];return e||void 0}function sa(t){let e=(t.Config.Labels||{})[om];return e||void 0}function am(t){let e=(t.Config.Labels||{})[yb];return e||void 0}function vL(t){let e=(t.Config.Labels||{})[hL];return e||void 0}function yL(t){let e=(t.Config.Labels||{})[wb];return e||void 0}function _Q(t){let e=[];return t.forEach(r=>e.push("-l",r)),e}function SQ(t){let e={};return t.forEach(r=>{let n=r.split("=");e[n[0]]=n[1]}),e}function cm(t,e){throw t.write(Re(e)),new Error(e)}function xQ(t,e,r){let n=[];for(let i in r){let o=PQ[i],s=typeof o=="function"?o(t,e,r):o;s===!0?n.push(i):typeof s=="string"?n.push(s):Array.isArray(s)&&n.push(...s)}return n}var PQ={configFilePath:!1,image:!1,name:!1,forwardPorts:!1,appPort:!1,portsAttributes:!1,otherPortsAttributes:!1,runArgs:(t,e,r)=>{let n={"add-host":!0,"cap-add":!0,gpus:!0,hostname:!0,l:!0,label:!0,"security-opt":!0},i=[];for(let s of r.runArgs){let a=s.indexOf("="),c=a===-1?s.substr(2):s.substr(2,a);if(s.startsWith("--"))i.push(c);else if(s.startsWith("-"))for(let l of s.substr(1))i.push(l)}let o=[];for(let s of i)n[s]||o.push(s);return o},shutdownAction:!1,overrideCommand:!0,initializeCommand:!0,onCreateCommand:!1,updateContentCommand:!1,postCreateCommand:!1,postStartCommand:!1,postAttachCommand:!1,waitFor:!1,workspaceFolder:!1,workspaceMount:(t,e,r)=>wL(t,e,r.workspaceMount)?r.workspaceMount:!1,mounts:(t,e,r)=>r.mounts.filter(wL.bind(void 0,t,e)),containerEnv:!1,remoteEnv:!1,containerUser:!1,remoteUser:!1,updateRemoteUserUID:!1,userEnvProbe:!1,features:!1,hostRequirements:!1,vscode:!1};function wL(t,e,r){let n=!!r&&kQ(r);return n&&n.type==="bind"&&!!n.source&&IQ(t.common.cliHost,e.rootFolderPath,n.source)}function kQ(t){let e={src:"source",destination:"target",dst:"target"};return t.split(",").map(r=>r.split("=")).map(([r,n])=>[e[r]||r,n]).reduce((r,[n,i])=>(r[n]=i,r),{type:"bind"})}function IQ(t,e,r){let{path:n}=t,i=n.relative(e,r);return!!i&&!i.startsWith("..")&&!n.isAbsolute(i)}var bL=Y(require("path"));async function EL(t,e,r,n,i,o){let s,a=new Promise(h=>s=h),c=new RC,l=[],u=await RO("vscode-remote-containers",async(h,m)=>{let g=await NO(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch{}else if(g.type==="reply"){let w=l[g.sequence];w&&(w(g.reply),delete l[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});u.server.unref();let d=bL.join(r,"dist","shutdown","shutdownMonitorProcess"),f=[u.ipcHandlePath,t,se[e],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${d} ${f.join(" ")}\r
`);let p=HD(d,f,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function lm(t,e,r){let n=t.sequence++,i=new Promise(s=>t.replies[n]=s);return t.queue.push({type:"configure",sequence:n,options:e}),await i}async function _L({queue:t,done:e}){t.push({type:"cleanup"}),await e}var xL=Y(require("util"));var PL=Y(require("string_decoder")),fn="__UNIQUE__",Oo="127.0.0.1";async function xb(t,e){if(t.scheme==="file"&&e.type==="wsl"){let{stdout:r}=await Se({exec:e.exec,cmd:"wslpath",args:["-u",t.fsPath],output:rt});return r.toString().trim()}return Oe(t,e.platform)}function Rc(t,e){let r=t.platform==="win32"&&!t.env.SSH_AUTH_SOCK?qw:t.type==="wsl"?t.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return e&&("context"in e?n.DOCKER_CONTEXT=e.context:(e.host&&(e.host.startsWith("ssh://")&&t.type==="ssh"?n.VSCODE_DOCKER_HOST=e.host:n.DOCKER_HOST=e.host),e.certPath&&(n.DOCKER_CERT_PATH=e.certPath),e.tlsVerify&&(n.DOCKER_TLS_VERIFY=e.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function di(t){let e;if(t.DOCKER_CONTEXT&&t.DOCKER_CONTEXT!=="default")e={context:t.DOCKER_CONTEXT};else{e={};let r=t.VSCODE_DOCKER_HOST||t.DOCKER_HOST;r&&(e.host=r),t.DOCKER_CERT_PATH&&(e.certPath=t.DOCKER_CERT_PATH),t.DOCKER_TLS_VERIFY&&(e.tlsVerify=t.DOCKER_TLS_VERIFY),Object.keys(e).length||(e=void 0)}return e}function um(t,e){e&&("context"in e&&e.context&&t.write(`Context: ${e.context}\r
`),"host"in e&&e.host&&t.write(`Host: ${e.host}\r
`),"certPath"in e&&e.certPath&&t.write(`CertPath: ${e.certPath}\r
`),"tlsVerify"in e&&e.tlsVerify&&t.write(`TLSVerify: ${e.tlsVerify}\r
`))}function dm(t){return!t.VSCODE_DOCKER_HOST&&!t.DOCKER_HOST&&(!t.DOCKER_CONTEXT||t.DOCKER_CONTEXT==="default")}function No(t){return t&&("context"in t||t.host)?` @ ${"context"in t?t.context:t.host}`:""}async function fi(t,e){try{return await $t(t,e)}catch{return}}async function Jh(t,e,r,n,i){let o=await Cu(t,{event:["start"]});return{started:new Promise((s,a)=>{r.catch(u=>{o.terminate(),a(u)});let c=new PL.StringDecoder("utf8"),l="";o.stdout.on("data",async u=>{if(u){let d=c.write(u);i&&n.write(`Log: startEventSeen#data ${d.trim().replace(/\r?\n/g,`\r
`)}\r
`);let f=(l+d).split(`
`);l=f.pop();for(let p of f)if(p.trim())try{let h=JSON.parse(p);(h.status||h.Status)==="start"&&await AQ(t,h,e)&&(o.terminate(),s())}catch(h){console.error(h),console.error(p)}}})})}}async function AQ(t,e,r){var i;let n=((i=e.Actor)==null?void 0:i.Attributes)||(await $t(t,e.id||e.ID)).Config.Labels||{};return Object.keys(r).every(o=>n[o]===r[o])}function kc(t,e,r,n,i,o,s){let a=o.Ports.filter(f=>!!f.PublicPort),c="";if(t.authority&&s){let f=s.isWorkspaceFile?"workspace":"folder",p=e.remoteWorkspaceFolder||"/",h=s.isWorkspaceFile?Lo.posix.join(p,t.cliHost.path.basename(s.workspaceOrFolderPath)):p;c=`&${f}=${encodeURIComponent(`vscode-remote://${t.authority}${h}`)}`}let l=[...a.length?["Published Ports:"]:[],...a.map(f=>`${f.PrivatePort}/${f.Type} -> ${f.IP}:${f.PublicPort}`),...a.length?[""]:[],...t.web?[`VS Code Web: http://localhost:${r}?tkn=${n||i}${c}`,""]:[]],u=l.reduce((f,p)=>Math.max(p.length,f),0),d="-".repeat(u);u>0&&t.output.write(`\r
\r
${d}\r
${l.join(`\r
`)}${d}\r
\r
`)}async function fm(t){let{common:e}=t,{output:r}=e,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await je(t,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(Re(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new ce({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}async function W1(t,e,r){try{return await Ao(t,e)}catch(n){if(!r)throw n;try{await Ur(t,"pull",e)}catch{throw n.stdout&&t.common.output.write(n.stdout.toString()),n.stderr&&t.common.output.write(Re(n.stderr.toString())),n}return Ao(t,e)}}function Jt(t){return t.hostPath!==void 0}function un(t){return t.repositoryPath!==void 0}function Tc(t){return!un(t)&&t.volumeName!==void 0}function hn(t){let e=IL("dev-container",t);if(!!e)return typeof e=="string"?{hostPath:e}:"repositoryPath"in e?e.dockerHost?{repositoryPath:e.repositoryPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`,cloneInfo:e.cloneInfo}}:e:"hostPath"in e&&e.dockerHost?{hostPath:e.hostPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`}}:e}function Vu(t,e,r,n){let i=r?JSON.stringify({hostPath:t,localDocker:n,settings:r}):t;return`vscode-remote://dev-container+${Buffer.from(i,"utf8").toString("hex")}${e}`}function aa(t,e,r,n,i,o){if(t){let a=Br(t);if(!e){let l=JSON.stringify({repositoryPath:t,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${a.getOldWorkspacePath(t)}`}let c=JSON.stringify({repositoryPath:t,volumeName:e,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}let s=JSON.stringify({volumeName:e,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${Cb}`}function pm(t){let e=IL("attached-container",t);if(!!e)return typeof e=="string"?{containerId:e}:(e.dockerHost&&(e.settings={host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},delete e.dockerHost),e)}function kL(t,e,r){let n=JSON.stringify({containerName:t,settings:e,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function IL(t,e){try{let[r,n]=e.split("+"),i=r===t&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function Pb(t,e,r,n=!1){return!n&&await gw(t,e,r)||e}function AL(t,e,r){let n=t.path.relative(t.path.dirname(e),r);return`/workspaces/${t.platform==="win32"?n.replace(/\\/g,"/"):n}`}async function iL(t,e,r,n,i,o=!1){if("dockerComposeFile"in r)return{workspaceFolder:rb(r),workspaceMount:void 0};let{workspaceFolder:s,workspaceMount:a}=r;if(e&&(!s||!("workspaceMount"in r))){let c=await Pb(t,e.rootFolderPath,n,o);if(!s){let l=t.path.relative(t.path.dirname(c),e.rootFolderPath);s=`/workspaces/${t.platform==="win32"?l.replace(/\\/g,"/"):l}`}if(!("workspaceMount"in r)){let l=`/workspaces/${t.path.basename(c)}`,u=t.platform!=="linux"?`,consistency=${i||"consistent"}`:"",d=c.indexOf(",")!==-1?'"':"",f=l.indexOf(",")!==-1?'"':"";a=`type=bind,${d}source=${c}${d},${f}target=${l}${f}${u}`}}return{workspaceFolder:s,workspaceMount:a}}function TL(t,e,r){if(t==="win32")return e;let n=`${TQ(r,"/")}/`;return(t==="linux"?e.startsWith(n):e.toLowerCase().startsWith(n.toLowerCase()))&&(e=`~/${e.substr(n.length)}`),e}function TQ(t,e){if(e.length===0)return t;for(;t.endsWith(e);)t=t.substr(0,t.length-e.length);return t}function kO(t,e){return t.with({path:Lo.posix.resolve(t.path,e)})}async function DQ(t,e,r,n,i,o){let s=RQ(e,r,n,i,o);return Ur(t,...s)}function RQ(t,e,r,n,i){let o=["exec","-it"];if(r&&o.push("-w",r),o.push("-u",e),n)for(let s in n)o.push("-e",`${s}=${n[s]}`);return o.push(t,...i),o}async function Qh(t,e,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=t;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await EL(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?Lo.dirname(o.logFilePath):void 0,o.sessionStart);lm(c,n,o.output).catch(f=>console.error(f)),s&&s(async f=>{n.rebuild=!!f,n.delay=0,await lm(c,n,o.output)}),o.onDidChangeLogLevel(async f=>{n.logLevel=f,await lm(c,n,o.output)});let l={},u=async()=>{let f=_L(c);l.hostPortServer&&await(0,xL.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await f};o.shutdowns.push(u);let d=i?xO(t,e,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:l,doneWithDocuments:d}}function Ic(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}function CL(t,e){let r="dockerFile"in e?e.context:e.build.context;return r?ko(t,e,r):zs(Kt(t,e))}async function si(t,e,r,n,i){let{common:o}=t,s="Inspecting container",a=o.output.start(s),c=await $t(t,e);o.output.stop(s,a);let l=n||c.Config.User||"root",[,u,,d]=/([^:]*)(:(.*))?/.exec(l),f=OQ(c.Config.Env),p=Do(t,e,l),h=await bu(t,e,l,o.loadNativeModule),m=Do(t,e,"root"),g=c.Mounts.find(C=>C.Type==="volume"&&C.Name==="vscode"),v=c.Mounts.find(C=>C.Type==="bind"&&C.Source===o.localCacheFolder),w=g&&Lo.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination);return lh({params:o,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:w,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:r,containerUser:u==="0"?"root":u,containerGroup:d,containerEnv:f,remoteExec:p,remotePtyExec:h,remoteExecAsRoot:m,rootShellServer:i})}function OQ(t){return(t||[]).reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=r.substr(n+1)),e},{})}async function oL(t,e,r){if(!e)return;let{common:n,dockerEnv:i}=t,{cliHost:o,output:s}=n,a=o.platform==="win32",c=a?[o.env.ComSpec||"cmd.exe","/c"]:["/bin/sh","-c"],l=a&&Array.isArray(e)&&e.length?[(e[0]||"").replace(/\//g,"\\"),...e.slice(1)]:e,u=typeof l=="string"?[...c,l]:l;if(!u.length)return;let d="initializeCommand",f=mt(s,se.Info);try{f.raw(`[1mRunning the ${d} from devcontainer.json...[0m\r
\r
`),await Ri({ptyExec:o.ptyExec,cmd:u[0],args:u.slice(1),env:i,output:f,onDidInput:r}),f.raw(`\r
`)}catch(p){if(p&&(p.code===130||p.signal===2))f.raw(`\r
[1m${d} interrupted.[0m\r
\r
`);else throw new ce({description:`The ${d} in the devcontainer.json failed.`,originalError:p})}}async function sm(t,e,r,n,i){if(!i)return;let o=typeof i=="string"?["/bin/sh","-c",i]:i;if(!o.length)return;let s=t.common.postCreate,a="initializeCommand",c=mt(s.output,se.Info);try{c.raw(`[1mRunning the ${a} from devcontainer.json...[0m\r
\r
`);let l=oe(W({},ni(t)),{output:c,onDidInput:s.onDidInput});await DQ(l,e,r,n,void 0,o),c.raw(`\r
`)}catch(l){if(l&&(l.code===130||l.signal===2))c.raw(`\r
[1m${a} interrupted.[0m\r
\r
`);else throw new ce({description:`The ${a} in the devcontainer.json failed.`,originalError:l})}}function qu(t){let{cwd:e}="cwd"in t?t:t.cliHost,r=NQ(e),n=Lo.basename(e);return Ah(`vsc-${n}-${r}`)}function NQ(t){return SL.createHash("md5").update(t).digest("hex")}async function ia(t){let{cliHost:e}=t,{version:r}=t.package,n=e.path.join(await e.tmpdir(),"vsch","container-features",`${r}-${Date.now()}`);return await e.mkdirp(n),n}async function DL(t){let{common:e,dockerCLI:r,dockerComposeCLI:n,dockerEnv:i}=t,{cliHost:o,output:s}=e;return{cliHost:o,dockerCLI:r,dockerComposeCLI:n,env:i,output:s}}async function RL(t,e){return t.type==="local"&&e?t.path.join(e,"data"):t.path.join(await t.homedir(),".vscode-remote-containers","data")}var dt=Y(require("vscode"));var ca={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(t,e)=>!e,execute:async t=>{await dt.env.openExternal(dt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},la={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(t,e)=>!e&&t.data.reload!==!1,execute:async t=>{t.manageContainer&&t.dockerParams&&t.containerId&&await je(t.dockerParams,"stop","-t","0",t.containerId),await dt.commands.executeCommand("workbench.action.reloadWindow")}},OL={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(t,e)=>t.manageContainer&&!!t.dockerParams&&!!t.containerId&&!e,execute:async t=>{await je(t.dockerParams,"rm","-f",t.containerId),await dt.commands.executeCommand("workbench.action.reloadWindow")}},Oc={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(t,e)=>!e,execute:async t=>{await dt.commands.executeCommand("workbench.action.openRecent")}},NL={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:t=>!!t.dockerParams&&!!t.containerId&&t.data.start===!0,execute:async t=>{await je(t.dockerParams,"start",t.containerId),await dt.commands.executeCommand("workbench.action.reloadWindow")}},LL={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:t=>t.data.attach===!0,execute:async()=>{await dt.commands.executeCommand("remote-containers.attachToRunningContainer")}},Fo={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(t,e)=>{if(!e)return!1;let r=dt.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||dt.workspace.textDocuments.some(i=>i.isDirty))},execute:async t=>{await dt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Nc=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(t,e)=>e&&t.data.reload!==!1,execute:la.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(t,e)=>e,execute:async t=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(t,e)=>e&&!!t.data.learnMoreUrl,async execute(t){await dt.env.openExternal(dt.Uri.parse(t.data.learnMoreUrl))}}];async function Mo(t,e,r,n=!1,i){var f,p,h,m,g,v;let o=t instanceof ce?t:new ce({description:"An error occurred setting up the container.",originalError:t});if(i){i.show();let w=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(w!==void 0){i.log.write(Re(String(w)));let C=(p=(f=o.originalError)==null?void 0:f.stdout)==null?void 0:p.toString().trim();C&&i.log.write(C);let b=(m=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:m.toString().trim();b&&i.log.write(Re(b)),((g=o.originalError)==null?void 0:g.code)&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(t.message.indexOf("Cancelled container configuration selection")!==-1)throw await dt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),dt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[ca]);let a=await s.reduce(async(w,C)=>await C.applicable(o,!0)?[...await w,C]:w,Promise.resolve([])),c=await dt.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&(FL(r,e,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw dt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await s.reduce(async(w,C)=>await C.applicable(o,!1)?[...await w,C]:w,Promise.resolve([])),u=l.map(w=>({label:w.title,action:w}));async function d(){let C=await(l.length?dt.window.showQuickPick(u,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));C&&(FL(r,e,C.action.id),C.action.execute(o).catch(console.error),C.action.isLastAction||await d())}if(d().catch(console.error),n)throw dt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function FL(t,e,r){t.sendTelemetryEvent("errorAction",{resolver:e,action:r})}var ne=Y(require("vscode")),rd=Y(require("path")),pq=Y(require("os"));var hq=Y(AF()),Uo=Y(fq());var $re="remote.containers.defaultExtensions",hi="remote-containers.revealLogTerminal",yE="remote-containers.revealPostCreateTerminal",nd="remote-containers.openDevContainerFile",mq="remote-containers.openRepositoryInVolume",Rm="remote-containers.openRepositoryInUniqueVolume",gq="remote-containers.openRepositoryFromRemoteHub",vq="remote-containers.openPullRequestInVolume",id=ne.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),od=ne.Uri.parse("https://aka.ms/vscode-dev-containers"),yq=new Ew,lr={onRemoveOnShutdownChangedEmitter:yq,onRemoveOnShutdownChanged:yq.event,results:new Map},fa,mi=t=>VD(t,ne.env.appRoot);function Om(t,e,r,n){return async(i,o)=>{if(ne.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");let a=`Reconnection attempt ${o.resolveAttempt-1}`,c=t.log.start(a),{cliHost:l}=s.params;if(l.reconnect)try{await l.reconnect()}catch(u){throw t.log.write(Re(String(u&&(u.stack||u.message)||u))),ne.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(s.dockerContainerId){let u=await fi(s.dockerParams,s.dockerContainerId);if(!u)throw ne.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(u.State.Status==="paused")throw ne.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(u.State.Status!=="running")throw ne.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return t.log.stop(a,c),oe(W({},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=t.log.start(s),c=await n(i,t,e);return jre(c.params,c.properties).catch(l=>{}),r.set(i,c),t.log.stop(s,a),ne.window.withProgress({location:ne.ProgressLocation.Window,title:ine,cancellable:!1},async l=>{await OR(c.params.backgroundTasks)}).then(void 0,l=>{t.log.write(Re(String(l&&(l.stack||l.message)||l)))}),oe(W(W({},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function jre(t,e){if(!e.nodeExecutable)return;let r=await Le(rd.join(t.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await Li(t,e,[e.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();t.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var wE;async function Ure(t){return wE||(wE=ri(rd.join(__dirname,"..",".."),Vi,t)),wE}var sd={};async function Vi(t,e=!0){var r;if(t.counter&&((r=sd[t.prompt])==null?void 0:r.from)===t.counter&&delete sd[t.prompt],!sd[t.prompt]){if(!e)return"";sd[t.prompt]={result:Promise.resolve(ne.window.showInputBox({prompt:t.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:t.counter}}return sd[t.prompt].result}async function We(t,e,r,n=!0,i=Ure(e),o=!0){let s=!r;if(s){if(lr.results.size){let g=[...lr.results.values()].filter(v=>v.dockerParams)[0];return DL(g.dockerParams)}if(fa)return fa}r&&typeof r!="string"&&"scheme"in r&&(r.scheme==="file"?r=r.fsPath:r=lc(r));let a;if(!r){let g=(ne.workspace.workspaceFolders||[])[0];if(ne.env.remoteName==="wsl")g?r=lc(g.uri):r={wslDistro:Qp(ne.env.remoteAuthority),wslPath:"/"};else if(ne.env.remoteName==="ssh-remote"){let v=Bre(ne.env.remoteAuthority);if(v){let{user:w,hostName:C,port:b}=v;a={host:`ssh://${w?`${w}@`:""}${C}${b?`:${b}`:""}`},g?r=g.uri.path:r="/"}}else(g==null?void 0:g.uri.scheme)==="file"&&(r=g.uri.fsPath);r||(r=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=n?Mn():{executeInWSL:"never",defaultDistro:void 0},u=An(c,r,mi,l,t.extensionPath,Gi(),await ou(ne.env.appRoot),e,vi,{sshAskpassEnv:i,settings:Vc()});o&&!await Promise.race([u,ei(1e3)])&&await ne.window.withProgress({location:ne.ProgressLocation.Notification,title:`[Setting up Remote-Containers (show log)](command:${hi} "Show details in terminal")`,cancellable:!1},async()=>{await u});let d=await u,f=Fn(),p=Hc();if(!a){let g=ne.workspace.getConfiguration("docker"),v=g.get("context")||d.env.DOCKER_CONTEXT;if(!v){let w={cliHost:d,dockerCLI:f,dockerComposeCLI:oi({exec:d.exec,env:{},output:rt},f,p),env:{},output:rt};v=await LC(w)||"default"}v&&v!=="default"?a={context:v}:(a=di(d.env)||{},"context"in a||(CE(a,g,"host"),CE(a,g,"certPath"),CE(a,g,"tlsVerify"),Object.keys(a).length||(a=void 0)))}let h=W(W({},await i),Rc(d,a)),m={cliHost:d,dockerCLI:f,dockerComposeCLI:oi({exec:d.exec,env:h,output:e},f,p),env:h,output:e};return s&&(fa=m),m}var Nm;function wq(t){if(Nm)return Nm;let e=Vre(t);return t.subscriptions.push(e),t.subscriptions.push(e.event(()=>{let r=fa==null?void 0:fa.cliHost;fa=void 0,(r==null?void 0:r.terminate)&&r.terminate()})),Nm=e.event,Nm}function Bre(t){let e=/^ssh-remote\+(.*)$/.exec(t);if(!e)return;let r=e[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch{}return{hostName:r}}function CE(t,e,r){let n=e.get(r);n&&(t[r]=n)}var Hre=["remote.containers.dockerPath","remote.containers.executeInWSL","remote.containers.executeInWSLDistro","docker.context","docker.host","docker.certPath","docker.tlsVerify"];function Vre(t){let e=new ne.EventEmitter,r=ne.workspace.onDidChangeConfiguration(async c=>{Hre.some(l=>c.affectsConfiguration(l))&&e.fire()}),n,i,o,s=()=>{(async()=>{i||(i=await An(void 0,process.cwd(),mi,Mn(),t.extensionPath,Gi(),void 0,rt,vi));let c={cliHost:i,dockerCLI:Fn(),dockerComposeCLI:oi({exec:i.exec,env:{},output:rt},Fn(),Hc()),env:{},output:rt},l=await LC(c);l===void 0?o=setTimeout(s,2*60*1e3):(l!==n&&(n!==void 0&&e.fire(),n=l),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=e.dispose;return e.dispose=()=>{r.dispose(),o&&clearTimeout(o),a.call(e)},e}async function pa(){let t=ne.workspace.workspaceFolders;if((t==null?void 0:t.length)===1){let e=t[0].uri;return bE(e)}return null}async function bE(t){if(t&&t.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(t.authority)){let r=hn(t.authority);if(Jt(r))return null;if(un(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function Lm(t){return{getConfigurationState:()=>t.get("configurationState"),updateConfigurationState:async e=>t.update("configurationState",e),containerOutdated:Wre}}async function Wre(t){let e="Rebuild",r="Ignore",n=await ne.window.showInformationMessage(`Configuration file(s) changed: ${t.join(", ")}. The container might need to be rebuilt to apply the changes.`,e,r);if(n===e)return ne.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function Gre(t,e){return t?Cq():Array.from(new Set([...e,...ne.workspace.getConfiguration().get($re)||[],...Cq()]))}function Cq(){let t=ne.env.language,e=t.indexOf("-"),r=bq(t)||(e!==-1?bq(t.substr(0,e)):void 0);return r?[r]:[]}function bq(t){let e=t.toLowerCase();return ne.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===e}):!1}).map(r=>r.id)[0]}function zre(){return ne.env.isTelemetryEnabled}function Eq(){return!!ne.workspace.getConfiguration().get("workbench.enableExperiments")}function Kre(){return!!ne.workspace.getConfiguration().get("remote.containers.enableWebAccess")}function Fm(){return ne.workspace.getConfiguration().get("remote.containers.workspaceMountConsistency")||"cached"}function Mm(){return!!ne.workspace.getConfiguration().get("remote.containers.experimentalUpdateRemoteUserUIDOnMacOS")}function qm(){var t;return(t=ne.workspace.getConfiguration().get("remote.containers.cacheVolume"))!=null?t:!0}function Yre(){let t=ne.workspace.getConfiguration().get("remote.containers.copyGitConfig");return typeof t=="boolean"?t:!0}function Jre(){return ne.workspace.getConfiguration().get("remote.containers.gitCredentialHelperConfigLocation")||"global"}function Fn(){return ne.workspace.getConfiguration().get("remote.containers.dockerPath")||"docker"}function Mn(){return{executeInWSL:EE(),defaultDistro:Qre()}}function EE(){return process.platform!=="win32"?"never":ne.workspace.getConfiguration().get("remote.containers.executeInWSL",!1)?"always":"forWSLPath"}function Qre(){if(process.platform==="win32")return ne.workspace.getConfiguration().get("remote.containers.executeInWSLDistro")||void 0}function Hc(){return ne.workspace.getConfiguration().get("remote.containers.dockerComposePath")||"docker-compose"}function _E(){let t=ne.workspace.getConfiguration().get("remote.containers.logLevel")||"debug";return dS(t)}var Xre=t=>ne.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("remote.containers.logLevel")&&t(_E())});function Zre(){let t=ne.workspace.getConfiguration();return{repository:(t.get("remote.containers.dotfiles.repository","")||t.get("dotfiles.repository","")).trim()||void 0,installCommand:(t.get("remote.containers.dotfiles.installCommand","")||t.get("dotfiles.installCommand","")).trim()||void 0,targetPath:(t.get("remote.containers.dotfiles.targetPath","")||t.get("dotfiles.targetPath","")).trim()||"~/dotfiles"}}function Vc(){let t=ne.workspace.getConfiguration();return{executablePath:t.get("remote.SSH.path"),configFilePath:t.get("remote.SSH.configFile")}}function Wi(t,e,r,n,i,o){var l;let s={resolver:e,outcome:r};n&&(s.configProperties=JSON.stringify(Object.keys(n)),s.configExtensions=JSON.stringify(((l=n.vscode)==null?void 0:l.extensions)||[]),s.configFeatures=JSON.stringify(Object.keys(n.features||{})),"image"in n?s.configType="image":ut(n)?s.configType="dockerfile":"dockerComposeFile"in n&&(s.configType="dockerCompose")),i&&(s.hardwareId=i.osRelease.hardware,s.osReleaseId=i.osRelease.id,s.osReleaseVersion=i.osRelease.version);let a=o&&o.originalError,c=a&&(a.stack||a.message||String(a))||o&&o.description;c&&(s.errorMessage=c),t.sendTelemetryEvent("resolver",s)}var _q=class{constructor(e){this.onClose=e;this.writeEmitter=new ne.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new ne.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}handleInput(e){this.inputEmitter.fire(e)}},$m=class{constructor(e,r,n=void 0){this.sessionStart=r;this.outputTerminal=new _q(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=e?rd.join(e,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=ene(i,_E,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>ne.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(e){this._name=e}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(e){this._revealOnNextOutput=e}show(){this._terminal||(this._terminal=ne.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function ene(t,e,r,n,i=void 0){let o=[];return r&&o.push(hS(r,()=>Math.min(se.Debug,e()))),o.push(mS(t,e,n)),mt(pS(o,i))}async function SE(t,e){let r=await fi(t,e.Id);if(r&&r.State.Status==="running")try{await je(t,"stop",r.Id)}catch(n){ne.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function jm(t,e){let r=await fi(t,e.Id);if(r&&r.State.Status!=="running")try{await je(t,"start",r.Id)}catch(n){ne.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function Sq(t,e){try{await je(t,"rm",e)}catch(r){ne.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function xE(t,e){try{await je(t,"volume","rm","--force",e)}catch(r){ne.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function tne(){return ne.env.sessionId!=="someValue.sessionId"?ne.env.sessionId:`${ne.env.sessionId}_${Date.now()}`}function rne(t,e){let r=ne.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:e,tildify:!0}});t.shutdowns.push(r.dispose.bind(r))}async function xq(t,e){return t.globalState.get("removeOnStartup")===e?(await t.globalState.update("removeOnStartup",null),!0):t.workspaceState.get("removeOnStartup",!1)}async function Pq(t,e){await t.workspaceState.update("removeOnStartup",e)}async function PE(t,e){await t.globalState.update("removeOnStartup",e)}async function kq(t,e){return t.globalState.get("buildNoCache")===e?(await t.globalState.update("buildNoCache",null),!0):!1}async function ad(t,e){await t.globalState.update("buildNoCache",e)}async function cd(t,e,r,n,i){await t.globalState.update("openEditorsOnStartup",{workspaceFolder:e,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function Iq(t){var r;let e=t.globalState.get("openEditorsOnStartup");if(e){await t.globalState.update("openEditorsOnStartup",void 0);let n=(r=ne.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===e.workspaceFolder||o.uri.path===e.workspaceFolder),i=await pa();if(n||i&&i.repositoryPath===e.workspaceFolder&&(n=!0),n){let o=e.fileWithError?Ee.parse(e.fileWithError):void 0;if(e.openLog==="onTheSide"&&await Tq(o),e.openLog&&e.logFile){let s={viewColumn:e.openLog==="onTheSide"?ne.ViewColumn.Beside:ne.ViewColumn.One,preserveFocus:!0},a=await ne.window.showTextDocument(ne.Uri.file(e.logFile),s),c=new ne.Position(a.document.lineCount-1,0);a.selection=new ne.Selection(c,c),a.revealRange(a.selection)}return e.openLog!=="onTheSide"&&await Tq(o),!0}}return!1}function Aq(t){return[`vscode-remote:/workspaces/${t}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${t}/.devcontainer.json`]}async function Tq(t){return t?ne.commands.executeCommand("vscode.open",ne.Uri.parse(t.toString()),{viewColumn:ne.ViewColumn.One}):ne.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:ne.ViewColumn.One})}async function kE(t){if(lr.results.size)return[...lr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let e=gi(),r=ne.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=$e(t.path,Oe(o.uri,t.platform));return await ui(t,s,e)})),i=ne.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=$e(t.path,Oe(i,t.platform)),s=await ui(t,o,e);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function gi(){return ne.workspace.getConfiguration().get("remote.containers.repositoryConfigurationPaths")||[]}async function nne(t,e,r="localhost"){await ne.workspace.openTunnel({remoteAddress:{host:r,port:e}})}function Dq(t,e){let r=new $m(void 0,e);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i={enabled:!0,skipNonBlocking:!1,output:WD(r.log,t),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0)}};return{channel:r,postCreate:i}}async function Wc(t){let{authority:e,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:l,output:u,logFilePath:d,allowSystemConfigChange:f,postCreate:p}=t,h=Kre(),m=oe(W({computeExtensionHostEnv:!0},l),{appRoot:ne.env.appRoot,localCacheFolder:Gi(),extensionPath:r.extensionPath,webConnectionToken:void 0,sessionId:tne(),sessionStart:n,authority:e,cliHost:o,env:s,cwd:a,isLocalContainer:c,getExtensionsToInstall:Gre,isCopyGitConfigEnabled:Yre(),credentialHelperConfigLocation:Jre(),dotfilesConfiguration:Zre(),progress:sne(i),output:u,logFilePath:d,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,telemetry:zre(),forwardServerPort:!0,web:h,getLogLevel:_E,onDidChangeLogLevel:Xre,loadNativeModule:mi,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>rne(m,g),openTunnel:nne,getTunnels:()=>Promise.resolve(ne.workspace.tunnels),onAdoptProcess:ne.window.onDidOpenTerminal,persistedFolder:await RL(o,r.globalStoragePath),alternateDownload:vi});return m}async function vi(t,e){let r=await ne.commands.executeCommand("_workbench.downloadResource",ne.Uri.parse(t));if(!r)throw new ce({description:"Downloading the VS Code Server failed. Please try again later."});await Si(r.fsPath,e)}var Gc=`[Starting Dev Container (show log)](command:${hi} "Show details in terminal")`,ine=`[Configuring Dev Container](command:${yE} "Show details in terminal")`,one={[bt.Begin]:"",[bt.CloningRepository]:"Cloning Repository",[bt.BuildingImage]:"Building image",[bt.StartingContainer]:"Starting container",[bt.InstallingServer]:"Installing server",[bt.StartingServer]:"Starting server",[bt.End]:""};function Gi(){return rd.join(pq.tmpdir(),"vsch")}function sne(t){let e=0;return r=>{let n=bt.End-r,i=(100-e)/(n+1);t.report({message:one[r],increment:i}),e+=i}}async function Rq(t,e,r){let{name:n,publisher:i,version:o,aiKey:s}=e;if(!s)return cS(e,r);let a=i?`${i}.${n}`:n,c=new hq.default(a,o,s);t.subscriptions.push(c);let l=new Oq(c),u=ane(r),d=Eq()?(0,Uo.getExperimentationService)(a,o,u,l,t.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async f=>d&&Eq()?d.isCachedFlightEnabled(f):!1,product:r,package:e}}var Oq=class{constructor(e){this.baseReporter=e;this.sharedProperties={}}sendTelemetryEvent(e,r,n){this.baseReporter.sendTelemetryEvent(e,W(W({},this.sharedProperties),r),n)}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(e,n)}};function ane(t){switch(t.quality){case"stable":return Uo.TargetPopulation.Public;case"insider":return Uo.TargetPopulation.Insiders;case"exploration":return Uo.TargetPopulation.Internal;case void 0:return Uo.TargetPopulation.Team;default:return Uo.TargetPopulation.Public}}var ld="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",IE="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function ud(t,e){if((e==null?void 0:e.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||t.globalState.get(IE))return!0;let r="Got It",n="Learn More",i=await ne.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await t.globalState.update(IE,!0),!0):(i===n&&ne.env.openExternal(ne.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var AE="userConfirmedAttachToContainerRequiresTrust";async function Bo(t){if(t.globalState.get(AE))return!0;let e="Got It",r="Learn More",n=await ne.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},e,r);return n===e?(await t.globalState.update(AE,!0),!0):(n===r&&ne.env.openExternal(ne.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function Nq(t){t.globalState.setKeysForSync([IE,AE,TE])}function Lq(){let t=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(t)&&(process.env.PATH=`${t}:/usr/local/bin`)}var TE="updatedToPreRelease2",cne="2022-01-19T05:14:31.474Z";async function Fq(t,e){try{e.quality==="insider"&&e.date&&e.date.localeCompare(cne)>=0&&!t.globalState.get(TE,!1)&&(await t.globalState.update(TE,!0),await ne.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(r){console.error(r)}}var Xe=Y(require("vscode")),Fe=Y(require("path")),jH=Y(require("fs"));var Ki=Y(DU()),UH=Y(xH());var BH=Y(require("util"));var PH=Y(require("path"));var Rle=["png","md","json","txt","map"],Ole=["node_modules",".git","bin","out","dist",".vscode-test"],Nle=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],kH={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},IH={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},Lle=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function y_(t,e){for(let r of e)if(r.metaData){if(Lle.indexOf(PH.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if(IH[a]){let c=IH[a];for(let l of c)t.fileTypes.get(l.toLowerCase())&&(n+=10),t.mostPopularFileType===l&&(n+=10)}else if(kH[a]){let c=kH[a],l=!1;for(let u of c)t.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function AH(t,e){return Fle(t,e.rootFolderPath,Ole,Rle)}async function Fle(t,e,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(t.readDirWithTypes||t.readDir)(p).then(C=>{if(m.count>=s)return m.count+=C.length,m.maxReached=!0,g(v);let b=C.length;if(b===0)return g(v);let _=C;m.count+C.length>s&&(m.maxReached=!0,b=s-m.count,_=C.slice(0,b)),m.count+=C.length;for(let S of _){let x=Array.isArray(S)?S[0]:S;(Array.isArray(S)?Promise.resolve((S[1]&wl.File)!=0):t.isFile(t.path.join(p,x))).then(A=>{A?(v.push(x),--b==0&&g(v)):h.indexOf(x)===-1?a(t.path.join(p,x),h,m,T=>{if(v=v.concat(T),--b==0)return g(v)}):--b==0&&g(v)},()=>{if(--b==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},l=p=>{for(let h of Nle)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}l(p)},d=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],f={count:0,maxReached:!1};return new Promise((p,h)=>{a(e,r,f,async m=>{m.forEach(u),p({configFiles:o,fileTypes:i,fileCount:f.count,mostPopularFileType:d(i)})})})}var Wg=Y(require("path"));var Jo=Y(require("vscode"));async function Gg(){await Jo.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}function Qo(t,e){let r=Jo.workspace.fs;return{platform:t,path:t==="win32"?Wg.win32:Wg.posix,async isFile(n){try{return((await r.stat(_a(t,e,n))).type&Jo.FileType.File)!=0}catch(i){if((i==null?void 0:i.code)==="FileNotFound")return!1;throw i}},async readFile(n){try{let i=await r.readFile(_a(t,e,n));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${n}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async writeFile(n,i){await r.writeFile(_a(t,e,n),i)},async readDir(n){return(await r.readDirectory(_a(t,e,n))).map(o=>o[0])},async readDirWithTypes(n){return r.readDirectory(_a(t,e,n))},async mkdirp(n){await r.createDirectory(_a(t,e,n))},async toCommonURI(n){return _a(t,e,n)}}}function _a(t,e,r){let n=t==="win32"?"/"+r.replace(/\\/g,"/"):r;return e.with({path:n})}var zg=class{async readDocument(e){try{let r=await Jo.workspace.fs.readFile(e);return Buffer.from(r).toString()}catch{return}}async applyEdits(e,r,n){let i=Vt(n,r);await Jo.workspace.fs.writeFile(e,Buffer.from(i))}};var ve=Y(require("vscode"));var vt=Y(require("vscode")),TH=Y(require("path"));async function w_(t,e){var i,o;let{fileHost:r}=t,n=await t.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await vt.window.showQuickPick(n.map(d=>({label:d.scheme==="file"?d.fsPath:d.toString(),uri:d})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(Oe(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,l=$e(r.path,c),u=await S_(r,l);if(u){let d=oe(W({},u.object),{configFilePath:u.uri});if("image"in d)return{workspace:l,config:u,imageName:d.image,manifest:await Yd(d.image)};if(ut(d)){let f=((o=d.build)==null?void 0:o.args)||{},p=Kt(r,d),h=await C_(r,p,f);if(h)return W({workspace:l,config:u},h)}if("dockerComposeFile"in d){let f=await sr(r,d),p=await e.readDockerComposeConfig(f,void 0),h=await DH(r,f,c,u.uri,d,p);if(h)return W({workspace:l,config:u},h)}return{workspace:l,config:u}}}else{let s="Add Files...";await vt.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await Kd(t)}}async function DH(t,e,r,n,i,o){var u;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=Kg(t,e,r,s),c=a?qi(t,n,a):void 0,l=c&&await C_(t,c,((u=s.build)==null?void 0:u.args)||{});if(l)return l;if(typeof s.image=="string")return{imageName:s.image,manifest:await Yd(s.image)}}function Kg(t,e,r,n){let i=e.length?t.path.dirname(e[0]):r,o=n.build;if(typeof o=="string")return t.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return t.path.resolve(i,o.context,s)}}async function C_(t,e,r){let i=await Nt(t).readDocument(e);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(a,c)=>r[c]||a);return{imageName:s,manifest:await Yd(s)}}}}async function RH(t){let e=await w_(t,{readDockerComposeConfig:async(r,n)=>{if(r[0])try{let i=await t.fileHost.readFile(r[0]);return Er(i.toString())}catch(i){t.output.write(Re(String(i&&(i.stack||i.message)||i)))}return{}}});e&&await b_(t,e,{})}async function b_(t,e,r){var h;let{fileHost:n}=t,{workspace:i,config:o}=e,s=vt.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await t.telemetry,output:t.output},c={featureSets:[]},l=await cl(),u=On({distFolder:l}),d=await Fu(u,a.output);if(!d)return;d=oe(W({},d),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(d),c=await Wh(a,o.object,c,async()=>{var m,g;return W({"com.visualstudio.code.devcontainers.id":(m=e.manifest)==null?void 0:m.definitionName,version:(g=e.manifest)==null?void 0:g.definitionVersion},r)});let f=((h=c.featureSets.find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:h.features.filter(m=>m.included))||[];if(!f.length){await vt.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let p=await __(a,f,f.filter(m=>m.value!==!1));try{if(p){let m=o.text,g=o.text;for(let v of f){let w=p[v.id];if(w!==na(v)){let C=["features",v.id];if(w!==!1&&typeof v.value=="object"){let _=ii(v);_&&C.push(_)}let b=Ct(g,C,w!==!1?w:void 0,{formattingOptions:{}});g=Vt(g,b)}}m!==g&&await Nt(n).applyEdits(o.uri,[{content:g,offset:0,length:o.text.length}],o.text)}}finally{s.dispose()}}async function Yg(t,e,r,n){var u,d;if(!zd())return e;let i=e.configText,o=(u=t.existingConfig)==null?void 0:u.object.features;if(!t.replaceExistingConfig&&o){r=oe(W({},r),{features:W(W({},r.features),o)});for(let f in o){let p=Ct(i,["features",f],o[f],{formattingOptions:{}});i=Vt(i,p)}}let s=Qo(process.platform,Ee.file(e.configFilePath)),a=await E_(t,s,r,TH.basename(e.definitionFolder)),c=((d=((a==null?void 0:a.featureSets)||[]).find(f=>f.sourceInformation.type==="local-cache"))==null?void 0:d.features.filter(f=>f.included))||[],l=await __(t,c,c.filter(f=>f.value!==!1),!0);if(!!l){if(l==="back")return n();for(let f of c){let p=l[f.id];if(p!==na(f)){let h=["features",f.id];if(p!==!1&&typeof f.value=="object"){let g=ii(f);g&&h.push(g)}let m=Ct(i,h,p!==!1?p:void 0,{formattingOptions:{}});i=Vt(i,m)}}return oe(W({},e),{configText:i})}}async function E_(t,e,r,n){var l;let i;if("image"in r)i=await Yd(r.image);else if(ut(r)){let u=((l=r.build)==null?void 0:l.args)||{},d=Kt(e,r),f=await C_(e,d,u);i=f==null?void 0:f.manifest}else if("dockerComposeFile"in r){let u=await sr(e,r);if(u.length&&await e.isFile(u[0])){let d=await e.readFile(u[0]),f=Er(d.toString()),p=await DH(e,u,t.workspace.rootFolderPath,r.configFilePath,r,f);i=p==null?void 0:p.manifest}i=i||n&&await x_(n)||void 0}let o=await cl(),s=On({distFolder:o}),a={featureSets:[]},c=await Fu(s,t.output);if(!!c)return c=oe(W({},c),{sourceInformation:{type:"local-cache"}}),a.featureSets.push(c),a=await Wh(t,r,a,async()=>({"com.visualstudio.code.devcontainers.id":i==null?void 0:i.definitionName,version:i==null?void 0:i.definitionVersion})),a}var Gd={iconPath:new vt.ThemeIcon("check-all"),tooltip:"Finish"};async function __(t,e,r,n=!1){if(!e.length)return{};let i={iconPath:new vt.ThemeIcon("info"),tooltip:"Open Documentation"},o=t.quickPick.onDidTriggerItemButton(l=>{let u=l.item.feature.documentationURL;vt.env.openExternal(vt.Uri.parse(u))}),s=await jn(t.quickPick,e.map(l=>({label:l.name,picked:r.indexOf(l)!==-1,buttons:l.documentationURL?[i]:void 0,feature:l})).sort((l,u)=>l.label.localeCompare(u.label)),"Select additional features to install",void 0,!0,n?[vt.QuickInputButtons.Back,Gd]:[Gd]);if(o.dispose(),!s)return;if(s.button===vt.QuickInputButtons.Back)return"back";let a=s.pick.map(l=>l.feature),c={};for(let l of e){let u=a.indexOf(l)!==-1;c[l.id]=u?na(l)||B1(l):!1}return s.button===Gd?c:qle(t,c,a,()=>__(t,e,a))}function Mle(t){let e=ii(t),r=e&&t.options&&t.options[e];return!!r&&r.type==="string"&&("enum"in r||"proposals"in r)}async function qle(t,e,r,n){let i=r.filter(Mle);return async function o(s,a,c){if(!a.length)return s;let l=a[0],u=l.options[ii(l)],d=("enum"in u&&u.enum||"proposals"in u&&u.proposals||[]).map(h=>({label:String(h),value:h,picked:na(l)===h})),f=d.length===1?{pick:d[0],button:"ok"}:await jn(t.quickPick,d,u.description||"Select a value",void 0,void 0,[vt.QuickInputButtons.Back,Gd],"proposals"in u);if(!f)return;if(f.button===vt.QuickInputButtons.Back)return c();let p=oe(W({},s),{[l.id]:f.pick.value});return f.button===Gd?s:o(p,a.slice(1),()=>o(s,a,c))}(e,i,n)}var OH="remote.containers.experimentalContainerFeatures";function NH(){return vt.commands.executeCommand("setContext","experimentalContainerFeatures",zd()),vt.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(OH)&&vt.commands.executeCommand("setContext","experimentalContainerFeatures",zd())})}function zd(){return vt.workspace.getConfiguration().get(OH,!0)}var P_=Y(require("path"));function LH(t){return{provideCompletionItems(e,r,n){let i=Wk(e.getText(),e.offsetAt(r)),o=e.getWordRangeAtPosition(r)||new ve.Range(r,r);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=et(e.getText());return s.configFilePath=e.uri,$le(s,o)}if(zd()&&i.path[0]==="features"){let s=et(e.getText());s.configFilePath=e.uri;try{return jle(t,s,i,o)}catch(a){console.error(a)}}return[]}}}function $le(t,e){var n;let r=((t==null?void 0:t.extensions)||[]).concat(((n=t==null?void 0:t.vscode)==null?void 0:n.extensions)||[]);if(Array.isArray(r)){let i=ve.extensions.all.filter(o=>!(o.id.startsWith("vscode.")||o.id==="Microsoft.vscode-markdown"||r.indexOf(o.id)>-1));if(i.length)return i.map(o=>{let s=new ve.CompletionItem(o.id),a=`"${o.id}"`;return s.kind=ve.CompletionItemKind.Value,s.insertText=a,s.range=e,s.filterText=a,s})}}async function jle(t,e,r,n){var o,s;let i=e&&e.features||{};if(typeof i=="object"){if(e.configFilePath.scheme==="vscode-remote"&&t.fileHost.type==="local"){e=oe(W({},e),{configFilePath:e.configFilePath.with({scheme:qt.scheme,authority:""})});let h=ve.env.remoteName&&ve.env.remoteName!=="test"?"linux":process.platform,m=((o=(ve.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||Ee.file(process.cwd());t=oe(W({},t),{fileHost:await Qo(h,m)})}let{path:a}=t.fileHost,c=Oe(e.configFilePath,t.fileHost.platform),l=a.basename(c),u=a.dirname(c),d=$e(a,l===".devcontainer.json"?u:a.dirname(u)),f=await E_(oe(W({},t),{workspace:d}),t.fileHost,e),p=((s=((f==null?void 0:f.featureSets)||[]).find(h=>h.sourceInformation.type==="local-cache"))==null?void 0:s.features.filter(h=>h.included))||[];if(r.path.length===2)if(r.isAtPropertyKey){let h=p.filter(m=>!(m.id in i));if(h.length)return h.map(m=>{let g=new ve.CompletionItem(m.id),v=`"${m.id}": `;return g.kind=ve.CompletionItemKind.Property,g.insertText=v,g.range=n,g.filterText=v,g})}else{let h=r.path[1],m=p.find(g=>g.id===h);if(m){let g=ii(m),v=g&&(m.options||{})[g]||{type:"boolean",description:"Set to true to install."},w=(v.type==="string"?("enum"in v&&v.enum||"proposals"in v&&v.proposals||[""]).map(C=>`"${C}"`):["true","false"]).map(C=>({label:C,text:C}));return w.push({label:"{}",text:new ve.SnippetString(`{
	$1
}$0`)}),w.map(({label:C,text:b},_)=>{let S=new ve.CompletionItem(C);return S.kind=ve.CompletionItemKind.Value,S.insertText=b,S.range=n,S.sortText=`${_}_${C}`,S})}}else if(r.path.length===3){let h=r.path[1],m=p.find(g=>g.id===h);if(m){let g=m.options||{};if(r.isAtPropertyKey)return Object.keys(g).filter(v=>!(v in(i[h]||{}))).map(v=>{let w=new ve.CompletionItem(v),C=`"${v}": `;return w.kind=ve.CompletionItemKind.Property,w.insertText=C,w.range=n,w.filterText=C,w.detail=g[v].description,w});{let v=r.path[2],w=g[v];if(w)return(w.type==="string"?("enum"in w&&w.enum||"proposals"in w&&w.proposals||[""]).map(b=>`"${b}"`):["true","false"]).map((b,_)=>{let S=new ve.CompletionItem(b),x=b;return S.kind=ve.CompletionItemKind.Value,S.insertText=x,S.range=n,S.filterText=x,S.sortText=`${_}_${b}`,S})}}}}}async function FH(t){let e=await k_(t);if((e==null?void 0:e.scheme)===qt.scheme){let r=Oe(e,t.fileHost.platform);e=await t.fileHost.toCommonURI(r)}e&&await ve.window.showTextDocument(ve.Uri.parse(e.toString()))}async function k_(t){let e=await t.findDevContainerFiles();if(!e.length){let n="Add Files...";await ve.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Kd(t)&&(e=await t.findDevContainerFiles())}if(!e.length)return;let r;return e.length===1?r={uri:e[0]}:r=await ve.window.showQuickPick(e.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function MH(t,e){var n,i,o;let r=await k_(t);if(r){let s=Nt(t.fileHost);r.scheme==="file"&&!await ht(r.fsPath)?await sn(Tn,r,[],Mi):r.scheme==="vscode-remote"&&(s=new zg);let a=await s.readDocument(r);if(a){let c=!/\.?devcontainer\.json/.test(P_.default.posix.basename(r.path)),l=et(a),u=!c&&((n=l.vscode)==null?void 0:n.extensions),d=(u?(i=l.vscode)==null?void 0:i.extensions:l.extensions)||[],f=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if((l.extensions||[]).concat(((o=l.vscode)==null?void 0:o.extensions)||[]).indexOf(e)===-1){d.push(e);let p;u?l.vscode?p=Ct(a,["vscode","extensions"],d,{formattingOptions:{}}):p=Ct(a,["vscode"],{extensions:d},{formattingOptions:{}}):p=Ct(a,["extensions"],d,{formattingOptions:{}}),await s.applyEdits(r,p,a),await ve.window.showInformationMessage(`Extension has been added to the ${f}.`)}else await ve.window.showInformationMessage(`Extension is already included in the ${f}.`)}}}async function qH(t,e){var s,a;let r=await ve.commands.executeCommand("remote.tunnel.label",e);if(r===void 0)return;let n=r.label,i=r.port,o=await k_(t);if(o){let c=Nt(t.fileHost);o.scheme==="file"&&!await ht(o.fsPath)?await sn(Tn,o,[],Mi):o.scheme==="vscode-remote"&&(c=new zg);let l=await c.readDocument(o);if(l){let d=(s=et(l).portsAttributes)!=null?s:{},f=(a=d[`${i}`])!=null?a:{},p=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if(d&&f&&f.label===n)await ve.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{f.label=n,d[`${i}`]=f;let h=Ct(l,["portsAttributes"],d,{formattingOptions:{}});await c.applyEdits(o,h,l),await ve.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}function $H(t,e){let r=ve.languages.createDiagnosticCollection("devcontainer");return ve.window.activeTextEditor&&I_(ve.window.activeTextEditor.document,r,e.output),t.subscriptions.push(ve.workspace.onDidChangeTextDocument(n=>{n&&I_(n.document,r,e.output)})),t.subscriptions.push(ve.workspace.onDidOpenTextDocument(n=>{n&&I_(n,r,e.output)})),r.dispose}function I_(t,e,r){let n=P_.default.basename(t.uri.fsPath);if(/\.?devcontainer\.json/.test(n)){let i=up(t.getText());if(!i)return;let o=dp(i)||{},s=[...Ule(t,o,r),...Ble(i,t)];e.set(t.uri,s)}}function Ule(t,e,r){let n=e==null?void 0:e.features;if(!n)return[];let i=[];return Object.keys(n).forEach(o=>{let s=Hh(o,r);if(!s||s.sourceInformation.type!=="local-cache")for(let a=0;a<t.lineCount;a++){let c=t.lineAt(a);if(c.text.includes(o)){let l=c.text.indexOf(o),u=l+o.length,d=s==null?void 0:s.sourceInformation,f="Expected feature identifier to contain only alphanumeric and/or the '-' characters.",p=ve.DiagnosticSeverity.Error;d&&(f=`WARNING: Provided feature syntax is currently experimental and is subject to change.
`,p=ve.DiagnosticSeverity.Warning);let h={message:f,severity:p,range:new ve.Range(new ve.Position(a,l),new ve.Position(a,u))};i.push(h);break}}if(s&&s.sourceInformation.type==="github-repo")for(let a=0;a<t.lineCount;a++){let c=t.lineAt(a),l=s.sourceInformation;if(c.text.includes(o)){let u=c.text.indexOf(o),d=u+o.length,f={message:"Feature-set source can be found on GitHub.",range:new ve.Range(new ve.Position(a,u),new ve.Position(a,d)),code:{target:ve.Uri.parse(`https://github.com/${l.owner}/${l.repo}`),value:"github-repo"},severity:ve.DiagnosticSeverity.Information};i.push(f);break}}}),i}function Ble(t,e){return["extensions","settings","devPort"].filter(r=>mo(t,[r])&&mo(t,["vscode",r])).map(r=>{var s,a;let n=(((a=(s=mo(t,[r]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=e.positionAt(n.offset),o=e.positionAt(n.offset+n.length);return{message:`Legacy "${r}" property when "${r}" property under "vscode" is also present.`,range:new ve.Range(i,o),severity:ve.DiagnosticSeverity.Warning}})}async function HH(t,e){return $H(t,e),{async openConfiguration(){return FH(e)},async createConfiguration(){return Kd(e)},async addExtensionToConfiguration(r){return MH(e,r)},async addPortLabelToConfiguration(r){return qH(e,r)},async configureContainerFeatures(){return RH(e)},createCompletionItemProvider(){return LH(e)}}}async function Kd(t){let{fileHost:e}=t,r=await Hle();if(r){let n=Oe(r,e.platform),i=$e(e.path,n),o=await Pp(e,i);if(o){let a="Continue";if(await Xe.window.showInformationMessage(`The workspace could fail to open in a container: ${o}`,{modal:!0},a)!==a)return!1}let s=await Jd(t,i);if(s){let a=await e.toCommonURI(s);return a&&Xe.window.showTextDocument(Xe.Uri.parse(a.toString())),!0}}return!1}async function Hle(){let t=Xe.workspace.workspaceFile,e=Xe.workspace.workspaceFolders,r;if(t){if(t.scheme==="untitled"){await Gg();return}r=t}else if(e&&e.length)if(e.length>1){let n=await Xe.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=e[0].uri;return r}function jn(t,e,r,n,i,o,s){if(t.value="",t.title=n||"Add Development Container Configuration Files",t.placeholder=r,t.canSelectMany=!!i,Array.isArray(e))if(t.items=e,i)t.selectedItems=e.filter(l=>l.picked);else{let l=e.find(u=>u.picked);l&&(t.activeItems=[l])}t.buttons=o?Array.isArray(o)?o:[Xe.QuickInputButtons.Back]:[];let a=[],c=new Promise((l,u)=>{if(Array.isArray(e)||(t.busy=!0,e.then(d=>{if(t.busy=!1,t.items=d,i)t.selectedItems=d.filter(f=>f.picked);else{let f=d.find(p=>p.picked);f&&(t.activeItems=[f])}},d=>{t.busy=!1,u(d)})),a.push(t.onDidAccept(()=>{let d=i?t.selectedItems.slice():t.selectedItems[0];l(Array.isArray(o)?{pick:d,button:"ok"}:d),a.forEach(f=>f.dispose())})),t.buttons.length&&a.push(t.onDidTriggerButton(d=>{let f=i?t.selectedItems.slice():t.activeItems[0];l(o===!0?"back":{pick:f,button:d}),a.forEach(p=>p.dispose())})),a.push(t.onDidHide(()=>{a.forEach(d=>d.dispose()),t.dispose(),l(void 0)})),s){let d;a.push(t.onDidChangeValue(f=>{let p=f.trim().toLowerCase(),h=!p||t.items.find(m=>m.label.toLowerCase()===p);if(h&&d)t.items=t.items.filter(m=>m!==d),d=void 0;else if(!h){let m=t.items.filter(g=>g!==d);m.push(d={label:`Other: ${f}`,value:f}),t.items=m}}))}});return t.show(),c}var A_={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function Jd(t,e){let{fileHost:r,telemetry:n}=t,i=await n,o=await S_(r,e),a=!!Cc(o==null?void 0:o.object)&&!!o;if(a){Wr(i,"exists");let l=Oe(o.uri,r.platform);if(!await Xe.window.showWarningMessage(`Dev Container configuration '${r.path.relative(e.configFolderPath,l)}' file already exists.`,{modal:!0},"Continue")){let d=await r.toCommonURI(l);d&&Xe.window.showTextDocument(Xe.Uri.parse(d.toString()));return}}let c=Xe.window.createQuickPick();return c.ignoreFocusOut=!0,T_(oe(W({},t),{quickPick:c,replaceExistingConfig:a,existingConfig:o,telemetry:i,workspace:e,codespaces:!!t.codespaces}))}async function T_(t){let{fileHost:e,workspace:r,telemetry:n,existingFilesLearnMoreLink:i}=t,o=await e.readDir(r.rootFolderPath),s=o.filter(p=>/docker.*compose/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),a=o.filter(p=>/dockerfile/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),c=a.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:XH(e,p),dockerfile:h,dockerfilePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerfile"}}),l=s.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:XH(e,p),dockerComposeFile:h,dockerComposePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerComposeFile"}});if(!(a.length>0||s.length>0))return Jg(t,void 0);let d={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},f=await jn(t.quickPick,[d,...c,...l,...i?[A_]:[]],"How would you like to create your container configuration?");if(!f){Wr(n,"canceled");return}if(f.type==="help"){Wr(n,"help"),Xe.env.openExternal(i);return}if(f.type==="predefined")return Jg(t,()=>T_(t));if(f.type==="dockerComposeFile")return Yle(t,f.dockerComposePath,()=>T_(t));if(f.type==="dockerfile")return Kle(t,f.dockerfilePath)}function VH(t){let e=t.metaData.get("categories");return e?e.trim().split(", ").indexOf("Core")>-1:!1}async function Vle(t){let{fileHost:e,workspace:r,predefinedDefinitionsLearnMoreLink:n}=t,i=t.stats||(t.stats=await AH(e,r)),o=await eV(t.codespaces,y_.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await Qle(t.codespaces):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&VH(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[A_]:[],...s]:a=[...n?[A_]:[],...o],{items:a,stats:i}}async function Jg(t,e){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=t,i=Vle(t),{infoButton:o,sub:s}=GH(t),a=i.then(l=>l.items.map(u=>u.type==="baseConfiguration"?oe(W({},u),{buttons:[o]}):u)),c=await jn(t.quickPick,a,"Select a container configuration definition",void 0,void 0,!!e);if(s.dispose(),c==="back")return e();if(!c){Wr(r,"canceled");return}if(c.type==="help"){Wr(r,"help"),Xe.env.openExternal(n);return}if(c.type==="showAll")return WH(t,(await i).stats,()=>Jg(t,e));if(c.type==="baseConfiguration")return zH(t,c,()=>Jg(t,e))}async function WH(t,e,r){let{telemetry:n}=t,i=await eV(t.codespaces,y_.bind(null,e)),{infoButton:o,sub:s}=GH(t),a=i.map(l=>l.type==="baseConfiguration"?oe(W({},l),{buttons:[o]}):l),c=await jn(t.quickPick,a,"Select a container configuration definition",void 0,void 0,!0);if(s.dispose(),c==="back")return r();if(c&&c.type==="baseConfiguration")return zH(t,c,()=>WH(t,e,r));Wr(n,"canceled")}function GH(t){let e={iconPath:new Xe.ThemeIcon("info"),tooltip:"Open Documentation"},r=t.quickPick.onDidTriggerItemButton(n=>{let i=`https://github.com/microsoft/vscode-dev-containers/blob/main/containers/${Fe.basename(n.item.definitionFolder)}/README.md`;Xe.env.openExternal(Xe.Uri.parse(i))});return{infoButton:e,sub:r}}async function zH(t,e,r){let{telemetry:n}=t,i=await Wle(t,e);if(!i){Wr(n,"canceled");return}return i==="back"?r():(Wr(n,"definition",Fe.basename(i.definitionFolder)),D_(t,i))}async function D_(t,e){let{quickPick:r}=t;r.busy=!0,r.enabled=!1;try{return await tue(t,e)}finally{r.hide()}}async function Wle(t,e){let r=et(e.configText);if(r.configFilePath=Ee.file(e.configFilePath),ut(r))return Gle(t,e,r,async()=>"back",(n,i)=>KH(t,n,r,i));if("dockerComposeFile"in r){let n=Qo(process.platform,Ee.file(e.configFilePath));return zle(t,e,n,r,async()=>"back",(i,o)=>YH(t,i,n,r,o))}return Yg(t,e,r,async()=>"back")}async function Gle(t,e,r,n,i){var c;let o=Kt({platform:process.platform},r),s=((c=r.build)==null?void 0:c.args)||{},a=await JH(o,s);return async function l(u,d,f){if(!d.length)return i(oe(W({},e),{configText:u}),f);let p=d[0],h=await jn(t.quickPick,p.items,p.placeholder,void 0,void 0,!0);if(!h)return;if(h==="back")return f();let m=u;if(h.value!==p.default){let g=Ct(m,["build","args",p.name],h.value,{formattingOptions:{}});m=Vt(m,g)}return l(m,d.slice(1),()=>l(u,d,f))}(e.configText,a,n)}async function KH(t,e,r,n){var u;let i=Kt({platform:process.platform},r),o=((u=r.build)==null?void 0:u.args)||{},{options:s,hasOptions:a}=await QH(i,o),c=s.length?await jn(t.quickPick,s,a?`Select the options for the '${e.label}' dev container`:`Select the install options for the '${e.label}' dev container`,void 0,!0,!0):[];if(!c)return;if(c==="back")return n();let l=e.configText;for(let d of s){let f=c.indexOf(d)!==-1;if(f!==d.default){let p=Ct(l,["build","args",d.name],String(f),{formattingOptions:{}});l=Vt(l,p)}}return Yg(t,oe(W({},e),{configText:l}),r,s.length?()=>KH(t,e,r,n):n)}async function zle(t,e,r,n,i,o){var a;let s=await sr(r,n);if(s.length&&await r.isFile(s[0])){let c=e.files||{},l=c[s[0]]||(await r.readFile(s[0])).toString(),u=Er(l),d=((u==null?void 0:u.services)||{})[n.service]||{},f=t.workspace.rootFolderPath,p=Kg(r,s,f,d);if(p){let h=n.configFilePath,m=qi(r,h,p),g=((a=d.build)==null?void 0:a.args)||{},v=await JH(m,g),w;return async function C(b,_){if(!b.length)return w&&(c[s[0]]=w.toString()),o(oe(W({},e),{files:c}),_);let S=b[0],x=await jn(t.quickPick,S.items,S.placeholder,void 0,void 0,!0);if(!!x){if(x==="back")return _();if(x.value!==S.default){w||(w=Ki.parseDocument(l,{lineCounter:new Ki.LineCounter}));let k=w.getIn(["services","app","build"]);k.has("args")||k.set("args",new Ki.YAMLMap),k.get("args").set(S.name,x.value)}return C(b.slice(1),()=>C(b,_))}}(v,i)}}return o(e,i)}async function YH(t,e,r,n,i){var c;let o=!1,s=e.files||{},a=await sr(r,n);if(a.length&&await r.isFile(a[0])){let l=s[a[0]]||(await r.readFile(a[0])).toString(),u=Er(l),d=((u==null?void 0:u.services)||{})[n.service]||{},f=t.workspace.rootFolderPath,p=Kg(r,a,f,d);if(p){let h=n.configFilePath,m=qi(r,h,p),g=((c=d.build)==null?void 0:c.args)||{},{options:v,hasOptions:w}=await QH(m,g);o=!!v.length;let C=v.length?await jn(t.quickPick,v,w?`Select the options for the '${e.label}' dev container`:`Select the install options for the '${e.label}' dev container`,void 0,!0,!0):[];if(!C)return;if(C==="back")return i();let b;for(let _ of v){let S=C.indexOf(_)!==-1;if(S!==_.default){b||(b=Ki.parseDocument(l,{lineCounter:new Ki.LineCounter}));let x=b.getIn(["services","app","build"]);x.has("args")||x.set("args",new Ki.YAMLMap),x.get("args").set(_.name,String(S))}}b&&(s[a[0]]=b.toString())}}return Yg(t,oe(W({},e),{files:s}),n,o?()=>YH(t,e,r,n,i):i)}async function JH(t,e){let r=(await Le(t.fsPath)).toString(),n=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);return o.map(([,s,a,c,l])=>{let u=e[c]||l,d=a.trim().split(",").map(p=>p.trim()).map(p=>({label:p,description:p===u?"(default)":void 0,value:p})),f=d.findIndex(p=>p.value===u);return f!==-1&&d.unshift(...d.splice(f,1)),{placeholder:s||c,name:c,default:u,items:d}})}async function QH(t,e){let r=(await Le(t.fsPath)).toString(),n=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);let s=o.map(([,c,l,u,d])=>{let p=(e[u]||d)==="true";return{type:c.toLowerCase(),label:l||u,picked:p,name:u,default:p}}),a=s.some(c=>c.type==="option");return a&&s.filter(c=>c.type==="install").forEach(c=>c.label=`Install ${c.label}`),{options:s,hasOptions:a}}function XH(t,e){let r=Xe.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>t.platform==="win32"?e.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):e.startsWith(i.uri.fsPath));return n&&n.name}async function Kle(t,e){let{fileHost:r,workspace:n,telemetry:i}=t,s=(await Qg()).find(a=>Fe.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=Fe.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==Fe.sep?a.replace(Fe.sep===Fe.win32.sep?/\\/g:/\//g,r.path.sep):a,l=r.path.resolve(n.configFolderPath,c),u=r.path.relative(r.path.dirname(l),e),d=r.platform==="win32"?u.replace(/\\/g,"/"):u,f="dockerFile"in et(s.configText)?["dockerFile"]:["build","dockerfile"],p=Ct(s.configText,f,d,{formattingOptions:{}}),h=Vt(s.configText,p);return Wr(i,"dockerFile"),D_(t,oe(W({},s),{configText:h}))}else{Wr(i,"existingDockerfileDefinitionNotFound");return}}async function Yle(t,e,r){let{fileHost:n,workspace:i,telemetry:o}=t,s=(await n.readFile(e)).toString(),a=Er(s);if(!a){await Xe.window.showErrorMessage(`Invalid docker-compose file "${e}"`,{modal:!0});return}let c=a.version,l=Object.keys(a&&a.services||{}),u=l.length<2?l[0]||"":await jn(t.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(u==="back")return r();if(u===void 0){Wr(o,"canceled");return}let d=typeof u=="string"?u:u.label,p=(await Qg()).find(h=>Fe.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=Fe.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==Fe.sep?h.replace(Fe.sep===Fe.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),e),w=n.platform==="win32"?v.replace(/\\/g,"/"):v,C=et(p.configText).dockerComposeFile,b=Array.isArray(C)?C.slice(1):[],_=[w,...b],S=Ct(p.configText,["dockerComposeFile"],_,{formattingOptions:{}}),x=Vt(p.configText,S),k=Ct(x,["service"],d,{formattingOptions:{}}),A=Vt(x,k),T=b.reduce((H,Q)=>(H[ko({platform:process.platform},{configFilePath:Ee.file(p.configFilePath)},Q).fsPath]=!0,H),{}),F=oe(W({},p),{configText:A,async copyFile(H,Q){if(T[H]){let J=this.files&&this.files[H]||(await Le(H)).toString(),le=Er(J);le.version&&c&&le.version!==c&&(J=J.replace(new RegExp(`^(version:.*)(${le.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let G=Object.keys(le&&le.services||{});G.length&&(J=J.replace(new RegExp(`\\b${G[0]}\\b`),d)),await n.writeFile(Q,Buffer.from(J))}else{let J=this.files&&this.files[H]?Buffer.from(this.files[H]):await Le(H);await n.writeFile(Q,J)}}});return Wr(o,"dockerComposeFile"),D_(t,F)}else{Wr(o,"existingDockerComposeDefinitionNotFound");return}}function Wr(t,e,r){let n={outcome:e};r&&(n.definitionName=r),t.sendTelemetryEvent("createConfiguration",n)}function Jle(t,e){let r=e.recommendationScore===void 0?0:e.recommendationScore,n=t.recommendationScore===void 0?0:t.recommendationScore;return r-n}var ZH=["docker-existing-docker-compose","docker-existing-dockerfile"];async function eV(t,e){let r=(await Qg()).filter(n=>ZH.indexOf(Fe.basename(n.definitionFolder))===-1);return t&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),e?(await e(r),r.sort(Jle)):r.sort((n,i)=>n.label.localeCompare(i.label))}async function Qle(t){let e=(await Qg()).filter(r=>ZH.indexOf(Fe.basename(r.definitionFolder))===-1);return e=e.filter(r=>VH(r)),t&&(e=e.filter(r=>!/^\s*no\b/i.test(r.metaData.get("codespaces")||"yes"))),e.sort((r,n)=>r.label.localeCompare(n.label))}async function Qg(){let t=new UH.default,e=await cl(),r=Fe.join(e,"node_modules","vscode-dev-containers","containers"),n=Fe.join(e,"node_modules","vscode-dev-containers","containers-readmes"),i=await Yr(r);return(await Promise.all(i.map(async s=>{var w;let a=Fe.join(r,s),c=await Eh(a),l=c&&await eue(c);if(!l)return;let u=et(l);u.configFilePath=Ee.file(c);let[,d,f]=((w=u.name)==null?void 0:w.match(/^(.*)(\([^)]*\))$/))||[],p=(d==null?void 0:d.trim())||u.name||s,h=f,m,g=Fe.join(n,s,"README.md"),v=new Map;if(await ht(g))try{let C=await Le(g,{encoding:"utf8"}),b=/\#\s*summary.*\n*(.*)/i.exec(C);if(b){let _=t.render(b[1]);m=Xle(_);let S=m.indexOf(". ");S!==-1&&(m=m.substr(0,S+1))}v=Zle(C)}catch(C){console.error(C)}return{label:p,description:h,type:"baseConfiguration",detail:m,definitionFolder:a,configText:l,configFilePath:c,metaData:v}}))).filter(s=>!!s)}function Xle(t){return t.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e})}function Zle(t){let e=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=t.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let l=a.match(o[c]);l&&l[1]&&e.set(c,l[1])}}return e}async function eue(t){return await ht(t)?(await Le(t)).toString():void 0}async function tue(t,e){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=t,a=n.configFolderPath,c="Skip",l=(await rV(e.definitionFolder)).map(f=>Fe.relative(e.definitionFolder,f)),u,d;for(let f of l){let p=Fe.join(e.definitionFolder,f),h=p===e.configFilePath,m=r.path.sep!==Fe.sep?f.replace(Fe.sep===Fe.win32.sep?/\\/g:/\//g,r.path.sep):f,g=r.path.join(a,m);if(h&&!i&&o){let v=et(e.configText);try{d=rue(r,v,g,o)}catch(w){await iue(w,r,g,m,s);return}g=Oe(o.uri,r.platform)}else if(await r.isFile(g)){let v=await Xe.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)u=g,await r.writeFile(g,Buffer.from(d||e.configText));else if(e.copyFile)await e.copyFile(p,g);else{let v=e.files&&e.files[p]?Buffer.from(e.files[p]):await Le(p);await r.writeFile(g,v)}}return u}function rue(t,e,r,n){var u,d,f,p,h,m;let i=n.text,o=Oe(n.uri,t.platform);if("image"in e)i=ot(i,["image"],e.image);else if("dockerFile"in e){let g=ll(t,r,o,e.dockerFile);if(i=ot(i,["dockerFile"],g),e.context){let v=ll(t,r,o,e.context);i=ot(i,["context"],v)}}else if("build"in e){let g=ll(t,r,o,e.build.dockerfile);if(i=ot(i,["build","dockerfile"],g),e.build.context){let v=ll(t,r,o,e.build.context);i=ot(i,["build","context"],v)}i=ot(i,["build","target"],e.build.target),i=ot(i,["build","args"],e.build.args)}else if("dockerComposeFile"in e){let g=nue(t,r,o,e.dockerComposeFile);i=ot(i,["dockerComposeFile"],g),i=ot(i,["service"],e.service),i=ot(i,["workspaceFolder"],e.workspaceFolder)}e.features&&(i=ot(i,["features"],e.features));let s=O_(((u=e.vscode)==null?void 0:u.settings)||e.settings,((d=n.object.vscode)==null?void 0:d.settings)||n.object.settings);((f=n.object.vscode)==null?void 0:f.settings)?n.object.vscode?i=ot(i,["vscode","settings"],s):i=ot(i,["vscode"],{settings:s}):i=ot(i,["settings"],s);let a=R_(n.object.forwardPorts,e.forwardPorts);i=ot(i,["forwardPorts"],a);let c=R_(((p=n.object.vscode)==null?void 0:p.extensions)||n.object.extensions,((h=e.vscode)==null?void 0:h.extensions)||e.extensions);if(((m=n.object.vscode)==null?void 0:m.extensions)?n.object.vscode?i=ot(i,["vscode","extensions"],c):i=ot(i,["vscode"],{extensions:c}):i=ot(i,["extensions"],c),"image"in e||ut(e)){let g=R_(n.object.mounts,e.mounts);i=ot(i,["mounts"],g);let v=O_(e.containerEnv,n.object.containerEnv);i=ot(i,["containerEnv"],v),i=ot(i,["containerUser"],e.containerUser);let w=tV(n.object.runArgs,e.runArgs);i=ot(i,["runArgs"],w)}i=ot(i,["postCreateCommand"],e.postCreateCommand);let l=O_(e.remoteEnv,n.object.remoteEnv);return i=ot(i,["remoteEnv"],l),i=ot(i,["remoteUser"],e.remoteUser),i}function ot(t,e,r){if(r===void 0)return t;let n=Ct(t,e,r,{formattingOptions:{}});return Vt(t,n)}function nue(t,e,r,n){return Array.isArray(n)?n.map(i=>ll(t,e,r,i)):ll(t,e,r,n)}function ll({path:t},e,r,n){let i=t.resolve(t.dirname(e),n);return t.relative(t.dirname(r),i)||"."}function R_(t,e){var r;return(r=tV(t,e))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function tV(t,e){if(!!(e==null?void 0:e.length))return(t||[]).concat(e)}function O_(t,e){if(!(!t||!Object.keys(t).length))return Object.assign({},t,e)}async function S_(t,e){let r=await bh(t,e.configFolderPath);if(!r)return;let n=await Nt(t).readDocument(r);if(!n)return;let i=et(n);return{uri:r,text:n,object:i}}async function rV(t){let e=await Yr(t);return[].concat(...await Promise.all(e.map(async r=>{let n=Fe.join(t,r);return(await(0,BH.promisify)(jH.lstat)(n)).isDirectory()?rV(n):n})))}async function iue(t,e,r,n,i){i.write(Re(t&&(t.stack||t.message)));let o=await e.toCommonURI(r),s=await Xe.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&Xe.window.showTextDocument(Xe.Uri.parse(o.toString()))}async function Yd(t){return(await oue()).find(r=>{var n,i;return(i=(n=r.build)==null?void 0:n.tags)==null?void 0:i.some(o=>{let c=`^mcr.microsoft.com/vscode/devcontainers/${o.split(/\$\{[^}]*\}/).map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(c).test(t)})})}async function oue(){let t=Fe.join(await cl(),"node_modules","vscode-dev-containers","manifests");return(await Promise.all((await Yr(t)).map(e=>x_(e,t)))).filter(Boolean)}async function x_(t,e){e=e||Fe.join(await cl(),"node_modules","vscode-dev-containers","manifests");let r=Fe.join(e,t,"definition-manifest.json");if(await ht(r)){let n=(await Le(r)).toString(),i=et(n);return i.definitionName=t,i}}async function cl(){let t=await yl(Fe.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await yl(Fe.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return Fe.join(__dirname,...t)}async function nV(t,e,r,n,i,o){let s=hn(r);if(Jt(s)&&!await Be.workspace.requestWorkspaceTrust({message:ld}))return Gt(s.hostPath)?(await Be.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await Be.commands.executeCommand("remote-containers.reopenInWSL")):(await Be.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await Be.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=un(s);return a&&!await ud(t,s.repositoryPath)?(await Be.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):oe(W({},await sue(s,t,i,o,e,r,n)),{isTrusted:a||void 0})}async function sue(t,e,r,n,i,o,s){let{log:a,logFilePath:c}=r,l="hostPath"in t&&Gt(t.hostPath)&&!!Be.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&Be.commands.executeCommand("setContext","canReopenInWSL",!0);let u=t.settings,d="localDocker"in t&&t.localDocker,f=!!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!d)&&(!!Be.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!Be.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));f&&Be.commands.executeCommand("setContext","canReopenInSSH",!0);let p=!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!d);p&&Be.commands.executeCommand("setContext","canReopenLocally",!0);let h;return Be.window.withProgress({location:Be.ProgressLocation.Notification,title:Gc,cancellable:!1},async m=>{let g=ri(e.extensionPath,Vi,a),{cliHost:v,originalCwd:w}=await aue(t,e.extensionPath,Gi(),g,i.product,a),C=W(W({},await g),Rc(v,t.settings)),b=W(W({},v.env),C),_=await Wc({authority:o,extensionContext:e,sessionStart:r.sessionStart,progress:m,cliHost:v,env:b,cwd:v.cwd,isLocalContainer:dm(C),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),S={async createConfiguration(x,k){return Jd({fileHost:k,telemetry:i,output:a,existingFilesLearnMoreLink:id,predefinedDefinitionsLearnMoreLink:od,openConfigurationCommandId:nd},$e(N_.posix,x))},async showError(x,...k){return await Be.window.showErrorMessage(x,{modal:!0},...k)}};return h={common:_,parsedAuthority:t,dockerCLI:Fn(),dockerComposeCLI:oi({exec:_.cliHost.exec,env:W(W({},C),Dn(C)),output:_.output},Fn(),Hc()),dockerEnv:C,workspaceMountConsistencyDefault:Fm(),updateRemoteUserUIDOnMacOS:Mm(),cacheMount:qm()?"volume":"none",configurationTracking:Lm(e.workspaceState),removeOnStartup:await xq(e,o),buildNoCache:await kq(e,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:gi(),originalCwd:w,configProvider:S},await fm(h),Z1(h)}).then(m=>(s(async g=>{await Pq(e,g&&m.dockerContainerId||!1),await ad(e,g==="rebuildNoCache"?o:!1)}),Wi(i,L_(t),"success",m.config,m.properties),m),m=>{var x;let g=m instanceof ce?m:new ce({description:"An error occurred setting up the container.",originalError:m});un(t)&&(g.volumeName=t.volumeName,g.volumeName===fn&&(g.volumeName=Br(t.repositoryPath).uniqueVolumeName),g.repositoryPath=t.repositoryPath,g.folderPath=t.folder),Wi(i,L_(t),"failure",g.config,g.containerProperties,g);let v="onTheSide",w=(x=g.data)==null?void 0:x.fileWithError,C=w&&(h==null?void 0:h.common.cliHost.path.basename(w))||"devcontainer.json",b=Jt(t)?[{id:"openFileWithErrorLocally",title:`Open ${C} Locally`,isLastAction:!0,applicable:async(k,A)=>p&&!(A&&l),async execute(){let k=h==null?void 0:h.common.cliHost,A=w?k.type==="wsl"?await k.toCommonURI(w):Ee.file(w):void 0;await cd(e,t.hostPath,A,c,v);let T=Be.Uri.file(t.hostPath);await Be.commands.executeCommand("vscode.openFolder",T)}},{id:"openFileWithErrorinWSL",title:`Open ${C} in WSL`,isLastAction:!0,applicable:async()=>l,async execute(){let k=Be.Uri.parse((await cc(t.hostPath,a)).toString());await cd(e,k.path,w?k.with({path:w}):void 0,c,v),await Be.commands.executeCommand("vscode.openFolder",k)}},{id:"openFileWithErrorinSSH",title:`Open ${C} in SSH`,isLastAction:!0,applicable:async()=>f,async execute(){let k=t.settings,A=Be.Uri.parse(au(k.host,t.hostPath).toString());await cd(e,A.path,w?A.with({path:w}):void 0,c,v),await Be.commands.executeCommand("vscode.openFolder",A)}}]:[],_=un(t)?t.inspectVolume?[Fo]:[{id:"reopenInRecoveryContainer",title:`Open ${C} in Recovery Container`,isLastAction:!0,applicable:(k,A)=>!0,execute:async k=>{await cd(e,t.repositoryPath,w?Ee.file(w).with({scheme:"vscode-remote"}):void 0,c,v),await Be.commands.executeCommand("remote-containers.inspectVolume",k.volumeName,k.repositoryPath,k.folderPath)}},Fo,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(k,A)=>!A,async execute(){Be.env.openExternal(Be.Uri.parse(t.repositoryPath))}}]:[],S=Tc(t)?[Fo]:[];return g.actions=[...Nc,la,OL,...b,..._,...S,Oc,ca],cue(g),Mo(g,L_(t),i,!0,r)})}async function aue(t,e,r,n,i,o){let{settings:s}=t,a=s&&"host"in s&&s.host||void 0;if(Jt(t)){let c=$e(N_,t.hostPath),l=c.rootFolderPath,u=await An(a,c.rootFolderPath,mi,Mn(),e,r,i,o,vi,{sshAskpassEnv:n,settings:Vc(),localDocker:t.localDocker});return u.cwd!==c.rootFolderPath&&(c=$e(u.path,c.isWorkspaceFile?u.path.join(u.cwd,N_.basename(t.hostPath)):u.cwd)),o.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),um(o,t.settings),t.localDocker&&o.write(`Local Docker: ${t.localDocker}\r
`),{cliHost:u,originalCwd:l}}else{let c=process.cwd();return{cliHost:await An(a,c,mi,Mn(),e,r,i,o,vi,{sshAskpassEnv:n,settings:Vc()}),originalCwd:c}}}function L_(t){return Jt(t)?"config":un(t)?t.inspectVolume?"volume":"repository":"volume"}function cue(t){let e=(t.originalError&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();e&&e.indexOf("drive has not been shared")!==-1?t.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":e&&(e.indexOf("port is already allocated")!==-1||e.indexOf("address already in use")!==-1)?t.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":e&&e.indexOf('invalid mount config for type "bind"')!==-1?t.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":e&&e.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(t.description="The base image references the obsolete Debian 8 update repository.",t.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){Be.env.openExternal(Be.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Xo=Y(require("vscode"));var iV=Y(require("util"));var Un=Y(require("path"));async function oV(t,e,r){let{common:n}=t,i;try{let{commit:o}=n.product;if(!o)throw new ce({description:"Cannot attach without commit id for the remote extension host."});i=await si(t,e.Id,r.workspaceFolder,r.remoteUser);let s=Nt(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,connectionToken:l,webConnectionToken:u,remoteEnv:d,serverDownloaded:f}=await _o(n,i,r,void 0,void 0,Eo);if(lue(n,i,s,r.configFilePath),due(n,i,s,r.configFilePath),kc(n,i,a,l,u,e,$e(Un.posix,"/")),c){let p=async()=>{await(0,iV.promisify)(c.close.bind(c))()};n.shutdowns.push(p)}return{params:n,properties:i,config:r,resolvedAuthority:{host:Oo,port:a,connectionToken:l,extensionHostEnv:d},webConnectionToken:u,tunnelInformation:n.isLocalContainer?Ic(e):{},dockerParams:t,dockerContainerId:e.Id,serverDownloaded:f}}catch(o){let s=o instanceof ce?o:new ce({description:"An error occurred attaching to the container.",originalError:o});throw e&&(s.manageContainer=!1,s.params=t.common,s.containerId=e.Id,s.dockerParams=t),i&&(s.containerProperties=i),s.config=r,s}}function lue(t,e,r,n){e.installFolder&&sV(t,e,r,n).catch(console.error)}async function sV(t,e,r,n){try{await Li(t,e,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],_R(e),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await uue(t,e,r,n):(i==null?void 0:i.code)!==2&&await ei(6e4)}return sV(t,e,r,n)}async function uue(t,e,r,n){let i=await PR(t,e);await EC(n,async()=>{var s;let o=await tv(t.cliHost,r,n,e.remoteWorkspaceFolder);if(!pue(((s=o.config.vscode)==null?void 0:s.extensions)||[],i)){let a=Ct(o.text,["extensions"],i,{formattingOptions:{}});await sn(r,n,a,o.text)}})}function due(t,e,r,n){aV(t,e,r,n).catch(console.error)}async function aV(t,e,r,n){try{let i=uh(e),o=Un.posix.dirname(i),s=Un.posix.basename(i);await Li(t,e,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await fue(t.cliHost,e,r,n):(i==null?void 0:i.code)!==2&&await ei(6e4)}return aV(t,e,r,n)}async function fue(t,e,r,n){let{stdout:i}=await e.shellServer.exec(`cat ${uh(e)}`),o=et(i)||{};await EC(n,async()=>{var a;let s=await tv(t,r,n,e.remoteWorkspaceFolder);if(JSON.stringify(((a=s.config.vscode)==null?void 0:a.settings)||{})!==JSON.stringify(o)){let c=Ct(s.text,["settings"],o,{formattingOptions:{}});await sn(r,n,c,s.text)}})}function pue(t,e){let r=new Set(t),n=new Set(e);return r.size===n.size&&t.every(i=>n.has(i))}async function cV(t,e){let r=Zg(t,e.Name),n=await mV(r);return n||(r=dV(t,e.Config.Image),n=await mV(r)),n}async function lV(t,e,r,n,i){let o=Ee.file(Zg(r,n.Name)),s=await tv(t,e,o,i);return s.exists||(o=Ee.file(dV(r,n.Config.Image)),s=await tv(t,e,o,i)),s}function Xg(t){return Un.join(t,"nameConfigs")}function Zg(t,e){let r=e.startsWith("/")?e.substr(1):e;return Un.join(Xg(t),`${pV(r)}.json`)}async function uV(t){try{let e=Xg(t);return(await Yr(e)).filter(n=>n.endsWith(".json")).map(n=>({name:hV(n.substr(0,n.length-5)),uri:Ee.file(Un.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function ev(t){return Un.join(t,"imageConfigs")}function dV(t,e){return Un.join(ev(t),`${pV(e)}.json`)}async function fV(t){try{let e=ev(t);return(await Yr(e)).filter(n=>n.endsWith(".json")).map(n=>({image:hV(n.substr(0,n.length-5)),uri:Ee.file(Un.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function pV(t){return t.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}function hV(t){return t.replace(/%([0-9a-f]{2})/g,(e,r)=>String.fromCharCode(parseInt(r,16)))}async function mV(t){if(!await ht(t))return;let e=await Le(t),r=et(e.toString())||{},n=Ks(r);return n.configFilePath=Ee.file(t),n}async function tv(t,e,r,n){let i=await e.readDocument(r),o=i||Mi,s=et(o)||{},a=Ks(s),c=hc({platform:t.platform,configFile:r,env:t.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},a);return c.configFilePath=r,{exists:!!i,text:o,config:c}}async function gV(t,e,r,n,i){return await Bo(t)?oe(W({},await hue(t,e,r,n,i)),{isTrusted:!0}):(await Xo.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function hue(t,e,r,n,i){let o;return Xo.window.withProgress({location:Xo.ProgressLocation.Notification,title:Gc,cancellable:!1},async s=>{var a,c;try{let l=pm(r),{settings:u}=l,d="containerName"in l?l.containerName:l.containerId;n.log.write(`Setting up container: ${d}\r
`),um(n.log,u);let f=u&&"host"in u&&u.host||void 0,p=l.cwd||((f==null?void 0:f.startsWith("ssh://"))?"/":process.cwd()),h=ri(t.extensionPath,Vi,n.log),m=await An(f,p,mi,Mn(),t.extensionPath,Gi(),e.product,n.log,vi,{sshAskpassEnv:h,settings:Vc()}),g=Fn(),v=W(W({},await h),Rc(m,u)),w=oi({exec:m.exec,env:W(W({},v),Dn(v)),output:n.log},Fn(),Hc()),C=W(W({},m.env),v),b=await fi({cliHost:m,dockerCLI:g,dockerComposeCLI:w,env:C,output:n.log},"containerName"in l?l.containerName:l.containerId);if(!b)throw new ce({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});let _=(c=(a=(Xo.workspace.workspaceFolders||[void 0])[0])==null?void 0:a.uri)==null?void 0:c.path,S=await lV(m,Tn,t.globalStoragePath,b,_);if(_&&S.config.workspaceFolder!==_){let F=Ct(S.text,["workspaceFolder"],_,{formattingOptions:{}});await sn(Tn,S.config.configFilePath,F,S.text)}let x={common:await Wc({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:s,cliHost:m,env:C,cwd:p,isLocalContainer:dm(v),telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:l,dockerCLI:g,dockerComposeCLI:w,dockerEnv:v,workspaceMountConsistencyDefault:Fm(),updateRemoteUserUIDOnMacOS:Mm(),cacheMount:qm()?"volume":"none",configurationTracking:Lm(t.workspaceState),userRepositoryConfigurationPaths:[]};await fm(x);let k=No(u),A=b.Name.startsWith("/")?b.Name.substr(1):b.Name,T=`Container ${b.Config.Image} (${A})${k}`;if(x.common.setWorkspaceName(T),b.State.Status!=="running")throw new ce({description:`Cannot attach to the container ${b.Config.Image} (${A})${k}, it is not running.`,params:x.common,containerId:b.Id,dockerParams:x,data:{reload:!1,start:!0}});return await oV(x,b,S.config)}catch(l){let u=l instanceof ce?l:new ce({description:"An error occurred attaching to the container.",originalError:l});throw u.actions=[NL,LL,...Nc,la,Fo,Oc,ca],u}}).then(s=>(Wi(e,"attach","success",o,s.properties),s),s=>{let a=s instanceof ce?s:new ce({description:"An error occurred attaching to the container.",originalError:s});return Wi(e,"attach","failure",o,a.containerProperties,a),Mo(a,"attach",e,!0,n)})}var st=Y(require("vscode"));var yt=Y(require("vscode")),vV=Y(require("path")),Sa=Y(require("os")),Qd=Y(require("fs")),yV=Y(require("child_process")),wV=Y(ec());async function rv(t){vue()?await new CV().downloadAndInstallDocker(t):EV()?await new bV().downloadAndInstallDocker(t):await yt.env.openExternal(yt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var F_=class{async downloadAndInstallDocker(e){if(await this.preInstallCheck(e)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await yt.window.withProgress({location:yt.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",l="Download";throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(o);yt.window.showInformationMessage(i);try{await this.install(o,s,e)}catch(a){let c=`Docker Desktop installation failed. ${a}`,l="Install Instruction";throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(e){let r=!0;if(await new _V(e).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await yt.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let e=`${gue()}.${this.fileExtension}`;return await wue(this.downloadUrl,e),e}handleError(e,r,n){yt.window.showErrorMessage(e,{title:r}).then(i=>{i&&yt.env.openExternal(yt.Uri.parse(n))})}},CV=class extends F_{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(e){return`"${e}"`}async install(e,r,n){try{n.write(`Executing command ${r}`),await xV(r,n)}finally{try{await Qd.promises.stat(e),await Qd.promises.unlink(e)}catch{}}}},bV=class extends F_{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(e){return`chmod +x '${e}' && open '${e}'`}async install(e){let r="Docker Install",n=this.getInstallCommand(e);await yue(n,r,{addDockerEnv:!1})}},mue=0;function gue(){return vV.join(Sa.tmpdir(),`${yt.env.sessionId}-${mue++}.tmp`)}function vue(){return Sa.platform()==="win32"}function EV(){return Sa.platform()==="darwin"}async function yue(t,e,r){var a,c,l;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new yt.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:yt.TaskScope.Workspace,e,"Docker",new yt.ShellExecution(t,{cwd:r.cwd||((l=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:l.fsPath)||Sa.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await yt.tasks.executeTask(i);return new Promise((u,d)=>{let f=yt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(f.dispose(),p.exitCode&&r.rejectOnError&&d(p.exitCode),u())})})}var _V=class{constructor(e){this.output=e;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new PV(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await xV("docker -v",this.output),!0}catch{return!1}}};async function wue(t,e){await new Promise((r,n)=>{let i=Qd.createWriteStream(e);wV.https.get(t,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${t}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var SV=10*1024;async function xV(t,e,r,n){let i=Buffer.alloc(r&&r.maxBuffer||SV),o=Buffer.alloc(r&&r.maxBuffer||SV);return await Cue(t,e,r,n,i,n,o),{stdout:M_(i),stderr:M_(o)}}async function Cue(t,e,r,n,i,o,s,a){return await new Promise((c,l)=>{let u,d=0,f=0;r=r||{},r.shell=!0,bue(r,e);let p=yV.spawn(t,r);p.on("error",h=>(u&&(u.dispose(),u=void 0),l(h))),p.on("close",(h,m)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(h){let g=`Process '${t.length>50?`${t.substring(0,50)}...`:t}' exited with code ${h}`;s&&(g+=`
Error: ${M_(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,l(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(d+=i.write(m,d))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(f+=s.write(m,f))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function bue(t,e){var r,n;!EV()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=t==null?void 0:t.env)==null?void 0:r.PATH)||process.env.PATH||"")||(t=t!=null?t:{},t.env=(n=t.env)!=null?n:W({},process.env),e.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),t.env.PATH=`${t.env.PATH}:/usr/local/bin`)}function M_(t){return t.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var PV=class{constructor(e,r){this.valueFactory=e;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let e=this._valuePromise===void 0;e&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(e&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&e){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function Pr(t,e,r){var o;let n=(o=(st.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;n&&(n.scheme==="file"&&Gt(n.fsPath)||lc(n))&&(e=await We(t,e.output,n));let i=await Xd(e,r);if(i==="permission")return await st.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&st.env.openExternal(st.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await st.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&st.commands.executeCommand(hi),!1;if(i==="daemon")return await st.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&st.commands.executeCommand(hi),!1;if(!i||i==="command"){if(e.cliHost.type==="wsl")await st.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&st.env.openExternal(st.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",c="Ignore",l=i===!1?[s,a,c]:[s,a],u=await st.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:"Check the license for details."},...l);if(u===s)rv(e.output).then(console.error);else if(u===a)st.env.openExternal(st.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(u===c)return!0}return!1}return i==="wsl1"?(await st.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&st.env.openExternal(st.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function Xd(t,e){var s,a,c,l;let r;try{let u=await je(t,"version","--format","{{.Server.APIVersion}}");r=u.stdout.toString(),t.output.write(r);let d=u.stderr.toString();d&&t.output.write(Re(d))}catch(u){console.error(u);let d=(s=u==null?void 0:u.stdout)==null?void 0:s.toString();d&&t.output.write(d);let f=u&&(u.stderr?u.stderr.toString():u.message)||"";f&&t.output.write(Re(f)),Zd(e,"error",void 0,f);let p=f.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(t.output.write(`CLI host's PATH: ${t.cliHost.env.PATH}`),"command"):t.cliHost.type==="wsl"&&((l=(c=(a=u==null?void 0:u.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=Bs(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return Zd(e,"error",void 0,n),"daemon";if(!i)return Zd(e,"unparsed",n),!0;let o=!fc(i,[1,35]);return!o&&await FC(t)?(Zd(e,"podman",n),!0):(Zd(e,o?"success":"failure",n),o)}function Zd(t,e,r,n){let i={outcome:e};r&&(i.version=r),n&&(i.errorMessage=n),t.sendTelemetryEvent("dockerVersion",i)}async function kV(t){try{return await Js(t,"version"),!0}catch{return await st.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&st.env.openExternal(st.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var ul=Y(require("vscode"));var q_=class{constructor(e){this.fileHost=e}async provideDocumentLinks(e,r){let n=[],i=up(e.getText());if(!i)return n;let o=dp(i)||{};return o.configFilePath=e.uri,ut(o)&&this._linksForDockerfile(n,o,i,e),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,e),n}_tryAddDocumentLinkToBucket(e,r,n,i,o){let s=e.positionAt(r),a=e.positionAt(n);s.compareTo(a)!==0&&o.push(new ul.DocumentLink(new ul.Range(s,a),i))}_linksForDockerfile(e,r,n,i){let o=mo(n,["build","dockerfile"])||mo(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,Kt(this.fileHost,r),e)}async _linksForDockerCompose(e,r,n,i){let s=(await sr(this.fileHost,r)).map(c=>ul.Uri.file(c).path),a=mo(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),e);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),e)}};var re=Y(require("vscode")),xa=Y(require("path"));var IV="Stop Container",AV="Reopen Folder locally",TV="Close Workspace",Zo;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(Zo||(Zo={}));var Zt=class{static isGroupItem(e){return!!e&&e.type===Zo.Group}static isContainerItem(e){return!!e&&e.type===Zo.Container}static isFolderItem(e){return!!e&&e.type===Zo.Folder}},ef;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(ef||(ef={}));var $_=class extends Zt{constructor(e,r){super();this.label=e;this.groupType=r;this.type=Zo.Group}async asTreeItem(e,r,n,i){return new re.TreeItem(this.label,re.TreeItemCollapsibleState.Expanded)}},Hn=class extends Zt{constructor(e,r=[],n,i=!1){super();this.container=e;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=Zo.Container;this._alreadyCheckedRepository=!1}async asTreeItem(e,r,n,i){let o=new re.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=nv(r,xue),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=nv(r,Sue),o.contextValue="active"+s,a=!0):e&&await this.setTreeItemIconAndContext(e,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof re.ThemeIcon?o.iconPath:new re.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?re.TreeItemCollapsibleState.Expanded:re.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(e,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new re.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new re.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new re.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new re.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new re.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(e){if(!e)return"";let r="",n=e.State.Status,i=new Date(e.State.StartedAt),o=new Date(e.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?e.State.StartedAt:e.State.FinishedAt),c,l,u=s.getTime()-a.getTime();(l=Math.round(u/Hn.years))>0?l===1?c="year":c="years":(l=Math.round(u/Hn.days))>0?l===1?c="day":c="days":(l=Math.round(u/Hn.hours))>0?l===1?c="hour":c="hours":(l=Math.round(u/Hn.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(u/Hn.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Dc(this.container)&&this.folders.length>0)return`${xa.basename(this.folders[0].folder.path)}`;{let r=ob(this.container);if(r)return r;let n=this.repository;return n?n.repositoryName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(e,r,n){let i=new re.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=am(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),e?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let e=sa(this.container);e&&(this._repository=Br(e)),this._alreadyCheckedRepository=!0}return this._repository}inspect(e){return $t(e,this.container.Id)}},mr=Hn;mr.seconds=1e3,mr.minutes=Hn.seconds*60,mr.hours=Hn.minutes*60,mr.days=Hn.hours*24,mr.years=Hn.days*365;var Pa=class extends Zt{constructor(e,r,n){super();this.container=e;this.folder=r;this.isDevContainer=n;this.type=Zo.Folder}async asTreeItem(e,r,n,i){let o=new re.TreeItem(xa.basename(this.folder.path),re.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=nv(r,kue),o.contextValue="attachedFolder",this.isDevContainer&&!sa(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=nv(r,Pue),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function Eue(t,e,r,n){if(!(!re.env.remoteName||re.env.remoteName!=="attached-container"&&re.env.remoteName!=="dev-container"))return DV(t,e,r,n)}function DV(t,e,r,n){re.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new qV(t,e,n,e.output),o=re.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},t.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function _ue(t,e){let r=[IV];return t&&t.Id===e.Id&&re.workspace.workspaceFolders&&re.workspace.workspaceFolders.length>0&&(r.push(TV),re.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(AV)),r}var RV=class{constructor(e,r){this.dockerParams=e;this.containerId=r;this.writeEmitter=new re.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:e,env:r,output:n}=this.dockerParams;e.exec({cmd:Fn(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,`\r
`))}},OV=class{constructor(e,r,n,i,o,s){this.targetsTreeData=e;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(e){this.dockerParams=e}registerCommands(){let e=[];return e.push(re.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(re.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(re.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(re.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(re.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(re.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(re.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),e.push(re.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),e.push(re.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(re.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),e.push(re.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),e.push(re.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),e.push(re.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),e.push(re.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),e.push(re.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),e.push(re.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),e.push(re.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!Zt.isContainerItem(e))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${e.getContainerLabel()}?`,n=await re.window.showWarningMessage(r,{modal:!0},..._ue(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e,async()=>{switch(n){case IV:{await SE(this.dockerParams,e.container),e.container=await $t(this.dockerParams,e.container.Id);break}case TV:{await re.commands.executeCommand("workbench.action.closeFolder");break}case AV:{await re.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(e){if(!Zt.isContainerItem(e))return;let r=await fi(this.dockerParams,e.container.Id);if(!r)return;let n=await re.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(e.parent,async()=>{n==="Remove"&&(await SE(this.dockerParams,e.container),await Sq(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container))})}async tryRemoveVolume(e){let r=am(e);if(r||(r=vL(e)),r){let n=await Ph(this.dockerParams,r);if((await NC(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await re.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await xE(this.dockerParams,r)}}}async commandPruneVolumes(e){let r="Are you sure you want to remove all unused volumes?";await re.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(e,async()=>{await FO(this.dockerParams)})}async commandExplorerVolumesRefresh(e){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(e){!Zt.isContainerItem(e)||await this.targetsTreeData.withProgress(e,async()=>{await jm(this.dockerParams,e.container),e.container=await $t(this.dockerParams,e.container.Id)})}async commandRemoveRecentFolder(e){!Zt.isFolderItem(e)||(await re.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){!Zt.isContainerItem(e)||(this.detailsTreeData||(this.detailsTreeData=DV(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e){let r,n;Zt.isFolderItem(e)?(n=e,r=e.container):mr.isContainerItem(e)&&(n=e.folders[0],r=e.container),r&&(await jm(this.dockerParams,r),await re.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(e){return this.attachToContainerInternal(e)}async commandAttachToContainerNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,r=!1){let n;Zt.isContainerItem(e)?n=e.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await jm(this.dockerParams,n),await iv(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(e){let r;(Zt.isContainerItem(e)||es.isImageItem(e)||es.isVolume(e)||es.isDevVolume(e))&&(r=await e.inspect(this.dockerParams)),r&&re.window.showTextDocument(await re.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(e){es.isDevVolume(e)&&await e.inspectInBasicDevContainer()}async commandCloneInVolume(e){es.isDevVolume(e)&&await e.cloneRepositoryInVolume()}async commandRemoveVolume(e){es.isDevVolume(e)&&await e.removeVolume(this.dockerParams)}async commandNewContainer(){let e=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await re.window.showQuickPick(e,{placeHolder:"Select an action to create a container"});if(r)return re.commands.executeCommand(r.command)}async commandShowContainerLog(e){if(!Zt.isContainerItem(e))return;let r=new RV(this.dockerParams,e.container.Id);re.window.createTerminal({name:e.container.Config.Image,pty:r}).show()}};async function NV(t,e,r,n){re.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new LV(t,e,s,r,n),o=re.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,t.subscriptions.push(re.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let c=Eue(t,a,i,r),l=new jV(t,r,n),u=re.window.createTreeView("devVolumes",{treeDataProvider:l});t.subscriptions.push(u);let d=new OV(i,c,l,a,t,r);t.subscriptions.push(...d.registerCommands()),t.subscriptions.push(wq(t)(async()=>{i.refresh(void 0),l.refresh(void 0);let f=await We(t,n);c&&c.updateDockerParameters(f),d.updateDockerParameters(f)}))}}var LV=class{constructor(e,r,n,i,o){this.context=e;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new re.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new re.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDockerParams(e=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=ri(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,Vi(r,!1)),this.output));try{this.dockerParams=await We(this.context,this.output,void 0,void 0,e?void 0:this.passiveSSHAskpassEnv,!1),await Xd(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(r){if(!this.needsSSHCredentials)throw r}}return this.dockerParams}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await $t(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Cu(e,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(e){return e.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(e){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==e)&&(this.needsDockerStartOrInstallContext=e,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await re.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await re.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(e){if(this.hasContainersContext===void 0||this.hasContainersContext!==e){this.hasContainersContext=e;let r=re.workspace.workspaceFolders&&re.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await re.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(e){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(e){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(e);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new $_("Dev Containers",0)),this.otherContainers.length>0&&r.push(new $_("Other Containers",2)),r}async getChildDevContainer(e,r){let n=await this.getWorkspaceFolderFromContainer(e),i=n?[new Pa(e,n,!0)]:[],o=Dc(e);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Pa(e,a,!1))):o&&this.recentAttachEntries.has(e.Id)?i.push(...this.recentAttachEntries.get(e.Id).map(a=>new Pa(e,a,!1))):(o=sa(e))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Pa(e,a,!1))):o===void 0&&this.recentDevComposeEntries.has(e.Id)&&i.push(...this.recentDevComposeEntries.get(e.Id).map(a=>new Pa(e,a,!1)));let s=new mr(e,i,r,!0);return this.setContainerItems(s),s}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){if(e.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,e));return r.push(...this.attachContainers.map(async n=>{let i=new mr(n,this.recentAttachEntries.get(n.Id).map(o=>new Pa(n,o,!1)),e);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new mr(r,[],e);return this.setContainerItems(n),n})}getChildFolders(e){return e.folders&&e.folders.length>1?e.folders:[]}async getChildItems(e){if(e===void 0){let r=await $i(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await Io(this.dockerParams,r);return this.getChildGroups(n)}else{if(Zt.isGroupItem(e))return this.getChildContainers(e);if(Zt.isContainerItem(e))return this.getChildFolders(e)}return[]}async getChildren(e){return await this.action,await this.getDockerOrShowMessage(e)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(e)):[]}async refresh(e){e===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(e)}async setCurrents(){let e=re.workspace.workspaceFolders,r;if(this.dockerParams){if(e&&e.length>0){let n=this.resolverResults.get(e[0].uri.authority);n&&n.dockerContainerId&&(r=await fi(this.dockerParams,n.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await fi(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(e){if(Dc(e)){this.devContainers.push(e);return}else if(sa(e)){this.devContainers.push(e);return}else if(ob(e)&&this.recentDevComposeEntries.has(e.Id)){this.devContainers.push(e);return}else if(this.recentAttachEntries.has(e.Id)){this.attachContainers.push(e);return}this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(e),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e){let r=this.dockerParams.cliHost,n=$e(r.path,e),i=await ui(r,n,gi()),o=i&&await oa(r,n,i,this.output)||void 0;if(o&&ut(o.config))return re.Uri.parse(Vu(e,o.workspaceConfig.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(e){let r=Dc(e);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=sa(e),i=am(e),o=yL(e);if(n)return re.Uri.parse(aa(n,i,o,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(e){let r=this.dockerParams.cliHost,n=await Pb(r,e,this.output),i=AL(r,n,e);return re.Uri.parse(Vu(e,i,void 0),!0)}getWorkspaceFolderFromRepository(e,r,n){return re.Uri.parse(aa(e,r,n,!1,void 0,void 0),!0)}async findComposeTargetContainer(e,r){if(!this.dockerParams)return;let n=$e(this.dockerParams.cliHost.path,e),i=await ui(this.dockerParams.cliHost,n,gi()),o=i&&await oa(this.dockerParams.cliHost,n,i,this.output);if(o&&"dockerComposeFile"in o.config){let s=await sr(this.dockerParams.cliHost,o.config),a=await $u(this.dockerParams,n,s);return Y1(r,a,o.config.service)}}trySetEntryWithAttachAuthority(e,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(e):this.recentAttachEntries.set(i,[e]))}async trySetEntryWithDevAuthority(e,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==e.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(e):this.recentAttachDevContainerEntries.set(r.hostPath,[e]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(e):a&&this.recentDevComposeEntries.set(a,[e])}}trySetEntryWithRepoAuthority(e,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==e.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(r.repositoryPath,[e]))}trySetEntryWithVolumeAuthority(e,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(e):this.recentAttachEntries.set(n,[e]))}async trySetEntry(e,r,n){var s;if(!e||!e.folderUri&&!e.workspace.configPath)return;let i=(s=e.folderUri)!=null?s:e.workspace.configPath,o=pm(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=hn(i.authority);a&&(Jt(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):un(a)?this.trySetEntryWithRepoAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(e){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await re.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,e,n)}}withProgress(e,r){return this.action=this.action.then(()=>r()),this.refresh(e)}},Bn;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(Bn||(Bn={}));var es=class{constructor(e){this.label=e;this.type=Bn.Default}static isDetailItem(e){return!!e&&e.label!==void 0&&e.type!==void 0}static isImageItem(e){return!!e&&e.type===Bn.Image}static isVolume(e){return!!e&&e.type===Bn.Volume}static isDevVolume(e){return!!e&&e.type===Bn.DevVolume}},FV=class{constructor(e){this.detail=e;this.type=Bn.Image;this.context="image";this.label="Image"}inspect(e){return Ao(e,this.detail)}},MV=class{constructor(e,r){this.label=e;this.volumeDetails=r;this.type=Bn.Volume;this.context="volume"}async inspect(e){return Ph(e,this.volumeDetails)}},qV=class{constructor(e,r,n,i){this.context=e;this.dockerParams=r;this.telemetry=n;this.output=i;this._onDidChangeTreeData=new re.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(e){this.dockerParams=e}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){let r=new re.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?re.TreeItemCollapsibleState.Expanded:re.TreeItemCollapsibleState.None);return r.tooltip=e.label,e.detail&&!Array.isArray(e.detail)&&(r.description=e.detail,r.tooltip+=` ${r.description}`),r.contextValue=e.context,r.command=e.command,r}async getAttributes(e,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=sa(e.container);return o&&i.push({label:"Repository",detail:o}),i.push({label:"Name",detail:e.container.Name}),i.push(new FV(e.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(e){let r=[];return e&&e.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new MV(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(e){let r=[],n=Dc(e.container),i;if(this.dockerParams&&n){let a=await ui(this.dockerParams.cliHost,$e(this.dockerParams.cliHost.path,n),gi());a&&(i=Oe(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(e,n,i),type:Bn.Title});let o;this.dockerParams&&(o=await $t(this.dockerParams,e.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:Bn.Title}),r}async testContainer(){let e=!0;try{(this.dockerParams?await $t(this.dockerParams,this._container.container.Id):void 0)===void 0&&(e=!1)}catch{e=!1}return e||(this._container=void 0,this.setTreeTitle("Details (Containers)")),e}async getChildren(e){if(this._container===void 0)return[];let r=[];return e===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&r.push(...e.detail),r}async refresh(e){this.dockerParams=await We(this.context,this.output),await Xd(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=e||this._container,this._onDidChangeTreeData.fire(void 0)}},$V=class extends es{constructor(e){super(e.Name);this.type=Bn.DevVolume;this.volumeDetails=e,this.createdAt=void 0}async asTreeItem(){let e=this.getLabel(),r=new re.TreeItem(e,re.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let e=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(e=n.gitUrlInfo.fullRepositoryName)}return e}getDescription(){let e="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?e=`#${o}`:i&&(e=`${i}`)}}return e}getBranchName(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.branch"])return e["vsch.local.repository.branch"]}getPullRequestId(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.pullRequestId"])return e["vsch.local.repository.pullRequestId"]}getRepository(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true"){let n=e["vsch.local.repository"];return Br(n)}}}get iconPath(){return new re.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let e="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/mr.years))>0?s===1?o="year":o="years":(s=Math.round(a/mr.days))>0?s===1?o="day":o="days":(s=Math.round(a/mr.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/mr.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/mr.seconds),s===1?o="second":o="seconds"),e=` ${s} ${o} ago`}return this.createdAt=e,e}async inspect(e){return Ph(e,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await re.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await re.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(e){if(!((await NC(e)).indexOf(this.volumeDetails.Name)>=0)){await re.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await re.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await xE(e,this.volumeDetails.Name)}},jV=class{constructor(e,r,n){this.context=e;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new re.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(e){return e.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await We(this.context,this.output,void 0,void 0),await Xd(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(e){await re.commands.executeCommand("setContext","remote-containers:noDevVolumes",e)}async getDockerOrShowMessage(e){return!(!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(e){if(!await this.getDockerOrShowMessage(e))return[];let r=await We(this.context,this.output),n=await To(r),i=await wu(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new $V(a))}async resolveTreeItem(e,r){let n=await We(this.context,this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),l=r.getTimeElapsed();return i.length>0?e.tooltip=this.renderMarkdown(o,s,a,c,l,i.join(", ")):e.tooltip=this.renderMarkdown(o,s,a,c,l,"*None*"),e}async getAssociatedContainers(e,r){let n=[],i=await $i(e,!0),o=await Io(e,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(e,r,n,i,o,s){let a=new re.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=r.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${l}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${l}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${e}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Cu(e,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(e){e===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(e)}},Sue="vm-active",xue="vm-default",Pue="folder-active",kue="folder";function nv(t,e){let r=`${e}.svg`;return{light:re.Uri.file(t.asAbsolutePath(xa.join("resources","light",r))),dark:re.Uri.file(t.asAbsolutePath(xa.join("resources","dark",r))),highContrast:re.Uri.file(t.asAbsolutePath(xa.join("resources","highContrast",r)))}}var j_=Y(require("util"));var Cn=Y(require("vscode"));async function UV(t,e,r={}){let n=uc(e[0],e.slice(1),void 0),i=await jD(e[0],e.slice(1),void 0,t.loadNativeModule),o=await lh({params:t,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:c,remoteEnv:l,serverDownloaded:u}=await _o(t,o,r,void 0,void 0);return{params:t,properties:o,config:void 0,resolvedAuthority:{host:Oo,port:s,connectionToken:a,extensionHostEnv:l},webConnectionToken:c,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function BV(t,e,r){var n,i,o;if(!!await Bo(t))if(r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:l}=e,u=(await Se({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),f=(await Se({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(f),h=((n=p.spec)==null?void 0:n.containers)||[];if(!h.length){e.output.write(`No containers found. Pod details:
${f}`),await Cn.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&Cn.commands.executeCommand(hi);return}let m=h.length>1?(i=await Cn.window.showQuickPick(h.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:h[0];if(m){let g=((o=p.metadata)==null?void 0:o.namespace)||r.namespace,v={remoteAuthority:Aue({context:u,podname:r.name,namespace:g,name:m.name,image:m.image})};/\d$/.test(t.extensionPath)||(v.reuseWindow=!0),await Cn.commands.executeCommand("vscode.newWindow",v)}}else e.output.write(`No Pod name found. Pod object:
${JSON.stringify(r,void 0,"  ")}`),await Cn.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&Cn.commands.executeCommand(hi)}async function HV(t,e,r,n,i){return await Bo(t)?oe(W({},await Iue(t,e,r,n,i)),{isTrusted:!0}):(await Cn.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function Iue(t,e,r,n,i){return Cn.window.withProgress({location:Cn.ProgressLocation.Notification,title:Gc,cancellable:!1},async o=>{try{let s=Tue(r),a=process.cwd(),c=await An(void 0,a,mi,Mn(),t.extensionPath,Gi(),e.product,n.log,vi),l=await Wc({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:o,cliHost:c,env:c.env,cwd:a,isLocalContainer:!0,telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i});l.setWorkspaceName(`${s.name} in ${s.podname} (${s.image})`);let u=["kubectl","exec","-it",s.podname];return s.context&&u.push("--context",s.context),s.namespace&&u.push("--namespace",s.namespace),u.push("--container",s.name,"--"),await UV(l,u)}catch(s){let a=s instanceof ce?s:new ce({description:"An error occurred attaching to the container.",originalError:s});throw a.actions=[...Nc,la,Fo,Oc,ca],a}}).then(o=>(Wi(e,"k8s-container","success",void 0,o.properties),o),o=>{let s=o instanceof ce?o:new ce({description:"An error occurred attaching to the container.",originalError:o});return Wi(e,"k8s-container","failure",void 0,s.containerProperties,s),Mo(s,"k8s-container",e,!0,n)})}function Aue(t){let e=[];for(let r in t){let n=t[r];n&&e.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${e.join("+")}`}function Tue(t){return t.substr(t.indexOf("+")+1).split("+").reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),e},{})}var tt=Y(require("vscode")),dl=Y(require("fs")),fl=Y(require("os")),ka=Y(require("path")),ov=Y(require("child_process")),pl=Y(require("util"));function sv(t){switch(t.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${t.quality}`}}async function VV(t,e){var c;let r=t.globalStorageUri,n=rn.joinPath(r,"cli-bin");await tt.workspace.fs.createDirectory(n);let i="";try{i=(await tt.workspace.fs.readFile(rn.joinPath(n,"remote-containers-path"))).toString()}catch(l){if((l==null?void 0:l.code)!=="FileNotFound")return}if(i===t.extensionPath)return;let o=rn.joinPath(t.extensionUri,"dev-containers-user-cli","bin"),s=sv(e),a=[{source:"devcontainer",destination:`devcontainer${s}`},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let l of a)tt.workspace.fs.copy(rn.joinPath(o,l.source),rn.joinPath(n,l.destination),{overwrite:!0});await tt.workspace.fs.writeFile(rn.joinPath(n,"vscode-app-root"),Buffer.from(tt.env.appRoot,"utf-8")),await tt.workspace.fs.writeFile(rn.joinPath(n,"vscode-path"),Buffer.from(process.argv0,"utf-8")),await tt.workspace.fs.writeFile(rn.joinPath(n,"vscode-quality"),Buffer.from((c=e.quality)!=null?c:"","utf-8")),await tt.workspace.fs.writeFile(rn.joinPath(n,"vscode-machine-id"),Buffer.from(tt.env.machineId,"utf-8")),await tt.workspace.fs.writeFile(rn.joinPath(n,"remote-containers-path"),Buffer.from(t.extensionPath,"utf-8"))}async function Due(t,e){let r=sv(e),n="";try{if(n=(await(0,pl.promisify)(ov.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(t)>=0)return await tt.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await tt.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,pl.promisify)(ov.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${t}', 'User')`),a=tt.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await tt.env.clipboard.writeText(t),await tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function Rue(t,e){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[ka.join(fl.homedir(),"bin"),ka.join(fl.homedir(),".local/bin")],o="/usr/local/bin";fl.platform()==="darwin"&&i.push(o);let s=(0,pl.promisify)(dl.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let l=sv(e),u=ka.join(c,`devcontainer${l}`);try{let p=await s(u);return console.log(p),await tt.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let d=await tt.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),f=ka.join(t,`devcontainer${l}`);switch(d){case"Create":if(c===o){if(!await Oue(f,u))break}else await(0,pl.promisify)(dl.symlink)(f,u);await tt.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await tt.env.clipboard.writeText(t),await tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function Oue(t,e){try{return await dl.promises.symlink(t,e),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await tt.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${ka.dirname(e)} && ln -sf '${t}' '${e}'\\" with administrator privileges"`;return await(0,pl.promisify)(ov.exec)(i),!0}return!1}}async function WV(t,e){let r=t.globalStorageUri,n=rn.joinPath(r,"cli-bin").fsPath;switch(fl.platform()){case"win32":if(await Due(n,e))return;break;case"darwin":case"linux":if(await Rue(n,e))return;break}if(await tt.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await tt.env.clipboard.writeText(n);let o=sv(e);await tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var YV=class{constructor(e,r,n){this.context=e;this.telemetry=n,this.output=r}handleUri(e){switch(e.path){case"/cloneInVolume":this.cloneInVolume(e)}}async cloneInVolume(e){let r=KV.parse(e.query);if(!r.url){U.window.showErrorMessage(`Failed to handle the URI '${e}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await We(this.context,this.output.log);if(!!await Pr(this.context,i,await this.telemetry)){if(!await vw(i.cliHost,n,this.output.log)){await U.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await U.commands.executeCommand(Rm,r.url)}}};async function Lue(t){var S;Lq();let e=new Date;Nq(t);let r=await vo(t.extensionPath),n=await ou(U.env.appRoot);Fq(t,n);let i=Rq(t,r,n),o=`Remote-Containers ${r.version} in VS Code ${U.version} (${n.commit||"out-of-source"}).`,s=new $m(t.logPath,e,o);t.subscriptions.push(U.commands.registerCommand(hi,()=>s.show()));let{channel:a,postCreate:c}=Dq(s.log,e);t.subscriptions.push(U.commands.registerCommand(yE,()=>a.show())),t.subscriptions.push(U.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:Om(s,c,lr.results,async(x,k,A)=>nV(t,await i,x,lr.onRemoveOnShutdownChanged,k,A)),async getCanonicalURI(x){var A;let k=hn(x.authority);if(k&&Jt(k)){let{hostPath:T,settings:F}=k;return Gt(T)?cc(T,s.log):F&&"host"in F&&((A=F.host)==null?void 0:A.startsWith("ssh://"))?au(F.host,T):U.Uri.file(T)}return x}}),U.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:Om(s,c,lr.results,async(x,k,A)=>gV(t,await i,x,k,A))}),U.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:Om(s,c,lr.results,async(x,k,A)=>HV(t,await i,x,k,A))}),U.window.registerUriHandler(new YV(t,s,i)));let l=async(x,k,A)=>{let T=await We(t,s.log);if(!await Pr(t,T,await i))return;let F;if(Zt.isFolderItem(x)?(F=x.folder,A=jue()):F=x,F.scheme==="vscode-remote")return U.commands.executeCommand("vscode.openFolder",F,A);{let H=$e(T.cliHost.path,Oe(F,T.cliHost.platform));return cv(t,H,T,await i,k,A)}};t.subscriptions.push(U.commands.registerCommand("remote-containers.openFolder",async(x,k)=>x?l(x,!1,k):ZV(t,!0,await i,!1,s.log))),t.subscriptions.push(U.commands.registerCommand("remote-containers.openWorkspace",async(x,k)=>x?l(x,!1,k):ZV(t,!1,await i,!1,s.log))),t.subscriptions.push(U.commands.registerCommand(mq,async x=>tf(t,await i,s.log,x))),t.subscriptions.push(U.commands.registerCommand(Rm,async x=>tf(t,await i,s.log,x,fn))),t.subscriptions.push(U.commands.registerCommand(gq,async x=>{if(x.url){let k=x.url;return(x==null?void 0:x.ref)&&(k=`${x.url}/tree/${x.ref}`),tf(t,await i,s.log,k,fn)}})),t.subscriptions.push(U.commands.registerCommand(vq,async x=>Bue(t,await i,s.log,x,fn))),t.subscriptions.push(U.commands.registerCommand("remote-containers.inspectVolume",async(x,k,A)=>t3(t,x,k,A,await i,s.log))),t.subscriptions.push(U.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async x=>Hue(t,x,await i,s.log))),t.subscriptions.push(U.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async x=>tf(t,await i,s.log,void 0,x))),t.subscriptions.push(U.commands.registerCommand("remote-containers.reopenInContainer",()=>u(!1))),t.subscriptions.push(U.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>u(!0))),t.subscriptions.push(U.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>u("rebuildNoCache")));let u=async x=>{if(!await U.workspace.requestWorkspaceTrust({message:ld}))return;let A=await We(t,s.log);if(!await Pr(t,A,await i))return;let T=U.workspace.workspaceFile;if(T&&T.scheme==="untitled"){await Gg();return}let F=U.workspace.workspaceFolders;if(!T&&F&&F.length){let Q=F.length>1?await U.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):F[0];Q&&(T=Q.uri)}let H=await bE(T);if(H){await rf(t,H.repositoryPath,H.volumeName,H.folder,A);return}if(T){let Q;if(A.cliHost.type==="wsl"&&T.scheme==="file"){let le=Oe(T,process.platform),G=yo(le)||await Jp(A.output)||(()=>{throw new Error("No default WSL distro found.")})();Q=await Ni(G,le,A.output)}else Q=Oe(T,A.cliHost.platform);let J=$e(A.cliHost.path,Q);await cv(t,J,A,await i,x,{forceReuseWindow:!0})}};t.subscriptions.push(U.commands.registerCommand("remote-containers.reopenLocally",async()=>{let x=U.workspace.workspaceFolders,k=U.workspace.workspaceFile||x&&x.length&&x[0].uri;if(k&&k.scheme==="vscode-remote"){let A=hn(k.authority);if(A&&Jt(A)){let T=U.Uri.file(A.hostPath),F={forceReuseWindow:!0};await U.commands.executeCommand("vscode.openFolder",T,F)}else U.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),t.subscriptions.push(U.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let x=U.workspace.workspaceFolders,k=U.workspace.workspaceFile||x&&x.length&&x[0].uri;if(k&&k.scheme==="vscode-remote"){let A=hn(k.authority);if(A&&Jt(A)&&Gt(A.hostPath)){let T=U.Uri.parse((await cc(A.hostPath,s.log)).toString()),F={forceReuseWindow:!0};await U.commands.executeCommand("vscode.openFolder",T,F)}else U.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),t.subscriptions.push(U.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let x=U.workspace.workspaceFolders,k=U.workspace.workspaceFile||x&&x.length&&x[0].uri;if(k&&k.scheme==="vscode-remote"){let A=hn(k.authority),T=A==null?void 0:A.settings;if(A&&Jt(A)&&T&&"host"in T&&T.host&&T.host.startsWith("ssh://")){let F=U.Uri.parse(au(T.host,A.hostPath).toString()),H={forceReuseWindow:!0};await U.commands.executeCommand("vscode.openFolder",F,H)}else U.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let d,f=async x=>{var F;if(!await Bo(t))return;let k,A=typeof x=="string"?x:(F=x==null?void 0:x.containerDesc)==null?void 0:F.Id;if(A){let H=await We(t,s.log);if(!await Pr(t,H,await i))return;k=await $t(H,A)}else{let H=!1;d||(d=ri(t.extensionPath,async J=>(H=!0,Vi(J)),s.log));let Q=await We(t,s.log,void 0,void 0,d);if(k=await Que(Q,Pr(t,Q,await i),()=>H),!k)return}let T=await We(t,s.log);iv(T,k,t)};t.subscriptions.push(U.commands.registerCommand("remote-containers.attachToRunningContainer",f)),t.subscriptions.push(U.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",f)),t.subscriptions.push(U.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async x=>BV(t,await We(t,s.log),x)));let p=async x=>{var T;let k=await We(t,s.log);if(!await Pr(t,k,await i))return;let A=(T=x==null?void 0:x.pullRequestModel)==null?void 0:T.html_url;tf(t,await i,s.log,A,fn)};t.subscriptions.push(U.commands.registerCommand("remote-containers.checkoutPRInVolume",p)),t.subscriptions.push(U.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let x=await pa();if(x){let k=await We(t,s.log);await rf(t,x.repositoryPath,x.volumeName,x.folder,k,!0);return}return await Promise.all(lr.onRemoveOnShutdownChangedEmitter.fire(!0)),U.commands.executeCommand("workbench.action.reloadWindow")})),t.subscriptions.push(U.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let x=await pa();if(x){let k=await We(t,s.log);await rf(t,x.repositoryPath,x.volumeName,x.folder,k,"rebuildNoCache");return}return await Promise.all(lr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),U.commands.executeCommand("workbench.action.reloadWindow")}));let h=U.env.remoteName&&U.env.remoteName!=="test"?"linux":process.platform,m=((S=(U.workspace.workspaceFolders||[])[0])==null?void 0:S.uri)||Ee.file(process.cwd()),g=Qo(h,m),v={fileHost:g,findDevContainerFiles:()=>kE(g),telemetry:i,output:s.log,existingFilesLearnMoreLink:id,predefinedDefinitionsLearnMoreLink:od,openConfigurationCommandId:nd},w=await HH(t,v);t.subscriptions.push(U.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!U.workspace.workspaceFolders){await U.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await U.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await V_(t,g,w,await i,s.log)})),t.subscriptions.push(U.commands.registerCommand("remote-containers.openDevContainerFile",async(x,k)=>{let A,T=await We(t,s.log),F;if(typeof x=="string"?A=[Ee.file(x)]:(F=await kE(T.cliHost),A=(await Promise.all(F.map(H=>H.scheme==="file"||H.scheme==="vscode-remote"?H:T.cliHost.toCommonURI(Oe(H,T.cliHost.platform))))).filter(H=>!!H)),A.length){let H;A.length===1?H={uri:A[0]}:H=await U.window.showQuickPick(A.map(J=>({label:J.scheme==="file"?J.fsPath:J.toString(),uri:J})),{placeHolder:"Select container configuration file to open"});let Q=await pa();if(Q){let J=Aq(Q.folder);for(let le of J){try{await U.workspace.openTextDocument(U.Uri.parse(le.toString()))}catch{continue}await U.commands.executeCommand("vscode.open",U.Uri.parse(le.toString()),k);return}return}if(H){let J=H.uri,le=tL(J);if(le){let G=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?le.replace(/\\/g,"/"):le}`;return U.env.openExternal(U.Uri.parse(G))}else{if(J.scheme==="file"&&await ht(J.fsPath))return await U.commands.executeCommand("vscode.open",U.Uri.parse(J.toString()),k);if(J.scheme==="file"&&lr.results.size)return await sn(Tn,J,[],Mi),await U.commands.executeCommand("vscode.open",U.Uri.parse(J.toString()),k);if(J.scheme==="vscode-remote"&&lr.results.size)return await U.commands.executeCommand("vscode.open",U.Uri.parse(J.toString()),k);if(x===void 0)return await V_(t,g,w,await i,s.log)}}}else if(x===void 0&&!(F==null?void 0:F.length))return await V_(t,g,w,await i,s.log)})),t.subscriptions.push(U.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:x,dockerParams:k}=[...lr.results.values()][0];if(!x||!k)return U.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let A=await $t(k,x),T=Zg(t.globalStoragePath,A.Name),F=U.Uri.file(T);return await ht(T)?U.commands.executeCommand("vscode.open",F):(await sn(Tn,F,[],Mi),U.commands.executeCommand("vscode.open",F))})),t.subscriptions.push(U.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let x=[...(await uV(t.globalStoragePath)).map(A=>W({label:A.name},A)).sort((A,T)=>A.label.localeCompare(T.label)),...(await fV(t.globalStoragePath)).map(A=>W({label:A.image},A)).sort((A,T)=>A.label.localeCompare(T.label))],k=await U.window.showQuickPick(x.length?x:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(k&&"uri"in k)return U.commands.executeCommand("vscode.open",U.Uri.parse(k.uri.toString()))})),t.subscriptions.push(U.commands.registerCommand("remote-containers.settings",async()=>U.commands.executeCommand("workbench.action.openSettings",`@ext:${XV()}`))),t.subscriptions.push(U.commands.registerCommand("remote-containers.getHelp",async()=>U.env.openExternal(U.Uri.parse("https://aka.ms/vscode-remote/containers")))),t.subscriptions.push(U.commands.registerCommand("remote-containers.getStarted",async()=>U.env.openExternal(U.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),t.subscriptions.push(U.commands.registerCommand("remote-containers.reportIssue",async()=>U.commands.executeCommand("vscode.openIssueReporter",XV()))),t.subscriptions.push(U.commands.registerCommand("remote-containers.provideFeedback",async()=>U.env.openExternal(U.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),t.subscriptions.push(U.languages.registerDocumentLinkProvider([{pattern:"**/.devcontainer/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new q_(g))),t.subscriptions.push(U.commands.registerCommand("remote-containers.trySample",async()=>{ide(t,s.log)})),t.subscriptions.push(U.commands.registerCommand("remote-containers.openLogFile",()=>ode(t))),t.subscriptions.push(U.commands.registerCommand("remote-containers.openLastLogFile",()=>sde(t,"remoteContainers",s.logFilePath))),t.subscriptions.push(U.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>ede(t))),t.subscriptions.push(U.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>Mue(t))),t.subscriptions.push(U.commands.registerCommand("remote-containers.installDocker",()=>rv(s.log))),NV(t,lr.results,await i,s.log),await VV(t,n),t.subscriptions.push(U.commands.registerCommand("remote-containers.installUserCLI",()=>WV(t,n))),(async()=>{await Iq(t)||await o3(t,g,await i,s.log)})().catch(console.error),que(t);let C=U.env.remoteName,b=!C||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];t.subscriptions.push(U.commands.registerCommand("remote-containers.addExtensionToConfig",w.addExtensionToConfiguration),U.languages.registerCompletionItemProvider([...b,{pattern:Ft.join(ev(t.globalStoragePath),"*.json")},{pattern:Ft.join(Xg(t.globalStoragePath),"*.json")}],w.createCompletionItemProvider()),U.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{var A;let x=await We(t,s.log),k=await w_(v,{readDockerComposeConfig:async(T,F)=>{let H=await nb(x.cliHost.cwd,T,x.output);return ib(x,H,F)}});if(k){let T;if(!k.manifest&&k.imageName)try{T=await Ao(x,k.imageName)}catch(F){if(((A=F==null?void 0:F.stdout)==null?void 0:A.toString().replace(/\s/g,""))==="[]")try{await je(x,"pull",k.imageName),T=await Ao(x,k.imageName)}catch{}}await b_(v,k,(T==null?void 0:T.Config.Labels)||{})}}),U.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",w.addPortLabelToConfiguration)),await pa()&&U.commands.executeCommand("setContext","isRecoveryContainer",!0),t.subscriptions.push(NH())}var JV="showRecoveryContainerNotification",QV="showReopenInContainerNotificationReset",Fue=5e3;function Mue(t){return t.globalState.update(QV,Date.now())}async function que(t){setTimeout(async()=>{let e=t.globalState.get(QV);if(W_(t.globalState.get(JV),e))return;if(await pa()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await U.window.showInformationMessage(n,o,i);s===i?U.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await t.globalState.update(JV,Date.now())}},Fue)}async function $ue(){await Promise.all([...lr.results.values()].map(t=>Promise.all(t.params.shutdowns.map(e=>{try{e()}catch(r){console.error(r)}}))))}function XV(){let{name:t,publisher:e}=GV();return`${e}.${t}`}async function ZV(t,e,r,n,i){var d;let o=await We(t,i);if(!await Pr(t,o,r))return;let s,a=U.workspace.workspaceFolders;if(a&&a[0]){let f=a[0].uri;if(f.scheme==="vscode-remote"){let p=hn(f.authority);if(p&&Jt(p)){let h=$e(o.cliHost.path,p.hostPath);s=U.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(f.authority)&&(s=f)}else f.scheme==="file"&&(s=f)}s||(((d=U.env.remoteName)==null?void 0:d.match(/^(wsl|ssh-remote)$/))?s=U.Uri.from({scheme:"vscode-remote",authority:U.env.remoteAuthority,path:await o.cliHost.homedir()}):s=U.Uri.file(zV.homedir()));let c=e?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},l=await U.window.showOpenDialog(c),u=l&&l[0];if(u){let f=e?u:u.with({path:Ft.posix.dirname(u.path)}),p=await We(t,o.output,f,EE()==="always"),h=Oe(u,p.cliHost.platform),m=$e(p.cliHost.path,h);await cv(t,m,p,r,n)}}function jue(){return U.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function cv(t,e,r,n,i,o){var g;let{cliHost:s}=r;if(Gt(e.rootFolderPath)){if(r=await We(t,r.output,e.rootFolderPath),s=r.cliHost,!await Pr(t,r,n))return;e=$e(s.path,e.isWorkspaceFile?s.path.join(s.cwd,Ft.basename(e.workspaceOrFolderPath)):s.cwd)}let a=await Pp(s,e);if(a){let v="Continue";if(await U.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},v)!==v)return}let c=await ui(s,e,gi(),!0,r.output),l=c&&await oa(s,e,c,r.output);if(!l||!Cc(l.config)){let v=await Jd({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:id,predefinedDefinitionsLearnMoreLink:od,openConfigurationCommandId:nd},e);if(!v||(l=await oa(s,e,Ee.file(v).with({scheme:qt.scheme}),r.output),!l))return}let u=l.config;if(!await Uue(r,u))return;let d=l.workspaceConfig.workspaceFolder;if(ut(u)){let v=Kt(s,u);if(!u.initializeCommand&&!await Nt(s).readDocument(v))return nf(`"${v.fsPath}" does not exist.`,s,u.configFilePath);if(u.workspaceFolder&&!Ft.posix.isAbsolute(u.workspaceFolder))return nf("Workspace folder in devcontainer.json must be an absolute path.",s,u.configFilePath)}else if(!("image"in u))if("dockerComposeFile"in u){if(!await kV(r)||!await Xue(e,r,u))return}else{let v=u.configFilePath;return nf(`Configuration "${s.path.relative(e.rootFolderPath,Oe(v,s.platform))}" not valid.`,s,v)}e.isWorkspaceFile&&(d=Ft.posix.join(d,s.path.basename(e.workspaceOrFolderPath)));let f=di(r.env),p=s.type==="wsl"?(await s.toCommonURI(e.workspaceOrFolderPath)).fsPath:e.workspaceOrFolderPath,h=(s.type==="local"||s.type==="wsl")&&f&&"host"in f&&((g=f.host)==null?void 0:g.startsWith("ssh://")),m=U.Uri.parse(Vu(p,d,f,h));await uv({uri:m,type:e.isWorkspaceFile?"workspace":"folder",label:`${TL(s.platform,e.workspaceOrFolderPath,await s.homedir())}${No(f)} [Dev Container]`}),await PE(t,i?m.authority:!1),await ad(t,i==="rebuildNoCache"?m.authority:!1),await U.commands.executeCommand("vscode.openFolder",m,o)}async function Uue(t,e){let r=e.hostRequirements;if(r&&(r.cpus||r.memory)){let n=await je(t,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&U_(r.memory)>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${B_(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${B_(U_(r.memory))}`),r.storage&&c.push(`disk ${B_(U_(r.storage))}`);let l=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await U.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:l},"Continue"))return!1}}return!0}function U_(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,r,n]=e,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function B_(t){let e=Math.min(Math.floor(Math.log2(Math.max(Math.abs(t),1))/10),4),r=t/Math.pow(2,10*e),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][e];return`${i}${o}`}async function tf(t,e,r,n,i){if(!await ud(t))return;let o=await We(t,r),s=null;if(!!await Pr(t,o,e)){if(typeof n=="string")s=n;else{let a=await U.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=ci(s);if(!await vw(o.cliHost,c.repositoryUrl,o.output)){await U.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await e3(t,o,s,i)}}async function e3(t,e,r,n){if(n||(n=await Wue(e)),n){let i=H_(r);n!==fn&&(i=await zue(r)),i&&await rf(t,r,n,i,e)}}async function Bue(t,e,r,n,i){if(!await ud(t))return;let o=await We(t,r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await Pr(t,o,e))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:u=>s.test(u)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await U.window.showInputBox(a),!c)return;let l=ci(c);if(l.repository==="unknown"||!l.pullRequestId){await U.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await e3(t,o,c,i)}async function t3(t,e,r,n,i,o){let s=await We(t,o);!await Pr(t,s,i)||(e||(e=await Vue(s)),e&&(r&&n?await Jue(e,r,n,s):await Yue(e,s)))}async function Hue(t,e,r,n){let i=await We(t,n);!await Pr(t,i,await r)||e&&e.volumeName&&await t3(t,e.volumeName,void 0,void 0,r,n)}var lv=class{get detail(){return""}},r3=class extends lv{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},n3=class extends lv{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},i3=class extends lv{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function Vue(t){let e=await To(t),n=(await wu(t,e)).map(a=>new i3(a)),i="Select the volume to inspect with Visual Studio Code",o=U.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function Wue(t){let e=await To(t,["vsch.local.repository.unique=false"]),n=(await wu(t,e)).map(u=>new n3(u)),i=new r3,o=[i,...n],s="Select the volume for the cloned repository",a=U.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===i?l=await Gue(t):l=c.volumeName,l}async function Gue(t){let e="",r="vsc-remote-containers",n=await To(t);n.find(s=>s===r)||(e=r);let i={prompt:"Enter the volume name.",value:e,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await U.window.showInputBox(i);return o?n.find(s=>s===o)?(await U.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function zue(t){let e={prompt:"Enter the target folder name.",value:H_(t),ignoreFocusOut:!0},r=await U.window.showInputBox(e);return r||null}function H_(t){return Br(t).repositoryName}async function Kue(){return(await U.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function rf(t,e,r,n,i,o=!1){let s=di(i.env),a=Ac(e),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof Zh){U.window.showErrorMessage(u.description);return}let d=await Kue();try{c=await a.parseUrl(d)}catch{U.window.showErrorMessage(`Cannot access '${e}'.`,{modal:!0});return}}let l=U.Uri.parse(aa(e,r,n,!1,s,c));r===fn&&(r="a unique volume"),await uv({uri:l,type:"folder",label:`${n} in ${r} [Dev Container]`}),await PE(t,o?l.authority:!1),await ad(t,o==="rebuildNoCache"?l.authority:!1),await U.commands.executeCommand("vscode.openFolder",l)}async function Yue(t,e){let r=di(e.env),n=U.Uri.parse(aa(void 0,t,void 0,!0,r,void 0));await uv({uri:n,type:"folder",label:`Volume ${t} [Dev Container]`}),await U.commands.executeCommand("vscode.openFolder",n)}async function Jue(t,e,r,n){let i=di(n.env),o=U.Uri.parse(aa(e,t,r,!0,i,void 0));await uv({uri:o,type:"folder",label:`${r} in ${t} [Inspect Dev Container]`}),await U.commands.executeCommand("vscode.openFolder",o)}async function uv(t){return U.commands.executeCommand("_workbench.addToRecentlyOpened",t)}async function iv(t,e,r,n){if(!await Bo(r))return;let i,o=t.cliHost;if(o.type==="wsl"){let l=await o.toCommonURI(o.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let s=kL(e.Name,di(t.env),i),a=await cV(r.globalStoragePath,e),c=r.extensionMode===U.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let l=U.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),u={};c?u.forceReuseWindow=!0:u.forceNewWindow=!0,await U.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:s};c&&!n&&(l.reuseWindow=!0),await U.commands.executeCommand("vscode.newWindow",l)}}async function Que(t,e,r){let n=(async()=>{if(!await e)throw new Error("cancel");let i=await $i(t),o=await Io(t,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw U.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await U.window.showQuickPick(n,i);if(!o&&r()){if(!await e)throw new Error("cancel");o=await U.window.showQuickPick(n,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function Xue(t,e,r){if(!r.workspaceFolder)return nf("Workspace folder not specified in devcontainer.json.",e.cliHost,r.configFilePath),!1;if(!Ft.posix.isAbsolute(r.workspaceFolder))return nf("Workspace folder in devcontainer.json must be an absolute path.",e.cliHost,r.configFilePath),!1;let n=await sr(e.cliHost,r,e.cliHost.env,e.cliHost.cwd),i=await $u(e,t,n),o=await zh(e,i,r.service),s=o&&await $t(e,o);return!(s&&!await Zue(e.cliHost,n,r,s))}async function Zue(t,e,r,n){var o,s;let i=[];for(let a=0;a<e.length;a++)await t.isFile(e[a])||i.push(e[a]);return i.length>0?(U.window.showErrorMessage(`The following referenced docker compose files do not exist: ${i.join(", ")}`,{modal:!0}),!1):((o=r.vscode)==null?void 0:o.devPort)&&!n.Ports.find(a=>{var c;return((c=r.vscode)==null?void 0:c.devPort)===a.PrivatePort})?(U.window.showErrorMessage(`The port '${(s=r.vscode)==null?void 0:s.devPort}' is not open on the service '${r.service}'`,{modal:!0}),!1):!0}async function nf(t,e,r){if(await U.window.showErrorMessage(t,{modal:!0},"Open devcontainer.json")){let i=Oe(r,e.platform),o=await e.toCommonURI(i);o&&U.window.showTextDocument(U.Uri.parse(o.toString()))}}async function V_(t,e,r,n,i){await r.createConfiguration()&&await o3(t,e,n,i)}async function o3(t,e,r,n){if([void 0,"wsl","ssh-remote"].indexOf(U.env.remoteName)===-1)return;let i=U.workspace.workspaceFile,o=U.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=Oe(s,e.platform),c=$e(e.path,a),l=await ub(e,c,gi());l&&await tde(t,l,c,e,r,n)}}var dv="showReopenInContainerNotification",s3="showReopenInContainerNotificationReset";function ede(t){return t.globalState.update(s3,Date.now())}async function tde(t,e,r,n,i,o){let s=t.globalState.get(s3);if(W_(t.globalState.get(dv),s)||W_(t.workspaceState.get(dv),s))return;let a=eL(n,r,e.uri),c,l="";n.platform!=="linux"&&U.env.remoteName!=="wsl"&&!(n.platform==="win32"&&Gt(r.rootFolderPath));let u;a?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let d="Reopen in Container",f="Clone in Volume",p="Don't Show Again...",h=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`,m=c?[p,f,d]:[p,d];rde(i,e.location);let g=await U.window.showInformationMessage(h,...m);if(nde(i,g===d?"reopen":g===f?"openRepository":g===p?"dontShowAgain":"cancel",e.location),g===d){if(!await U.workspace.requestWorkspaceTrust({message:ld}))return;let C=await We(t,o);if(!await Pr(t,C,i))return;if(C.cliHost.type==="wsl"&&n.platform==="win32"){let{cwd:b}=await Yw(r.workspaceOrFolderPath,Mn(),o);r=$e(C.cliHost.path,b)}try{await cv(t,r,C,i,!1,{forceReuseWindow:!0})}catch(b){await Mo(b,"ui",i)}}else if(g===f){let w=await We(t,o),C=await gA(w.cliHost,r,w.output),b="OK",_="Cancel";(!C||b===await U.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",b,_))&&await U.window.withProgress({location:U.ProgressLocation.Notification,title:"Clone in Volume"},async(S,x)=>{S.report({message:"Follow the prompts at the top of the window."}),await U.commands.executeCommand(Rm,c)})}else if(g===p){let w=r.isWorkspaceFile?"Any Workspace":"Any Folder",C=r.isWorkspaceFile?"Current Workspace":"Current Folder",b=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",_=await U.window.showInformationMessage(b,w,C);_===w?await t.globalState.update(dv,Date.now()):_===C&&await t.workspaceState.update(dv,Date.now())}}function rde(t,e){t.sendTelemetryEvent("reopenNotificationOpen",{location:e})}function nde(t,e,r){t.sendTelemetryEvent("reopenNotificationResult",{result:e,location:r})}function W_(t,e){return t===!1?t=1:t===void 0&&(t=-1),e===void 0&&(e=0),e<t}async function ide(t,e){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await U.window.showQuickPick(r,n);if(!i)return;let o=await We(t,e);i.detail&&await rf(t,i.detail,fn,H_(i.detail),o)}async function ode(t){let e=await Promise.all((await a3(t)).map(async n=>{let i=await(0,j_.promisify)(av.stat)(n.path),o=n.time;return{label:n.prefix,description:`${hl(o.getFullYear())}-${hl(o.getMonth())}-${hl(o.getDay())} ${hl(o.getHours())}:${hl(o.getMinutes())}:${hl(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));e.length||e.push({label:"No log files found."});let r=await U.window.showQuickPick(e,{placeHolder:"Choose a log file"});r&&r.path&&await U.window.showTextDocument(U.Uri.file(r.path))}function hl(t,e=2){let r=t.toString();for(;r.length<e;)r="0"+r;return r}async function sde(t,e,r){let n=(await a3(t)).find(i=>i.name.startsWith(e)&&i.path!==r);n?await U.window.showTextDocument(U.Uri.file(n.path)):await U.window.showInformationMessage("No previous log file found.",{modal:!0})}async function a3(t){let e=[],r=Ft.basename(t.logPath),n=Ft.dirname(Ft.dirname(Ft.dirname(t.logPath)));for(let i of(await G_(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=Ft.join(n,i);for(let a of await G_(s)){let c=Ft.join(s,a),l=Ft.join(c,r);for(let u of(await G_(l)).sort()){let d=Ft.join(l,u),f=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(u),p=f?new Date(`${f[1]}-${f[2]}-${f[3]}T${f[4]}:${f[5]}:${f[6]}.${f[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);e.push({name:u,path:d,time:p,prefix:f?u.substr(0,f.index-1):u.substr(0,u.length-4)})}}}}return e.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),e}async function G_(t){try{return await(0,j_.promisify)(av.readdir)(t)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
